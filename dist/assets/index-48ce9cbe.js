var mD=Object.defineProperty;var gD=(n,e,t)=>e in n?mD(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var q=(n,e,t)=>(gD(n,typeof e!="symbol"?e+"":e,t),t);function yD(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function AE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var NE={exports:{}},Ad={},OE={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pl=Symbol.for("react.element"),vD=Symbol.for("react.portal"),_D=Symbol.for("react.fragment"),wD=Symbol.for("react.strict_mode"),ED=Symbol.for("react.profiler"),TD=Symbol.for("react.provider"),SD=Symbol.for("react.context"),kD=Symbol.for("react.forward_ref"),ID=Symbol.for("react.suspense"),CD=Symbol.for("react.memo"),DD=Symbol.for("react.lazy"),Kv=Symbol.iterator;function PD(n){return n===null||typeof n!="object"?null:(n=Kv&&n[Kv]||n["@@iterator"],typeof n=="function"?n:null)}var ME={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LE=Object.assign,VE={};function Lo(n,e,t){this.props=n,this.context=e,this.refs=VE,this.updater=t||ME}Lo.prototype.isReactComponent={};Lo.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Lo.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function FE(){}FE.prototype=Lo.prototype;function Pm(n,e,t){this.props=n,this.context=e,this.refs=VE,this.updater=t||ME}var Rm=Pm.prototype=new FE;Rm.constructor=Pm;LE(Rm,Lo.prototype);Rm.isPureReactComponent=!0;var Qv=Array.isArray,UE=Object.prototype.hasOwnProperty,bm={current:null},jE={key:!0,ref:!0,__self:!0,__source:!0};function BE(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)UE.call(e,r)&&!jE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Pl,type:n,key:s,ref:o,props:i,_owner:bm.current}}function RD(n,e){return{$$typeof:Pl,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function xm(n){return typeof n=="object"&&n!==null&&n.$$typeof===Pl}function bD(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Gv=/\/+/g;function tf(n,e){return typeof n=="object"&&n!==null&&n.key!=null?bD(""+n.key):e.toString(36)}function Xu(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Pl:case vD:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+tf(o,0):r,Qv(i)?(t="",n!=null&&(t=n.replace(Gv,"$&/")+"/"),Xu(i,e,t,"",function(c){return c})):i!=null&&(xm(i)&&(i=RD(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Gv,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Qv(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+tf(s,a);o+=Xu(s,e,t,l,i)}else if(l=PD(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+tf(s,a++),o+=Xu(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function vu(n,e,t){if(n==null)return n;var r=[],i=0;return Xu(n,r,"","",function(s){return e.call(t,s,i++)}),r}function xD(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Lt={current:null},Ju={transition:null},AD={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:Ju,ReactCurrentOwner:bm};function $E(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:vu,forEach:function(n,e,t){vu(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return vu(n,function(){e++}),e},toArray:function(n){return vu(n,function(e){return e})||[]},only:function(n){if(!xm(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};ue.Component=Lo;ue.Fragment=_D;ue.Profiler=ED;ue.PureComponent=Pm;ue.StrictMode=wD;ue.Suspense=ID;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AD;ue.act=$E;ue.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=LE({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=bm.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)UE.call(e,l)&&!jE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Pl,type:n.type,key:i,ref:s,props:r,_owner:o}};ue.createContext=function(n){return n={$$typeof:SD,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:TD,_context:n},n.Consumer=n};ue.createElement=BE;ue.createFactory=function(n){var e=BE.bind(null,n);return e.type=n,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(n){return{$$typeof:kD,render:n}};ue.isValidElement=xm;ue.lazy=function(n){return{$$typeof:DD,_payload:{_status:-1,_result:n},_init:xD}};ue.memo=function(n,e){return{$$typeof:CD,type:n,compare:e===void 0?null:e}};ue.startTransition=function(n){var e=Ju.transition;Ju.transition={};try{n()}finally{Ju.transition=e}};ue.unstable_act=$E;ue.useCallback=function(n,e){return Lt.current.useCallback(n,e)};ue.useContext=function(n){return Lt.current.useContext(n)};ue.useDebugValue=function(){};ue.useDeferredValue=function(n){return Lt.current.useDeferredValue(n)};ue.useEffect=function(n,e){return Lt.current.useEffect(n,e)};ue.useId=function(){return Lt.current.useId()};ue.useImperativeHandle=function(n,e,t){return Lt.current.useImperativeHandle(n,e,t)};ue.useInsertionEffect=function(n,e){return Lt.current.useInsertionEffect(n,e)};ue.useLayoutEffect=function(n,e){return Lt.current.useLayoutEffect(n,e)};ue.useMemo=function(n,e){return Lt.current.useMemo(n,e)};ue.useReducer=function(n,e,t){return Lt.current.useReducer(n,e,t)};ue.useRef=function(n){return Lt.current.useRef(n)};ue.useState=function(n){return Lt.current.useState(n)};ue.useSyncExternalStore=function(n,e,t){return Lt.current.useSyncExternalStore(n,e,t)};ue.useTransition=function(){return Lt.current.useTransition()};ue.version="18.3.1";OE.exports=ue;var R=OE.exports;const F=AE(R),WE=yD({__proto__:null,default:F},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ND=R,OD=Symbol.for("react.element"),MD=Symbol.for("react.fragment"),LD=Object.prototype.hasOwnProperty,VD=ND.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FD={key:!0,ref:!0,__self:!0,__source:!0};function HE(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)LD.call(e,r)&&!FD.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:OD,type:n,key:s,ref:o,props:i,_owner:VD.current}}Ad.Fragment=MD;Ad.jsx=HE;Ad.jsxs=HE;NE.exports=Ad;var A=NE.exports,Dc={},zE={exports:{}},tn={},YE={exports:{}},qE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(j,Q){var J=j.length;j.push(Q);e:for(;0<J;){var he=J-1>>>1,ke=j[he];if(0<i(ke,Q))j[he]=Q,j[J]=ke,J=he;else break e}}function t(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var Q=j[0],J=j.pop();if(J!==Q){j[0]=J;e:for(var he=0,ke=j.length,qe=ke>>>1;he<qe;){var sr=2*(he+1)-1,or=j[sr],ar=sr+1,An=j[ar];if(0>i(or,J))ar<ke&&0>i(An,or)?(j[he]=An,j[ar]=J,he=ar):(j[he]=or,j[sr]=J,he=sr);else if(ar<ke&&0>i(An,J))j[he]=An,j[ar]=J,he=ar;else break e}}return Q}function i(j,Q){var J=j.sortIndex-Q.sortIndex;return J!==0?J:j.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,g=!1,w=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(j){for(var Q=t(c);Q!==null;){if(Q.callback===null)r(c);else if(Q.startTime<=j)r(c),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=t(c)}}function x(j){if(k=!1,E(j),!w)if(t(l)!==null)w=!0,Z(M);else{var Q=t(c);Q!==null&&ne(x,Q.startTime-j)}}function M(j,Q){w=!1,k&&(k=!1,_(v),v=-1),g=!0;var J=p;try{for(E(Q),h=t(l);h!==null&&(!(h.expirationTime>Q)||j&&!b());){var he=h.callback;if(typeof he=="function"){h.callback=null,p=h.priorityLevel;var ke=he(h.expirationTime<=Q);Q=n.unstable_now(),typeof ke=="function"?h.callback=ke:h===t(l)&&r(l),E(Q)}else r(l);h=t(l)}if(h!==null)var qe=!0;else{var sr=t(c);sr!==null&&ne(x,sr.startTime-Q),qe=!1}return qe}finally{h=null,p=J,g=!1}}var V=!1,I=null,v=-1,S=5,D=-1;function b(){return!(n.unstable_now()-D<S)}function N(){if(I!==null){var j=n.unstable_now();D=j;var Q=!0;try{Q=I(!0,j)}finally{Q?P():(V=!1,I=null)}}else V=!1}var P;if(typeof y=="function")P=function(){y(N)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,le=se.port2;se.port1.onmessage=N,P=function(){le.postMessage(null)}}else P=function(){C(N,0)};function Z(j){I=j,V||(V=!0,P())}function ne(j,Q){v=C(function(){j(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_continueExecution=function(){w||g||(w=!0,Z(M))},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(j){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var J=p;p=Q;try{return j()}finally{p=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(j,Q){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var J=p;p=j;try{return Q()}finally{p=J}},n.unstable_scheduleCallback=function(j,Q,J){var he=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?he+J:he):J=he,j){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=J+ke,j={id:d++,callback:Q,priorityLevel:j,startTime:J,expirationTime:ke,sortIndex:-1},J>he?(j.sortIndex=J,e(c,j),t(l)===null&&j===t(c)&&(k?(_(v),v=-1):k=!0,ne(x,J-he))):(j.sortIndex=ke,e(l,j),w||g||(w=!0,Z(M))),j},n.unstable_shouldYield=b,n.unstable_wrapCallback=function(j){var Q=p;return function(){var J=p;p=Q;try{return j.apply(this,arguments)}finally{p=J}}}})(qE);YE.exports=qE;var UD=YE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jD=R,en=UD;function $(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KE=new Set,Za={};function Ts(n,e){fo(n,e),fo(n+"Capture",e)}function fo(n,e){for(Za[n]=e,n=0;n<e.length;n++)KE.add(e[n])}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jf=Object.prototype.hasOwnProperty,BD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xv={},Jv={};function $D(n){return Jf.call(Jv,n)?!0:Jf.call(Xv,n)?!1:BD.test(n)?Jv[n]=!0:(Xv[n]=!0,!1)}function WD(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function HD(n,e,t,r){if(e===null||typeof e>"u"||WD(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vt(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){mt[n]=new Vt(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];mt[e]=new Vt(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){mt[n]=new Vt(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){mt[n]=new Vt(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){mt[n]=new Vt(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){mt[n]=new Vt(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){mt[n]=new Vt(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){mt[n]=new Vt(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){mt[n]=new Vt(n,5,!1,n.toLowerCase(),null,!1,!1)});var Am=/[\-:]([a-z])/g;function Nm(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Am,Nm);mt[e]=new Vt(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Am,Nm);mt[e]=new Vt(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Am,Nm);mt[e]=new Vt(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){mt[n]=new Vt(n,1,!1,n.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){mt[n]=new Vt(n,1,!1,n.toLowerCase(),null,!0,!0)});function Om(n,e,t,r){var i=mt.hasOwnProperty(e)?mt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HD(e,t,i,r)&&(t=null),r||i===null?$D(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Vr=jD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_u=Symbol.for("react.element"),Bs=Symbol.for("react.portal"),$s=Symbol.for("react.fragment"),Mm=Symbol.for("react.strict_mode"),Zf=Symbol.for("react.profiler"),QE=Symbol.for("react.provider"),GE=Symbol.for("react.context"),Lm=Symbol.for("react.forward_ref"),ep=Symbol.for("react.suspense"),tp=Symbol.for("react.suspense_list"),Vm=Symbol.for("react.memo"),Yr=Symbol.for("react.lazy"),XE=Symbol.for("react.offscreen"),Zv=Symbol.iterator;function la(n){return n===null||typeof n!="object"?null:(n=Zv&&n[Zv]||n["@@iterator"],typeof n=="function"?n:null)}var Ue=Object.assign,nf;function Ia(n){if(nf===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);nf=e&&e[1]||""}return`
`+nf+n}var rf=!1;function sf(n,e){if(!n||rf)return"";rf=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{rf=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Ia(n):""}function zD(n){switch(n.tag){case 5:return Ia(n.type);case 16:return Ia("Lazy");case 13:return Ia("Suspense");case 19:return Ia("SuspenseList");case 0:case 2:case 15:return n=sf(n.type,!1),n;case 11:return n=sf(n.type.render,!1),n;case 1:return n=sf(n.type,!0),n;default:return""}}function np(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case $s:return"Fragment";case Bs:return"Portal";case Zf:return"Profiler";case Mm:return"StrictMode";case ep:return"Suspense";case tp:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case GE:return(n.displayName||"Context")+".Consumer";case QE:return(n._context.displayName||"Context")+".Provider";case Lm:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Vm:return e=n.displayName||null,e!==null?e:np(n.type)||"Memo";case Yr:e=n._payload,n=n._init;try{return np(n(e))}catch{}}return null}function YD(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return np(e);case 8:return e===Mm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _i(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function JE(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qD(n){var e=JE(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function wu(n){n._valueTracker||(n._valueTracker=qD(n))}function ZE(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=JE(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Pc(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function rp(n,e){var t=e.checked;return Ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function e_(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=_i(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function eT(n,e){e=e.checked,e!=null&&Om(n,"checked",e,!1)}function ip(n,e){eT(n,e);var t=_i(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?sp(n,e.type,t):e.hasOwnProperty("defaultValue")&&sp(n,e.type,_i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function t_(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function sp(n,e,t){(e!=="number"||Pc(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Ca=Array.isArray;function eo(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+_i(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function op(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Ue({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function n_(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error($(92));if(Ca(t)){if(1<t.length)throw Error($(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:_i(t)}}function tT(n,e){var t=_i(e.value),r=_i(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function r_(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function nT(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ap(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?nT(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Eu,rT=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Eu=Eu||document.createElement("div"),Eu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Eu.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function el(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KD=["Webkit","ms","Moz","O"];Object.keys(Va).forEach(function(n){KD.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Va[e]=Va[n]})});function iT(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Va.hasOwnProperty(n)&&Va[n]?(""+e).trim():e+"px"}function sT(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=iT(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var QD=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lp(n,e){if(e){if(QD[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function up(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cp=null;function Fm(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var dp=null,to=null,no=null;function i_(n){if(n=xl(n)){if(typeof dp!="function")throw Error($(280));var e=n.stateNode;e&&(e=Vd(e),dp(n.stateNode,n.type,e))}}function oT(n){to?no?no.push(n):no=[n]:to=n}function aT(){if(to){var n=to,e=no;if(no=to=null,i_(n),e)for(n=0;n<e.length;n++)i_(e[n])}}function lT(n,e){return n(e)}function uT(){}var of=!1;function cT(n,e,t){if(of)return n(e,t);of=!0;try{return lT(n,e,t)}finally{of=!1,(to!==null||no!==null)&&(uT(),aT())}}function tl(n,e){var t=n.stateNode;if(t===null)return null;var r=Vd(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error($(231,e,typeof t));return t}var hp=!1;if(Cr)try{var ua={};Object.defineProperty(ua,"passive",{get:function(){hp=!0}}),window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{hp=!1}function GD(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var Fa=!1,Rc=null,bc=!1,fp=null,XD={onError:function(n){Fa=!0,Rc=n}};function JD(n,e,t,r,i,s,o,a,l){Fa=!1,Rc=null,GD.apply(XD,arguments)}function ZD(n,e,t,r,i,s,o,a,l){if(JD.apply(this,arguments),Fa){if(Fa){var c=Rc;Fa=!1,Rc=null}else throw Error($(198));bc||(bc=!0,fp=c)}}function Ss(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function dT(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function s_(n){if(Ss(n)!==n)throw Error($(188))}function eP(n){var e=n.alternate;if(!e){if(e=Ss(n),e===null)throw Error($(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return s_(i),n;if(s===r)return s_(i),e;s=s.sibling}throw Error($(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error($(189))}}if(t.alternate!==r)throw Error($(190))}if(t.tag!==3)throw Error($(188));return t.stateNode.current===t?n:e}function hT(n){return n=eP(n),n!==null?fT(n):null}function fT(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=fT(n);if(e!==null)return e;n=n.sibling}return null}var pT=en.unstable_scheduleCallback,o_=en.unstable_cancelCallback,tP=en.unstable_shouldYield,nP=en.unstable_requestPaint,Qe=en.unstable_now,rP=en.unstable_getCurrentPriorityLevel,Um=en.unstable_ImmediatePriority,mT=en.unstable_UserBlockingPriority,xc=en.unstable_NormalPriority,iP=en.unstable_LowPriority,gT=en.unstable_IdlePriority,Nd=null,Hn=null;function sP(n){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(Nd,n,void 0,(n.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:lP,oP=Math.log,aP=Math.LN2;function lP(n){return n>>>=0,n===0?32:31-(oP(n)/aP|0)|0}var Tu=64,Su=4194304;function Da(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ac(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Da(a):(s&=o,s!==0&&(r=Da(s)))}else o=t&~i,o!==0?r=Da(o):s!==0&&(r=Da(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Sn(e),i=1<<t,r|=n[t],e&=~i;return r}function uP(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cP(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Sn(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=uP(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function pp(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function yT(){var n=Tu;return Tu<<=1,!(Tu&4194240)&&(Tu=64),n}function af(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Rl(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Sn(e),n[e]=t}function dP(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Sn(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function jm(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Sn(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Te=0;function vT(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var _T,Bm,wT,ET,TT,mp=!1,ku=[],si=null,oi=null,ai=null,nl=new Map,rl=new Map,Kr=[],hP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function a_(n,e){switch(n){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":ai=null;break;case"pointerover":case"pointerout":nl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(e.pointerId)}}function ca(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=xl(e),e!==null&&Bm(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function fP(n,e,t,r,i){switch(e){case"focusin":return si=ca(si,n,e,t,r,i),!0;case"dragenter":return oi=ca(oi,n,e,t,r,i),!0;case"mouseover":return ai=ca(ai,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return nl.set(s,ca(nl.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rl.set(s,ca(rl.get(s)||null,n,e,t,r,i)),!0}return!1}function ST(n){var e=Ki(n.target);if(e!==null){var t=Ss(e);if(t!==null){if(e=t.tag,e===13){if(e=dT(t),e!==null){n.blockedOn=e,TT(n.priority,function(){wT(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Zu(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=gp(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);cp=r,t.target.dispatchEvent(r),cp=null}else return e=xl(t),e!==null&&Bm(e),n.blockedOn=t,!1;e.shift()}return!0}function l_(n,e,t){Zu(n)&&t.delete(e)}function pP(){mp=!1,si!==null&&Zu(si)&&(si=null),oi!==null&&Zu(oi)&&(oi=null),ai!==null&&Zu(ai)&&(ai=null),nl.forEach(l_),rl.forEach(l_)}function da(n,e){n.blockedOn===e&&(n.blockedOn=null,mp||(mp=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,pP)))}function il(n){function e(i){return da(i,n)}if(0<ku.length){da(ku[0],n);for(var t=1;t<ku.length;t++){var r=ku[t];r.blockedOn===n&&(r.blockedOn=null)}}for(si!==null&&da(si,n),oi!==null&&da(oi,n),ai!==null&&da(ai,n),nl.forEach(e),rl.forEach(e),t=0;t<Kr.length;t++)r=Kr[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Kr.length&&(t=Kr[0],t.blockedOn===null);)ST(t),t.blockedOn===null&&Kr.shift()}var ro=Vr.ReactCurrentBatchConfig,Nc=!0;function mP(n,e,t,r){var i=Te,s=ro.transition;ro.transition=null;try{Te=1,$m(n,e,t,r)}finally{Te=i,ro.transition=s}}function gP(n,e,t,r){var i=Te,s=ro.transition;ro.transition=null;try{Te=4,$m(n,e,t,r)}finally{Te=i,ro.transition=s}}function $m(n,e,t,r){if(Nc){var i=gp(n,e,t,r);if(i===null)yf(n,e,r,Oc,t),a_(n,r);else if(fP(i,n,e,t,r))r.stopPropagation();else if(a_(n,r),e&4&&-1<hP.indexOf(n)){for(;i!==null;){var s=xl(i);if(s!==null&&_T(s),s=gp(n,e,t,r),s===null&&yf(n,e,r,Oc,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else yf(n,e,r,null,t)}}var Oc=null;function gp(n,e,t,r){if(Oc=null,n=Fm(r),n=Ki(n),n!==null)if(e=Ss(n),e===null)n=null;else if(t=e.tag,t===13){if(n=dT(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Oc=n,null}function kT(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rP()){case Um:return 1;case mT:return 4;case xc:case iP:return 16;case gT:return 536870912;default:return 16}default:return 16}}var ti=null,Wm=null,ec=null;function IT(){if(ec)return ec;var n,e=Wm,t=e.length,r,i="value"in ti?ti.value:ti.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return ec=i.slice(n,1<r?1-r:void 0)}function tc(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Iu(){return!0}function u_(){return!1}function nn(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Iu:u_,this.isPropagationStopped=u_,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Iu)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Iu)},persist:function(){},isPersistent:Iu}),e}var Vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hm=nn(Vo),bl=Ue({},Vo,{view:0,detail:0}),yP=nn(bl),lf,uf,ha,Od=Ue({},bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zm,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ha&&(ha&&n.type==="mousemove"?(lf=n.screenX-ha.screenX,uf=n.screenY-ha.screenY):uf=lf=0,ha=n),lf)},movementY:function(n){return"movementY"in n?n.movementY:uf}}),c_=nn(Od),vP=Ue({},Od,{dataTransfer:0}),_P=nn(vP),wP=Ue({},bl,{relatedTarget:0}),cf=nn(wP),EP=Ue({},Vo,{animationName:0,elapsedTime:0,pseudoElement:0}),TP=nn(EP),SP=Ue({},Vo,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),kP=nn(SP),IP=Ue({},Vo,{data:0}),d_=nn(IP),CP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RP(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=PP[n])?!!e[n]:!1}function zm(){return RP}var bP=Ue({},bl,{key:function(n){if(n.key){var e=CP[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=tc(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?DP[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zm,charCode:function(n){return n.type==="keypress"?tc(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?tc(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),xP=nn(bP),AP=Ue({},Od,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),h_=nn(AP),NP=Ue({},bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zm}),OP=nn(NP),MP=Ue({},Vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),LP=nn(MP),VP=Ue({},Od,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),FP=nn(VP),UP=[9,13,27,32],Ym=Cr&&"CompositionEvent"in window,Ua=null;Cr&&"documentMode"in document&&(Ua=document.documentMode);var jP=Cr&&"TextEvent"in window&&!Ua,CT=Cr&&(!Ym||Ua&&8<Ua&&11>=Ua),f_=String.fromCharCode(32),p_=!1;function DT(n,e){switch(n){case"keyup":return UP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PT(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ws=!1;function BP(n,e){switch(n){case"compositionend":return PT(e);case"keypress":return e.which!==32?null:(p_=!0,f_);case"textInput":return n=e.data,n===f_&&p_?null:n;default:return null}}function $P(n,e){if(Ws)return n==="compositionend"||!Ym&&DT(n,e)?(n=IT(),ec=Wm=ti=null,Ws=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CT&&e.locale!=="ko"?null:e.data;default:return null}}var WP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function m_(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!WP[n.type]:e==="textarea"}function RT(n,e,t,r){oT(r),e=Mc(e,"onChange"),0<e.length&&(t=new Hm("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var ja=null,sl=null;function HP(n){jT(n,0)}function Md(n){var e=Ys(n);if(ZE(e))return n}function zP(n,e){if(n==="change")return e}var bT=!1;if(Cr){var df;if(Cr){var hf="oninput"in document;if(!hf){var g_=document.createElement("div");g_.setAttribute("oninput","return;"),hf=typeof g_.oninput=="function"}df=hf}else df=!1;bT=df&&(!document.documentMode||9<document.documentMode)}function y_(){ja&&(ja.detachEvent("onpropertychange",xT),sl=ja=null)}function xT(n){if(n.propertyName==="value"&&Md(sl)){var e=[];RT(e,sl,n,Fm(n)),cT(HP,e)}}function YP(n,e,t){n==="focusin"?(y_(),ja=e,sl=t,ja.attachEvent("onpropertychange",xT)):n==="focusout"&&y_()}function qP(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Md(sl)}function KP(n,e){if(n==="click")return Md(e)}function QP(n,e){if(n==="input"||n==="change")return Md(e)}function GP(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Cn=typeof Object.is=="function"?Object.is:GP;function ol(n,e){if(Cn(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!Jf.call(e,i)||!Cn(n[i],e[i]))return!1}return!0}function v_(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function __(n,e){var t=v_(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=v_(t)}}function AT(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?AT(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function NT(){for(var n=window,e=Pc();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Pc(n.document)}return e}function qm(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function XP(n){var e=NT(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&AT(t.ownerDocument.documentElement,t)){if(r!==null&&qm(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=__(t,s);var o=__(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var JP=Cr&&"documentMode"in document&&11>=document.documentMode,Hs=null,yp=null,Ba=null,vp=!1;function w_(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;vp||Hs==null||Hs!==Pc(r)||(r=Hs,"selectionStart"in r&&qm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ba&&ol(Ba,r)||(Ba=r,r=Mc(yp,"onSelect"),0<r.length&&(e=new Hm("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Hs)))}function Cu(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var zs={animationend:Cu("Animation","AnimationEnd"),animationiteration:Cu("Animation","AnimationIteration"),animationstart:Cu("Animation","AnimationStart"),transitionend:Cu("Transition","TransitionEnd")},ff={},OT={};Cr&&(OT=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Ld(n){if(ff[n])return ff[n];if(!zs[n])return n;var e=zs[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in OT)return ff[n]=e[t];return n}var MT=Ld("animationend"),LT=Ld("animationiteration"),VT=Ld("animationstart"),FT=Ld("transitionend"),UT=new Map,E_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(n,e){UT.set(n,e),Ts(e,[n])}for(var pf=0;pf<E_.length;pf++){var mf=E_[pf],ZP=mf.toLowerCase(),eR=mf[0].toUpperCase()+mf.slice(1);Ai(ZP,"on"+eR)}Ai(MT,"onAnimationEnd");Ai(LT,"onAnimationIteration");Ai(VT,"onAnimationStart");Ai("dblclick","onDoubleClick");Ai("focusin","onFocus");Ai("focusout","onBlur");Ai(FT,"onTransitionEnd");fo("onMouseEnter",["mouseout","mouseover"]);fo("onMouseLeave",["mouseout","mouseover"]);fo("onPointerEnter",["pointerout","pointerover"]);fo("onPointerLeave",["pointerout","pointerover"]);Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pa));function T_(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,ZD(r,e,void 0,n),n.currentTarget=null}function jT(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;T_(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;T_(i,a,c),s=l}}}if(bc)throw n=fp,bc=!1,fp=null,n}function Re(n,e){var t=e[Sp];t===void 0&&(t=e[Sp]=new Set);var r=n+"__bubble";t.has(r)||(BT(e,n,2,!1),t.add(r))}function gf(n,e,t){var r=0;e&&(r|=4),BT(t,n,r,e)}var Du="_reactListening"+Math.random().toString(36).slice(2);function al(n){if(!n[Du]){n[Du]=!0,KE.forEach(function(t){t!=="selectionchange"&&(tR.has(t)||gf(t,!1,n),gf(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Du]||(e[Du]=!0,gf("selectionchange",!1,e))}}function BT(n,e,t,r){switch(kT(e)){case 1:var i=mP;break;case 4:i=gP;break;default:i=$m}t=i.bind(null,e,t,n),i=void 0,!hp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function yf(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ki(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}cT(function(){var c=s,d=Fm(t),h=[];e:{var p=UT.get(n);if(p!==void 0){var g=Hm,w=n;switch(n){case"keypress":if(tc(t)===0)break e;case"keydown":case"keyup":g=xP;break;case"focusin":w="focus",g=cf;break;case"focusout":w="blur",g=cf;break;case"beforeblur":case"afterblur":g=cf;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=c_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=_P;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=OP;break;case MT:case LT:case VT:g=TP;break;case FT:g=LP;break;case"scroll":g=yP;break;case"wheel":g=FP;break;case"copy":case"cut":case"paste":g=kP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=h_}var k=(e&4)!==0,C=!k&&n==="scroll",_=k?p!==null?p+"Capture":null:p;k=[];for(var y=c,E;y!==null;){E=y;var x=E.stateNode;if(E.tag===5&&x!==null&&(E=x,_!==null&&(x=tl(y,_),x!=null&&k.push(ll(y,x,E)))),C)break;y=y.return}0<k.length&&(p=new g(p,w,null,t,d),h.push({event:p,listeners:k}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",p&&t!==cp&&(w=t.relatedTarget||t.fromElement)&&(Ki(w)||w[Dr]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=t.relatedTarget||t.toElement,g=c,w=w?Ki(w):null,w!==null&&(C=Ss(w),w!==C||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(k=c_,x="onMouseLeave",_="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(k=h_,x="onPointerLeave",_="onPointerEnter",y="pointer"),C=g==null?p:Ys(g),E=w==null?p:Ys(w),p=new k(x,y+"leave",g,t,d),p.target=C,p.relatedTarget=E,x=null,Ki(d)===c&&(k=new k(_,y+"enter",w,t,d),k.target=E,k.relatedTarget=C,x=k),C=x,g&&w)t:{for(k=g,_=w,y=0,E=k;E;E=Os(E))y++;for(E=0,x=_;x;x=Os(x))E++;for(;0<y-E;)k=Os(k),y--;for(;0<E-y;)_=Os(_),E--;for(;y--;){if(k===_||_!==null&&k===_.alternate)break t;k=Os(k),_=Os(_)}k=null}else k=null;g!==null&&S_(h,p,g,k,!1),w!==null&&C!==null&&S_(h,C,w,k,!0)}}e:{if(p=c?Ys(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var M=zP;else if(m_(p))if(bT)M=QP;else{M=qP;var V=YP}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=KP);if(M&&(M=M(n,c))){RT(h,M,t,d);break e}V&&V(n,p,c),n==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&sp(p,"number",p.value)}switch(V=c?Ys(c):window,n){case"focusin":(m_(V)||V.contentEditable==="true")&&(Hs=V,yp=c,Ba=null);break;case"focusout":Ba=yp=Hs=null;break;case"mousedown":vp=!0;break;case"contextmenu":case"mouseup":case"dragend":vp=!1,w_(h,t,d);break;case"selectionchange":if(JP)break;case"keydown":case"keyup":w_(h,t,d)}var I;if(Ym)e:{switch(n){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ws?DT(n,t)&&(v="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(v="onCompositionStart");v&&(CT&&t.locale!=="ko"&&(Ws||v!=="onCompositionStart"?v==="onCompositionEnd"&&Ws&&(I=IT()):(ti=d,Wm="value"in ti?ti.value:ti.textContent,Ws=!0)),V=Mc(c,v),0<V.length&&(v=new d_(v,n,null,t,d),h.push({event:v,listeners:V}),I?v.data=I:(I=PT(t),I!==null&&(v.data=I)))),(I=jP?BP(n,t):$P(n,t))&&(c=Mc(c,"onBeforeInput"),0<c.length&&(d=new d_("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:c}),d.data=I))}jT(h,e)})}function ll(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Mc(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=tl(n,t),s!=null&&r.unshift(ll(n,s,i)),s=tl(n,e),s!=null&&r.push(ll(n,s,i))),n=n.return}return r}function Os(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function S_(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=tl(t,s),l!=null&&o.unshift(ll(t,l,a))):i||(l=tl(t,s),l!=null&&o.push(ll(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var nR=/\r\n?/g,rR=/\u0000|\uFFFD/g;function k_(n){return(typeof n=="string"?n:""+n).replace(nR,`
`).replace(rR,"")}function Pu(n,e,t){if(e=k_(e),k_(n)!==e&&t)throw Error($(425))}function Lc(){}var _p=null,wp=null;function Ep(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tp=typeof setTimeout=="function"?setTimeout:void 0,iR=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,sR=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(n){return I_.resolve(null).then(n).catch(oR)}:Tp;function oR(n){setTimeout(function(){throw n})}function vf(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),il(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);il(e)}function li(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function C_(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Fo=Math.random().toString(36).slice(2),Fn="__reactFiber$"+Fo,ul="__reactProps$"+Fo,Dr="__reactContainer$"+Fo,Sp="__reactEvents$"+Fo,aR="__reactListeners$"+Fo,lR="__reactHandles$"+Fo;function Ki(n){var e=n[Fn];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Dr]||t[Fn]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=C_(n);n!==null;){if(t=n[Fn])return t;n=C_(n)}return e}n=t,t=n.parentNode}return null}function xl(n){return n=n[Fn]||n[Dr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ys(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error($(33))}function Vd(n){return n[ul]||null}var kp=[],qs=-1;function Ni(n){return{current:n}}function xe(n){0>qs||(n.current=kp[qs],kp[qs]=null,qs--)}function De(n,e){qs++,kp[qs]=n.current,n.current=e}var wi={},Dt=Ni(wi),$t=Ni(!1),ls=wi;function po(n,e){var t=n.type.contextTypes;if(!t)return wi;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Wt(n){return n=n.childContextTypes,n!=null}function Vc(){xe($t),xe(Dt)}function D_(n,e,t){if(Dt.current!==wi)throw Error($(168));De(Dt,e),De($t,t)}function $T(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,YD(n)||"Unknown",i));return Ue({},t,r)}function Fc(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||wi,ls=Dt.current,De(Dt,n),De($t,$t.current),!0}function P_(n,e,t){var r=n.stateNode;if(!r)throw Error($(169));t?(n=$T(n,e,ls),r.__reactInternalMemoizedMergedChildContext=n,xe($t),xe(Dt),De(Dt,n)):xe($t),De($t,t)}var hr=null,Fd=!1,_f=!1;function WT(n){hr===null?hr=[n]:hr.push(n)}function uR(n){Fd=!0,WT(n)}function Oi(){if(!_f&&hr!==null){_f=!0;var n=0,e=Te;try{var t=hr;for(Te=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}hr=null,Fd=!1}catch(i){throw hr!==null&&(hr=hr.slice(n+1)),pT(Um,Oi),i}finally{Te=e,_f=!1}}return null}var Ks=[],Qs=0,Uc=null,jc=0,on=[],an=0,us=null,fr=1,pr="";function Hi(n,e){Ks[Qs++]=jc,Ks[Qs++]=Uc,Uc=n,jc=e}function HT(n,e,t){on[an++]=fr,on[an++]=pr,on[an++]=us,us=n;var r=fr;n=pr;var i=32-Sn(r)-1;r&=~(1<<i),t+=1;var s=32-Sn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,fr=1<<32-Sn(e)+i|t<<i|r,pr=s+n}else fr=1<<s|t<<i|r,pr=n}function Km(n){n.return!==null&&(Hi(n,1),HT(n,1,0))}function Qm(n){for(;n===Uc;)Uc=Ks[--Qs],Ks[Qs]=null,jc=Ks[--Qs],Ks[Qs]=null;for(;n===us;)us=on[--an],on[an]=null,pr=on[--an],on[an]=null,fr=on[--an],on[an]=null}var Jt=null,Qt=null,Ae=!1,wn=null;function zT(n,e){var t=cn(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function R_(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Jt=n,Qt=li(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Jt=n,Qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=us!==null?{id:fr,overflow:pr}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=cn(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Jt=n,Qt=null,!0):!1;default:return!1}}function Ip(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Cp(n){if(Ae){var e=Qt;if(e){var t=e;if(!R_(n,e)){if(Ip(n))throw Error($(418));e=li(t.nextSibling);var r=Jt;e&&R_(n,e)?zT(r,t):(n.flags=n.flags&-4097|2,Ae=!1,Jt=n)}}else{if(Ip(n))throw Error($(418));n.flags=n.flags&-4097|2,Ae=!1,Jt=n}}}function b_(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Jt=n}function Ru(n){if(n!==Jt)return!1;if(!Ae)return b_(n),Ae=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Ep(n.type,n.memoizedProps)),e&&(e=Qt)){if(Ip(n))throw YT(),Error($(418));for(;e;)zT(n,e),e=li(e.nextSibling)}if(b_(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error($(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Qt=li(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Qt=null}}else Qt=Jt?li(n.stateNode.nextSibling):null;return!0}function YT(){for(var n=Qt;n;)n=li(n.nextSibling)}function mo(){Qt=Jt=null,Ae=!1}function Gm(n){wn===null?wn=[n]:wn.push(n)}var cR=Vr.ReactCurrentBatchConfig;function fa(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error($(309));var r=t.stateNode}if(!r)throw Error($(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error($(284));if(!t._owner)throw Error($(290,n))}return n}function bu(n,e){throw n=Object.prototype.toString.call(e),Error($(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function x_(n){var e=n._init;return e(n._payload)}function qT(n){function e(_,y){if(n){var E=_.deletions;E===null?(_.deletions=[y],_.flags|=16):E.push(y)}}function t(_,y){if(!n)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function i(_,y){return _=hi(_,y),_.index=0,_.sibling=null,_}function s(_,y,E){return _.index=E,n?(E=_.alternate,E!==null?(E=E.index,E<y?(_.flags|=2,y):E):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return n&&_.alternate===null&&(_.flags|=2),_}function a(_,y,E,x){return y===null||y.tag!==6?(y=Cf(E,_.mode,x),y.return=_,y):(y=i(y,E),y.return=_,y)}function l(_,y,E,x){var M=E.type;return M===$s?d(_,y,E.props.children,x,E.key):y!==null&&(y.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Yr&&x_(M)===y.type)?(x=i(y,E.props),x.ref=fa(_,y,E),x.return=_,x):(x=lc(E.type,E.key,E.props,null,_.mode,x),x.ref=fa(_,y,E),x.return=_,x)}function c(_,y,E,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=Df(E,_.mode,x),y.return=_,y):(y=i(y,E.children||[]),y.return=_,y)}function d(_,y,E,x,M){return y===null||y.tag!==7?(y=ts(E,_.mode,x,M),y.return=_,y):(y=i(y,E),y.return=_,y)}function h(_,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Cf(""+y,_.mode,E),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _u:return E=lc(y.type,y.key,y.props,null,_.mode,E),E.ref=fa(_,null,y),E.return=_,E;case Bs:return y=Df(y,_.mode,E),y.return=_,y;case Yr:var x=y._init;return h(_,x(y._payload),E)}if(Ca(y)||la(y))return y=ts(y,_.mode,E,null),y.return=_,y;bu(_,y)}return null}function p(_,y,E,x){var M=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return M!==null?null:a(_,y,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case _u:return E.key===M?l(_,y,E,x):null;case Bs:return E.key===M?c(_,y,E,x):null;case Yr:return M=E._init,p(_,y,M(E._payload),x)}if(Ca(E)||la(E))return M!==null?null:d(_,y,E,x,null);bu(_,E)}return null}function g(_,y,E,x,M){if(typeof x=="string"&&x!==""||typeof x=="number")return _=_.get(E)||null,a(y,_,""+x,M);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case _u:return _=_.get(x.key===null?E:x.key)||null,l(y,_,x,M);case Bs:return _=_.get(x.key===null?E:x.key)||null,c(y,_,x,M);case Yr:var V=x._init;return g(_,y,E,V(x._payload),M)}if(Ca(x)||la(x))return _=_.get(E)||null,d(y,_,x,M,null);bu(y,x)}return null}function w(_,y,E,x){for(var M=null,V=null,I=y,v=y=0,S=null;I!==null&&v<E.length;v++){I.index>v?(S=I,I=null):S=I.sibling;var D=p(_,I,E[v],x);if(D===null){I===null&&(I=S);break}n&&I&&D.alternate===null&&e(_,I),y=s(D,y,v),V===null?M=D:V.sibling=D,V=D,I=S}if(v===E.length)return t(_,I),Ae&&Hi(_,v),M;if(I===null){for(;v<E.length;v++)I=h(_,E[v],x),I!==null&&(y=s(I,y,v),V===null?M=I:V.sibling=I,V=I);return Ae&&Hi(_,v),M}for(I=r(_,I);v<E.length;v++)S=g(I,_,v,E[v],x),S!==null&&(n&&S.alternate!==null&&I.delete(S.key===null?v:S.key),y=s(S,y,v),V===null?M=S:V.sibling=S,V=S);return n&&I.forEach(function(b){return e(_,b)}),Ae&&Hi(_,v),M}function k(_,y,E,x){var M=la(E);if(typeof M!="function")throw Error($(150));if(E=M.call(E),E==null)throw Error($(151));for(var V=M=null,I=y,v=y=0,S=null,D=E.next();I!==null&&!D.done;v++,D=E.next()){I.index>v?(S=I,I=null):S=I.sibling;var b=p(_,I,D.value,x);if(b===null){I===null&&(I=S);break}n&&I&&b.alternate===null&&e(_,I),y=s(b,y,v),V===null?M=b:V.sibling=b,V=b,I=S}if(D.done)return t(_,I),Ae&&Hi(_,v),M;if(I===null){for(;!D.done;v++,D=E.next())D=h(_,D.value,x),D!==null&&(y=s(D,y,v),V===null?M=D:V.sibling=D,V=D);return Ae&&Hi(_,v),M}for(I=r(_,I);!D.done;v++,D=E.next())D=g(I,_,v,D.value,x),D!==null&&(n&&D.alternate!==null&&I.delete(D.key===null?v:D.key),y=s(D,y,v),V===null?M=D:V.sibling=D,V=D);return n&&I.forEach(function(N){return e(_,N)}),Ae&&Hi(_,v),M}function C(_,y,E,x){if(typeof E=="object"&&E!==null&&E.type===$s&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case _u:e:{for(var M=E.key,V=y;V!==null;){if(V.key===M){if(M=E.type,M===$s){if(V.tag===7){t(_,V.sibling),y=i(V,E.props.children),y.return=_,_=y;break e}}else if(V.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Yr&&x_(M)===V.type){t(_,V.sibling),y=i(V,E.props),y.ref=fa(_,V,E),y.return=_,_=y;break e}t(_,V);break}else e(_,V);V=V.sibling}E.type===$s?(y=ts(E.props.children,_.mode,x,E.key),y.return=_,_=y):(x=lc(E.type,E.key,E.props,null,_.mode,x),x.ref=fa(_,y,E),x.return=_,_=x)}return o(_);case Bs:e:{for(V=E.key;y!==null;){if(y.key===V)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){t(_,y.sibling),y=i(y,E.children||[]),y.return=_,_=y;break e}else{t(_,y);break}else e(_,y);y=y.sibling}y=Df(E,_.mode,x),y.return=_,_=y}return o(_);case Yr:return V=E._init,C(_,y,V(E._payload),x)}if(Ca(E))return w(_,y,E,x);if(la(E))return k(_,y,E,x);bu(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(t(_,y.sibling),y=i(y,E),y.return=_,_=y):(t(_,y),y=Cf(E,_.mode,x),y.return=_,_=y),o(_)):t(_,y)}return C}var go=qT(!0),KT=qT(!1),Bc=Ni(null),$c=null,Gs=null,Xm=null;function Jm(){Xm=Gs=$c=null}function Zm(n){var e=Bc.current;xe(Bc),n._currentValue=e}function Dp(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function io(n,e){$c=n,Xm=Gs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Bt=!0),n.firstContext=null)}function fn(n){var e=n._currentValue;if(Xm!==n)if(n={context:n,memoizedValue:e,next:null},Gs===null){if($c===null)throw Error($(308));Gs=n,$c.dependencies={lanes:0,firstContext:n}}else Gs=Gs.next=n;return e}var Qi=null;function eg(n){Qi===null?Qi=[n]:Qi.push(n)}function QT(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,eg(e)):(t.next=i.next,i.next=t),e.interleaved=t,Pr(n,r)}function Pr(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var qr=!1;function tg(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GT(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function yr(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ui(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Pr(n,t)}return i=r.interleaved,i===null?(e.next=e,eg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Pr(n,t)}function nc(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,jm(n,t)}}function A_(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Wc(n,e,t,r){var i=n.updateQueue;qr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=n,k=a;switch(p=e,g=t,k.tag){case 1:if(w=k.payload,typeof w=="function"){h=w.call(g,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=k.payload,p=typeof w=="function"?w.call(g,h,p):w,p==null)break e;h=Ue({},h,p);break e;case 2:qr=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ds|=o,n.lanes=o,n.memoizedState=h}}function N_(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error($(191,i));i.call(r)}}}var Al={},zn=Ni(Al),cl=Ni(Al),dl=Ni(Al);function Gi(n){if(n===Al)throw Error($(174));return n}function ng(n,e){switch(De(dl,e),De(cl,n),De(zn,Al),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ap(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=ap(e,n)}xe(zn),De(zn,e)}function yo(){xe(zn),xe(cl),xe(dl)}function XT(n){Gi(dl.current);var e=Gi(zn.current),t=ap(e,n.type);e!==t&&(De(cl,n),De(zn,t))}function rg(n){cl.current===n&&(xe(zn),xe(cl))}var Le=Ni(0);function Hc(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wf=[];function ig(){for(var n=0;n<wf.length;n++)wf[n]._workInProgressVersionPrimary=null;wf.length=0}var rc=Vr.ReactCurrentDispatcher,Ef=Vr.ReactCurrentBatchConfig,cs=0,Fe=null,nt=null,ot=null,zc=!1,$a=!1,hl=0,dR=0;function wt(){throw Error($(321))}function sg(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Cn(n[t],e[t]))return!1;return!0}function og(n,e,t,r,i,s){if(cs=s,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rc.current=n===null||n.memoizedState===null?mR:gR,n=t(r,i),$a){s=0;do{if($a=!1,hl=0,25<=s)throw Error($(301));s+=1,ot=nt=null,e.updateQueue=null,rc.current=yR,n=t(r,i)}while($a)}if(rc.current=Yc,e=nt!==null&&nt.next!==null,cs=0,ot=nt=Fe=null,zc=!1,e)throw Error($(300));return n}function ag(){var n=hl!==0;return hl=0,n}function On(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Fe.memoizedState=ot=n:ot=ot.next=n,ot}function pn(){if(nt===null){var n=Fe.alternate;n=n!==null?n.memoizedState:null}else n=nt.next;var e=ot===null?Fe.memoizedState:ot.next;if(e!==null)ot=e,nt=n;else{if(n===null)throw Error($(310));nt=n,n={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ot===null?Fe.memoizedState=ot=n:ot=ot.next=n}return ot}function fl(n,e){return typeof e=="function"?e(n):e}function Tf(n){var e=pn(),t=e.queue;if(t===null)throw Error($(311));t.lastRenderedReducer=n;var r=nt,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((cs&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Fe.lanes|=d,ds|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Cn(r,e.memoizedState)||(Bt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Fe.lanes|=s,ds|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Sf(n){var e=pn(),t=e.queue;if(t===null)throw Error($(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Cn(s,e.memoizedState)||(Bt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function JT(){}function ZT(n,e){var t=Fe,r=pn(),i=e(),s=!Cn(r.memoizedState,i);if(s&&(r.memoizedState=i,Bt=!0),r=r.queue,lg(n1.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||ot!==null&&ot.memoizedState.tag&1){if(t.flags|=2048,pl(9,t1.bind(null,t,r,i,e),void 0,null),at===null)throw Error($(349));cs&30||e1(t,e,i)}return i}function e1(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function t1(n,e,t,r){e.value=t,e.getSnapshot=r,r1(e)&&i1(n)}function n1(n,e,t){return t(function(){r1(e)&&i1(n)})}function r1(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Cn(n,t)}catch{return!0}}function i1(n){var e=Pr(n,1);e!==null&&kn(e,n,1,-1)}function O_(n){var e=On();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:n},e.queue=n,n=n.dispatch=pR.bind(null,Fe,n),[e.memoizedState,n]}function pl(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function s1(){return pn().memoizedState}function ic(n,e,t,r){var i=On();Fe.flags|=n,i.memoizedState=pl(1|e,t,void 0,r===void 0?null:r)}function Ud(n,e,t,r){var i=pn();r=r===void 0?null:r;var s=void 0;if(nt!==null){var o=nt.memoizedState;if(s=o.destroy,r!==null&&sg(r,o.deps)){i.memoizedState=pl(e,t,s,r);return}}Fe.flags|=n,i.memoizedState=pl(1|e,t,s,r)}function M_(n,e){return ic(8390656,8,n,e)}function lg(n,e){return Ud(2048,8,n,e)}function o1(n,e){return Ud(4,2,n,e)}function a1(n,e){return Ud(4,4,n,e)}function l1(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function u1(n,e,t){return t=t!=null?t.concat([n]):null,Ud(4,4,l1.bind(null,e,n),t)}function ug(){}function c1(n,e){var t=pn();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&sg(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function d1(n,e){var t=pn();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&sg(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function h1(n,e,t){return cs&21?(Cn(t,e)||(t=yT(),Fe.lanes|=t,ds|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Bt=!0),n.memoizedState=t)}function hR(n,e){var t=Te;Te=t!==0&&4>t?t:4,n(!0);var r=Ef.transition;Ef.transition={};try{n(!1),e()}finally{Te=t,Ef.transition=r}}function f1(){return pn().memoizedState}function fR(n,e,t){var r=di(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},p1(n))m1(e,t);else if(t=QT(n,e,t,r),t!==null){var i=Mt();kn(t,n,r,i),g1(t,e,r)}}function pR(n,e,t){var r=di(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(p1(n))m1(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Cn(a,o)){var l=e.interleaved;l===null?(i.next=i,eg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=QT(n,e,i,r),t!==null&&(i=Mt(),kn(t,n,r,i),g1(t,e,r))}}function p1(n){var e=n.alternate;return n===Fe||e!==null&&e===Fe}function m1(n,e){$a=zc=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function g1(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,jm(n,t)}}var Yc={readContext:fn,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},mR={readContext:fn,useCallback:function(n,e){return On().memoizedState=[n,e===void 0?null:e],n},useContext:fn,useEffect:M_,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,ic(4194308,4,l1.bind(null,e,n),t)},useLayoutEffect:function(n,e){return ic(4194308,4,n,e)},useInsertionEffect:function(n,e){return ic(4,2,n,e)},useMemo:function(n,e){var t=On();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=On();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=fR.bind(null,Fe,n),[r.memoizedState,n]},useRef:function(n){var e=On();return n={current:n},e.memoizedState=n},useState:O_,useDebugValue:ug,useDeferredValue:function(n){return On().memoizedState=n},useTransition:function(){var n=O_(!1),e=n[0];return n=hR.bind(null,n[1]),On().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Fe,i=On();if(Ae){if(t===void 0)throw Error($(407));t=t()}else{if(t=e(),at===null)throw Error($(349));cs&30||e1(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,M_(n1.bind(null,r,s,n),[n]),r.flags|=2048,pl(9,t1.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=On(),e=at.identifierPrefix;if(Ae){var t=pr,r=fr;t=(r&~(1<<32-Sn(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=hl++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=dR++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},gR={readContext:fn,useCallback:c1,useContext:fn,useEffect:lg,useImperativeHandle:u1,useInsertionEffect:o1,useLayoutEffect:a1,useMemo:d1,useReducer:Tf,useRef:s1,useState:function(){return Tf(fl)},useDebugValue:ug,useDeferredValue:function(n){var e=pn();return h1(e,nt.memoizedState,n)},useTransition:function(){var n=Tf(fl)[0],e=pn().memoizedState;return[n,e]},useMutableSource:JT,useSyncExternalStore:ZT,useId:f1,unstable_isNewReconciler:!1},yR={readContext:fn,useCallback:c1,useContext:fn,useEffect:lg,useImperativeHandle:u1,useInsertionEffect:o1,useLayoutEffect:a1,useMemo:d1,useReducer:Sf,useRef:s1,useState:function(){return Sf(fl)},useDebugValue:ug,useDeferredValue:function(n){var e=pn();return nt===null?e.memoizedState=n:h1(e,nt.memoizedState,n)},useTransition:function(){var n=Sf(fl)[0],e=pn().memoizedState;return[n,e]},useMutableSource:JT,useSyncExternalStore:ZT,useId:f1,unstable_isNewReconciler:!1};function vn(n,e){if(n&&n.defaultProps){e=Ue({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Pp(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Ue({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var jd={isMounted:function(n){return(n=n._reactInternals)?Ss(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Mt(),i=di(n),s=yr(r,i);s.payload=e,t!=null&&(s.callback=t),e=ui(n,s,i),e!==null&&(kn(e,n,i,r),nc(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Mt(),i=di(n),s=yr(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=ui(n,s,i),e!==null&&(kn(e,n,i,r),nc(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Mt(),r=di(n),i=yr(t,r);i.tag=2,e!=null&&(i.callback=e),e=ui(n,i,r),e!==null&&(kn(e,n,r,t),nc(e,n,r))}};function L_(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ol(t,r)||!ol(i,s):!0}function y1(n,e,t){var r=!1,i=wi,s=e.contextType;return typeof s=="object"&&s!==null?s=fn(s):(i=Wt(e)?ls:Dt.current,r=e.contextTypes,s=(r=r!=null)?po(n,i):wi),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jd,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function V_(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&jd.enqueueReplaceState(e,e.state,null)}function Rp(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},tg(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=fn(s):(s=Wt(e)?ls:Dt.current,i.context=po(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Pp(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&jd.enqueueReplaceState(i,i.state,null),Wc(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function vo(n,e){try{var t="",r=e;do t+=zD(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function kf(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function bp(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var vR=typeof WeakMap=="function"?WeakMap:Map;function v1(n,e,t){t=yr(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Kc||(Kc=!0,jp=r),bp(n,e)},t}function _1(n,e,t){t=yr(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){bp(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){bp(n,e),typeof r!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function F_(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new vR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=AR.bind(null,n,e,t),e.then(n,n))}function U_(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function j_(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=yr(-1,1),e.tag=2,ui(t,e,1))),t.lanes|=1),n)}var _R=Vr.ReactCurrentOwner,Bt=!1;function At(n,e,t,r){e.child=n===null?KT(e,null,t,r):go(e,n.child,t,r)}function B_(n,e,t,r,i){t=t.render;var s=e.ref;return io(e,i),r=og(n,e,t,r,s,i),t=ag(),n!==null&&!Bt?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Rr(n,e,i)):(Ae&&t&&Km(e),e.flags|=1,At(n,e,r,i),e.child)}function $_(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!yg(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,w1(n,e,s,r,i)):(n=lc(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:ol,t(o,r)&&n.ref===e.ref)return Rr(n,e,i)}return e.flags|=1,n=hi(s,r),n.ref=e.ref,n.return=e,e.child=n}function w1(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(ol(s,r)&&n.ref===e.ref)if(Bt=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Bt=!0);else return e.lanes=n.lanes,Rr(n,e,i)}return xp(n,e,t,r,i)}function E1(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Js,qt),qt|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,De(Js,qt),qt|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,De(Js,qt),qt|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,De(Js,qt),qt|=r;return At(n,e,i,t),e.child}function T1(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function xp(n,e,t,r,i){var s=Wt(t)?ls:Dt.current;return s=po(e,s),io(e,i),t=og(n,e,t,r,s,i),r=ag(),n!==null&&!Bt?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Rr(n,e,i)):(Ae&&r&&Km(e),e.flags|=1,At(n,e,t,i),e.child)}function W_(n,e,t,r,i){if(Wt(t)){var s=!0;Fc(e)}else s=!1;if(io(e,i),e.stateNode===null)sc(n,e),y1(e,t,r),Rp(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=fn(c):(c=Wt(t)?ls:Dt.current,c=po(e,c));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&V_(e,o,r,c),qr=!1;var p=e.memoizedState;o.state=p,Wc(e,r,o,i),l=e.memoizedState,a!==r||p!==l||$t.current||qr?(typeof d=="function"&&(Pp(e,t,d,r),l=e.memoizedState),(a=qr||L_(e,t,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,GT(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:vn(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=fn(l):(l=Wt(t)?ls:Dt.current,l=po(e,l));var g=t.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&V_(e,o,r,l),qr=!1,p=e.memoizedState,o.state=p,Wc(e,r,o,i);var w=e.memoizedState;a!==h||p!==w||$t.current||qr?(typeof g=="function"&&(Pp(e,t,g,r),w=e.memoizedState),(c=qr||L_(e,t,c,r,p,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return Ap(n,e,t,r,s,i)}function Ap(n,e,t,r,i,s){T1(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&P_(e,t,!1),Rr(n,e,s);r=e.stateNode,_R.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=go(e,n.child,null,s),e.child=go(e,null,a,s)):At(n,e,a,s),e.memoizedState=r.state,i&&P_(e,t,!0),e.child}function S1(n){var e=n.stateNode;e.pendingContext?D_(n,e.pendingContext,e.pendingContext!==e.context):e.context&&D_(n,e.context,!1),ng(n,e.containerInfo)}function H_(n,e,t,r,i){return mo(),Gm(i),e.flags|=256,At(n,e,t,r),e.child}var Np={dehydrated:null,treeContext:null,retryLane:0};function Op(n){return{baseLanes:n,cachePool:null,transitions:null}}function k1(n,e,t){var r=e.pendingProps,i=Le.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),De(Le,i&1),n===null)return Cp(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Wd(o,r,0,null),n=ts(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=Op(t),e.memoizedState=Np,n):cg(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return wR(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=hi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=hi(a,s):(s=ts(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?Op(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=Np,r}return s=n.child,n=s.sibling,r=hi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function cg(n,e){return e=Wd({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function xu(n,e,t,r){return r!==null&&Gm(r),go(e,n.child,null,t),n=cg(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function wR(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=kf(Error($(422))),xu(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Wd({mode:"visible",children:r.children},i,0,null),s=ts(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&go(e,n.child,null,o),e.child.memoizedState=Op(o),e.memoizedState=Np,s);if(!(e.mode&1))return xu(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error($(419)),r=kf(s,r,void 0),xu(n,e,o,r)}if(a=(o&n.childLanes)!==0,Bt||a){if(r=at,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Pr(n,i),kn(r,n,i,-1))}return gg(),r=kf(Error($(421))),xu(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=NR.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Qt=li(i.nextSibling),Jt=e,Ae=!0,wn=null,n!==null&&(on[an++]=fr,on[an++]=pr,on[an++]=us,fr=n.id,pr=n.overflow,us=e),e=cg(e,r.children),e.flags|=4096,e)}function z_(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),Dp(n.return,e,t)}function If(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function I1(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(At(n,e,r.children,t),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&z_(n,t,e);else if(n.tag===19)z_(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(De(Le,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Hc(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),If(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Hc(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}If(e,!0,t,null,s);break;case"together":If(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sc(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Rr(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),ds|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error($(153));if(e.child!==null){for(n=e.child,t=hi(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=hi(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function ER(n,e,t){switch(e.tag){case 3:S1(e),mo();break;case 5:XT(e);break;case 1:Wt(e.type)&&Fc(e);break;case 4:ng(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(Bc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(Le,Le.current&1),e.flags|=128,null):t&e.child.childLanes?k1(n,e,t):(De(Le,Le.current&1),n=Rr(n,e,t),n!==null?n.sibling:null);De(Le,Le.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return I1(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,E1(n,e,t)}return Rr(n,e,t)}var C1,Mp,D1,P1;C1=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Mp=function(){};D1=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Gi(zn.current);var s=null;switch(t){case"input":i=rp(n,i),r=rp(n,r),s=[];break;case"select":i=Ue({},i,{value:void 0}),r=Ue({},r,{value:void 0}),s=[];break;case"textarea":i=op(n,i),r=op(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Lc)}lp(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Za.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Za.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Re("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};P1=function(n,e,t,r){t!==r&&(e.flags|=4)};function pa(n,e){if(!Ae)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Et(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function TR(n,e,t){var r=e.pendingProps;switch(Qm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return Wt(e.type)&&Vc(),Et(e),null;case 3:return r=e.stateNode,yo(),xe($t),xe(Dt),ig(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Ru(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wn!==null&&(Wp(wn),wn=null))),Mp(n,e),Et(e),null;case 5:rg(e);var i=Gi(dl.current);if(t=e.type,n!==null&&e.stateNode!=null)D1(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Et(e),null}if(n=Gi(zn.current),Ru(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Fn]=e,r[ul]=s,n=(e.mode&1)!==0,t){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(i=0;i<Pa.length;i++)Re(Pa[i],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":e_(r,s),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Re("invalid",r);break;case"textarea":n_(r,s),Re("invalid",r)}lp(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Pu(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Pu(r.textContent,a,n),i=["children",""+a]):Za.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Re("scroll",r)}switch(t){case"input":wu(r),t_(r,s,!0);break;case"textarea":wu(r),r_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Lc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=nT(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Fn]=e,n[ul]=r,C1(n,e,!1,!1),e.stateNode=n;e:{switch(o=up(t,r),t){case"dialog":Re("cancel",n),Re("close",n),i=r;break;case"iframe":case"object":case"embed":Re("load",n),i=r;break;case"video":case"audio":for(i=0;i<Pa.length;i++)Re(Pa[i],n);i=r;break;case"source":Re("error",n),i=r;break;case"img":case"image":case"link":Re("error",n),Re("load",n),i=r;break;case"details":Re("toggle",n),i=r;break;case"input":e_(n,r),i=rp(n,r),Re("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Ue({},r,{value:void 0}),Re("invalid",n);break;case"textarea":n_(n,r),i=op(n,r),Re("invalid",n);break;default:i=r}lp(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?sT(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rT(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&el(n,l):typeof l=="number"&&el(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Za.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Re("scroll",n):l!=null&&Om(n,s,l,o))}switch(t){case"input":wu(n),t_(n,r,!1);break;case"textarea":wu(n),r_(n);break;case"option":r.value!=null&&n.setAttribute("value",""+_i(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?eo(n,!!r.multiple,s,!1):r.defaultValue!=null&&eo(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Lc)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(n&&e.stateNode!=null)P1(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(t=Gi(dl.current),Gi(zn.current),Ru(e)){if(r=e.stateNode,t=e.memoizedProps,r[Fn]=e,(s=r.nodeValue!==t)&&(n=Jt,n!==null))switch(n.tag){case 3:Pu(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Pu(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Fn]=e,e.stateNode=r}return Et(e),null;case 13:if(xe(Le),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ae&&Qt!==null&&e.mode&1&&!(e.flags&128))YT(),mo(),e.flags|=98560,s=!1;else if(s=Ru(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[Fn]=e}else mo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),s=!1}else wn!==null&&(Wp(wn),wn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Le.current&1?rt===0&&(rt=3):gg())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return yo(),Mp(n,e),n===null&&al(e.stateNode.containerInfo),Et(e),null;case 10:return Zm(e.type._context),Et(e),null;case 17:return Wt(e.type)&&Vc(),Et(e),null;case 19:if(xe(Le),s=e.memoizedState,s===null)return Et(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)pa(s,!1);else{if(rt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Hc(n),o!==null){for(e.flags|=128,pa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return De(Le,Le.current&1|2),e.child}n=n.sibling}s.tail!==null&&Qe()>_o&&(e.flags|=128,r=!0,pa(s,!1),e.lanes=4194304)}else{if(!r)if(n=Hc(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),pa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ae)return Et(e),null}else 2*Qe()-s.renderingStartTime>_o&&t!==1073741824&&(e.flags|=128,r=!0,pa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Qe(),e.sibling=null,t=Le.current,De(Le,r?t&1|2:t&1),e):(Et(e),null);case 22:case 23:return mg(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qt&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function SR(n,e){switch(Qm(e),e.tag){case 1:return Wt(e.type)&&Vc(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return yo(),xe($t),xe(Dt),ig(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return rg(e),null;case 13:if(xe(Le),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error($(340));mo()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return xe(Le),null;case 4:return yo(),null;case 10:return Zm(e.type._context),null;case 22:case 23:return mg(),null;case 24:return null;default:return null}}var Au=!1,kt=!1,kR=typeof WeakSet=="function"?WeakSet:Set,K=null;function Xs(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){$e(n,e,r)}else t.current=null}function Lp(n,e,t){try{t()}catch(r){$e(n,e,r)}}var Y_=!1;function IR(n,e){if(_p=Nc,n=NT(),qm(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=n,p=null;t:for(;;){for(var g;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===n)break t;if(p===t&&++c===i&&(a=o),p===s&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(wp={focusedElem:n,selectionRange:t},Nc=!1,K=e;K!==null;)if(e=K,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,K=n;else for(;K!==null;){e=K;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var k=w.memoizedProps,C=w.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?k:vn(e.type,k),C);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(x){$e(e,e.return,x)}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}return w=Y_,Y_=!1,w}function Wa(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&Lp(e,t,s)}i=i.next}while(i!==r)}}function Bd(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function Vp(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function R1(n){var e=n.alternate;e!==null&&(n.alternate=null,R1(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Fn],delete e[ul],delete e[Sp],delete e[aR],delete e[lR])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function b1(n){return n.tag===5||n.tag===3||n.tag===4}function q_(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||b1(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Fp(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Lc));else if(r!==4&&(n=n.child,n!==null))for(Fp(n,e,t),n=n.sibling;n!==null;)Fp(n,e,t),n=n.sibling}function Up(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(Up(n,e,t),n=n.sibling;n!==null;)Up(n,e,t),n=n.sibling}var ct=null,_n=!1;function Wr(n,e,t){for(t=t.child;t!==null;)x1(n,e,t),t=t.sibling}function x1(n,e,t){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(Nd,t)}catch{}switch(t.tag){case 5:kt||Xs(t,e);case 6:var r=ct,i=_n;ct=null,Wr(n,e,t),ct=r,_n=i,ct!==null&&(_n?(n=ct,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):ct.removeChild(t.stateNode));break;case 18:ct!==null&&(_n?(n=ct,t=t.stateNode,n.nodeType===8?vf(n.parentNode,t):n.nodeType===1&&vf(n,t),il(n)):vf(ct,t.stateNode));break;case 4:r=ct,i=_n,ct=t.stateNode.containerInfo,_n=!0,Wr(n,e,t),ct=r,_n=i;break;case 0:case 11:case 14:case 15:if(!kt&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Lp(t,e,o),i=i.next}while(i!==r)}Wr(n,e,t);break;case 1:if(!kt&&(Xs(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){$e(t,e,a)}Wr(n,e,t);break;case 21:Wr(n,e,t);break;case 22:t.mode&1?(kt=(r=kt)||t.memoizedState!==null,Wr(n,e,t),kt=r):Wr(n,e,t);break;default:Wr(n,e,t)}}function K_(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new kR),e.forEach(function(r){var i=OR.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function yn(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ct=a.stateNode,_n=!1;break e;case 3:ct=a.stateNode.containerInfo,_n=!0;break e;case 4:ct=a.stateNode.containerInfo,_n=!0;break e}a=a.return}if(ct===null)throw Error($(160));x1(s,o,i),ct=null,_n=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){$e(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)A1(e,n),e=e.sibling}function A1(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(yn(e,n),Nn(n),r&4){try{Wa(3,n,n.return),Bd(3,n)}catch(k){$e(n,n.return,k)}try{Wa(5,n,n.return)}catch(k){$e(n,n.return,k)}}break;case 1:yn(e,n),Nn(n),r&512&&t!==null&&Xs(t,t.return);break;case 5:if(yn(e,n),Nn(n),r&512&&t!==null&&Xs(t,t.return),n.flags&32){var i=n.stateNode;try{el(i,"")}catch(k){$e(n,n.return,k)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&eT(i,s),up(a,o);var c=up(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?sT(i,h):d==="dangerouslySetInnerHTML"?rT(i,h):d==="children"?el(i,h):Om(i,d,h,c)}switch(a){case"input":ip(i,s);break;case"textarea":tT(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?eo(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?eo(i,!!s.multiple,s.defaultValue,!0):eo(i,!!s.multiple,s.multiple?[]:"",!1))}i[ul]=s}catch(k){$e(n,n.return,k)}}break;case 6:if(yn(e,n),Nn(n),r&4){if(n.stateNode===null)throw Error($(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(k){$e(n,n.return,k)}}break;case 3:if(yn(e,n),Nn(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{il(e.containerInfo)}catch(k){$e(n,n.return,k)}break;case 4:yn(e,n),Nn(n);break;case 13:yn(e,n),Nn(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(fg=Qe())),r&4&&K_(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(kt=(c=kt)||d,yn(e,n),kt=c):yn(e,n),Nn(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(K=n,d=n.child;d!==null;){for(h=K=d;K!==null;){switch(p=K,g=p.child,p.tag){case 0:case 11:case 14:case 15:Wa(4,p,p.return);break;case 1:Xs(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(k){$e(r,t,k)}}break;case 5:Xs(p,p.return);break;case 22:if(p.memoizedState!==null){G_(h);continue}}g!==null?(g.return=p,K=g):G_(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=iT("display",o))}catch(k){$e(n,n.return,k)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(k){$e(n,n.return,k)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yn(e,n),Nn(n),r&4&&K_(n);break;case 21:break;default:yn(e,n),Nn(n)}}function Nn(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(b1(t)){var r=t;break e}t=t.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(el(i,""),r.flags&=-33);var s=q_(n);Up(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=q_(n);Fp(n,a,o);break;default:throw Error($(161))}}catch(l){$e(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function CR(n,e,t){K=n,N1(n)}function N1(n,e,t){for(var r=(n.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Au;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||kt;a=Au;var c=kt;if(Au=o,(kt=l)&&!c)for(K=i;K!==null;)o=K,l=o.child,o.tag===22&&o.memoizedState!==null?X_(i):l!==null?(l.return=o,K=l):X_(i);for(;s!==null;)K=s,N1(s),s=s.sibling;K=i,Au=a,kt=c}Q_(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):Q_(n)}}function Q_(n){for(;K!==null;){var e=K;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kt||Bd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!kt)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:vn(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&N_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}N_(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&il(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}kt||e.flags&512&&Vp(e)}catch(p){$e(e,e.return,p)}}if(e===n){K=null;break}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}}function G_(n){for(;K!==null;){var e=K;if(e===n){K=null;break}var t=e.sibling;if(t!==null){t.return=e.return,K=t;break}K=e.return}}function X_(n){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Bd(4,e)}catch(l){$e(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){$e(e,i,l)}}var s=e.return;try{Vp(e)}catch(l){$e(e,s,l)}break;case 5:var o=e.return;try{Vp(e)}catch(l){$e(e,o,l)}}}catch(l){$e(e,e.return,l)}if(e===n){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var DR=Math.ceil,qc=Vr.ReactCurrentDispatcher,dg=Vr.ReactCurrentOwner,dn=Vr.ReactCurrentBatchConfig,ge=0,at=null,Ze=null,pt=0,qt=0,Js=Ni(0),rt=0,ml=null,ds=0,$d=0,hg=0,Ha=null,Ut=null,fg=0,_o=1/0,dr=null,Kc=!1,jp=null,ci=null,Nu=!1,ni=null,Qc=0,za=0,Bp=null,oc=-1,ac=0;function Mt(){return ge&6?Qe():oc!==-1?oc:oc=Qe()}function di(n){return n.mode&1?ge&2&&pt!==0?pt&-pt:cR.transition!==null?(ac===0&&(ac=yT()),ac):(n=Te,n!==0||(n=window.event,n=n===void 0?16:kT(n.type)),n):1}function kn(n,e,t,r){if(50<za)throw za=0,Bp=null,Error($(185));Rl(n,t,r),(!(ge&2)||n!==at)&&(n===at&&(!(ge&2)&&($d|=t),rt===4&&Qr(n,pt)),Ht(n,r),t===1&&ge===0&&!(e.mode&1)&&(_o=Qe()+500,Fd&&Oi()))}function Ht(n,e){var t=n.callbackNode;cP(n,e);var r=Ac(n,n===at?pt:0);if(r===0)t!==null&&o_(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&o_(t),e===1)n.tag===0?uR(J_.bind(null,n)):WT(J_.bind(null,n)),sR(function(){!(ge&6)&&Oi()}),t=null;else{switch(vT(r)){case 1:t=Um;break;case 4:t=mT;break;case 16:t=xc;break;case 536870912:t=gT;break;default:t=xc}t=B1(t,O1.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function O1(n,e){if(oc=-1,ac=0,ge&6)throw Error($(327));var t=n.callbackNode;if(so()&&n.callbackNode!==t)return null;var r=Ac(n,n===at?pt:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Gc(n,r);else{e=r;var i=ge;ge|=2;var s=L1();(at!==n||pt!==e)&&(dr=null,_o=Qe()+500,es(n,e));do try{bR();break}catch(a){M1(n,a)}while(1);Jm(),qc.current=s,ge=i,Ze!==null?e=0:(at=null,pt=0,e=rt)}if(e!==0){if(e===2&&(i=pp(n),i!==0&&(r=i,e=$p(n,i))),e===1)throw t=ml,es(n,0),Qr(n,r),Ht(n,Qe()),t;if(e===6)Qr(n,r);else{if(i=n.current.alternate,!(r&30)&&!PR(i)&&(e=Gc(n,r),e===2&&(s=pp(n),s!==0&&(r=s,e=$p(n,s))),e===1))throw t=ml,es(n,0),Qr(n,r),Ht(n,Qe()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:zi(n,Ut,dr);break;case 3:if(Qr(n,r),(r&130023424)===r&&(e=fg+500-Qe(),10<e)){if(Ac(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Mt(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Tp(zi.bind(null,n,Ut,dr),e);break}zi(n,Ut,dr);break;case 4:if(Qr(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Sn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DR(r/1960))-r,10<r){n.timeoutHandle=Tp(zi.bind(null,n,Ut,dr),r);break}zi(n,Ut,dr);break;case 5:zi(n,Ut,dr);break;default:throw Error($(329))}}}return Ht(n,Qe()),n.callbackNode===t?O1.bind(null,n):null}function $p(n,e){var t=Ha;return n.current.memoizedState.isDehydrated&&(es(n,e).flags|=256),n=Gc(n,e),n!==2&&(e=Ut,Ut=t,e!==null&&Wp(e)),n}function Wp(n){Ut===null?Ut=n:Ut.push.apply(Ut,n)}function PR(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Cn(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qr(n,e){for(e&=~hg,e&=~$d,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Sn(e),r=1<<t;n[t]=-1,e&=~r}}function J_(n){if(ge&6)throw Error($(327));so();var e=Ac(n,0);if(!(e&1))return Ht(n,Qe()),null;var t=Gc(n,e);if(n.tag!==0&&t===2){var r=pp(n);r!==0&&(e=r,t=$p(n,r))}if(t===1)throw t=ml,es(n,0),Qr(n,e),Ht(n,Qe()),t;if(t===6)throw Error($(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,zi(n,Ut,dr),Ht(n,Qe()),null}function pg(n,e){var t=ge;ge|=1;try{return n(e)}finally{ge=t,ge===0&&(_o=Qe()+500,Fd&&Oi())}}function hs(n){ni!==null&&ni.tag===0&&!(ge&6)&&so();var e=ge;ge|=1;var t=dn.transition,r=Te;try{if(dn.transition=null,Te=1,n)return n()}finally{Te=r,dn.transition=t,ge=e,!(ge&6)&&Oi()}}function mg(){qt=Js.current,xe(Js)}function es(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,iR(t)),Ze!==null)for(t=Ze.return;t!==null;){var r=t;switch(Qm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vc();break;case 3:yo(),xe($t),xe(Dt),ig();break;case 5:rg(r);break;case 4:yo();break;case 13:xe(Le);break;case 19:xe(Le);break;case 10:Zm(r.type._context);break;case 22:case 23:mg()}t=t.return}if(at=n,Ze=n=hi(n.current,null),pt=qt=e,rt=0,ml=null,hg=$d=ds=0,Ut=Ha=null,Qi!==null){for(e=0;e<Qi.length;e++)if(t=Qi[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Qi=null}return n}function M1(n,e){do{var t=Ze;try{if(Jm(),rc.current=Yc,zc){for(var r=Fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zc=!1}if(cs=0,ot=nt=Fe=null,$a=!1,hl=0,dg.current=null,t===null||t.return===null){rt=1,ml=e,Ze=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=U_(o);if(g!==null){g.flags&=-257,j_(g,o,a,s,e),g.mode&1&&F_(s,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var k=new Set;k.add(l),e.updateQueue=k}else w.add(l);break e}else{if(!(e&1)){F_(s,c,e),gg();break e}l=Error($(426))}}else if(Ae&&a.mode&1){var C=U_(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),j_(C,o,a,s,e),Gm(vo(l,a));break e}}s=l=vo(l,a),rt!==4&&(rt=2),Ha===null?Ha=[s]:Ha.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=v1(s,l,e);A_(s,_);break e;case 1:a=l;var y=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ci===null||!ci.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=_1(s,a,e);A_(s,x);break e}}s=s.return}while(s!==null)}F1(t)}catch(M){e=M,Ze===t&&t!==null&&(Ze=t=t.return);continue}break}while(1)}function L1(){var n=qc.current;return qc.current=Yc,n===null?Yc:n}function gg(){(rt===0||rt===3||rt===2)&&(rt=4),at===null||!(ds&268435455)&&!($d&268435455)||Qr(at,pt)}function Gc(n,e){var t=ge;ge|=2;var r=L1();(at!==n||pt!==e)&&(dr=null,es(n,e));do try{RR();break}catch(i){M1(n,i)}while(1);if(Jm(),ge=t,qc.current=r,Ze!==null)throw Error($(261));return at=null,pt=0,rt}function RR(){for(;Ze!==null;)V1(Ze)}function bR(){for(;Ze!==null&&!tP();)V1(Ze)}function V1(n){var e=j1(n.alternate,n,qt);n.memoizedProps=n.pendingProps,e===null?F1(n):Ze=e,dg.current=null}function F1(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=SR(t,e),t!==null){t.flags&=32767,Ze=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{rt=6,Ze=null;return}}else if(t=TR(t,e,qt),t!==null){Ze=t;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=n}while(e!==null);rt===0&&(rt=5)}function zi(n,e,t){var r=Te,i=dn.transition;try{dn.transition=null,Te=1,xR(n,e,t,r)}finally{dn.transition=i,Te=r}return null}function xR(n,e,t,r){do so();while(ni!==null);if(ge&6)throw Error($(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error($(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(dP(n,s),n===at&&(Ze=at=null,pt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Nu||(Nu=!0,B1(xc,function(){return so(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=dn.transition,dn.transition=null;var o=Te;Te=1;var a=ge;ge|=4,dg.current=null,IR(n,t),A1(t,n),XP(wp),Nc=!!_p,wp=_p=null,n.current=t,CR(t),nP(),ge=a,Te=o,dn.transition=s}else n.current=t;if(Nu&&(Nu=!1,ni=n,Qc=i),s=n.pendingLanes,s===0&&(ci=null),sP(t.stateNode),Ht(n,Qe()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kc)throw Kc=!1,n=jp,jp=null,n;return Qc&1&&n.tag!==0&&so(),s=n.pendingLanes,s&1?n===Bp?za++:(za=0,Bp=n):za=0,Oi(),null}function so(){if(ni!==null){var n=vT(Qc),e=dn.transition,t=Te;try{if(dn.transition=null,Te=16>n?16:n,ni===null)var r=!1;else{if(n=ni,ni=null,Qc=0,ge&6)throw Error($(331));var i=ge;for(ge|=4,K=n.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(K=c;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:Wa(8,d,s)}var h=d.child;if(h!==null)h.return=d,K=h;else for(;K!==null;){d=K;var p=d.sibling,g=d.return;if(R1(d),d===c){K=null;break}if(p!==null){p.return=g,K=p;break}K=g}}}var w=s.alternate;if(w!==null){var k=w.child;if(k!==null){w.child=null;do{var C=k.sibling;k.sibling=null,k=C}while(k!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Wa(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,K=_;break e}K=s.return}}var y=n.current;for(K=y;K!==null;){o=K;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,K=E;else e:for(o=y;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Bd(9,a)}}catch(M){$e(a,a.return,M)}if(a===o){K=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,K=x;break e}K=a.return}}if(ge=i,Oi(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(Nd,n)}catch{}r=!0}return r}finally{Te=t,dn.transition=e}}return!1}function Z_(n,e,t){e=vo(t,e),e=v1(n,e,1),n=ui(n,e,1),e=Mt(),n!==null&&(Rl(n,1,e),Ht(n,e))}function $e(n,e,t){if(n.tag===3)Z_(n,n,t);else for(;e!==null;){if(e.tag===3){Z_(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ci===null||!ci.has(r))){n=vo(t,n),n=_1(e,n,1),e=ui(e,n,1),n=Mt(),e!==null&&(Rl(e,1,n),Ht(e,n));break}}e=e.return}}function AR(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Mt(),n.pingedLanes|=n.suspendedLanes&t,at===n&&(pt&t)===t&&(rt===4||rt===3&&(pt&130023424)===pt&&500>Qe()-fg?es(n,0):hg|=t),Ht(n,e)}function U1(n,e){e===0&&(n.mode&1?(e=Su,Su<<=1,!(Su&130023424)&&(Su=4194304)):e=1);var t=Mt();n=Pr(n,e),n!==null&&(Rl(n,e,t),Ht(n,t))}function NR(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),U1(n,t)}function OR(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),U1(n,t)}var j1;j1=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||$t.current)Bt=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Bt=!1,ER(n,e,t);Bt=!!(n.flags&131072)}else Bt=!1,Ae&&e.flags&1048576&&HT(e,jc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;sc(n,e),n=e.pendingProps;var i=po(e,Dt.current);io(e,t),i=og(null,e,r,n,i,t);var s=ag();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wt(r)?(s=!0,Fc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tg(e),i.updater=jd,e.stateNode=i,i._reactInternals=e,Rp(e,r,n,t),e=Ap(null,e,r,!0,s,t)):(e.tag=0,Ae&&s&&Km(e),At(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(sc(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=LR(r),n=vn(r,n),i){case 0:e=xp(null,e,r,n,t);break e;case 1:e=W_(null,e,r,n,t);break e;case 11:e=B_(null,e,r,n,t);break e;case 14:e=$_(null,e,r,vn(r.type,n),t);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),xp(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),W_(n,e,r,i,t);case 3:e:{if(S1(e),n===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,GT(n,e),Wc(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=vo(Error($(423)),e),e=H_(n,e,r,t,i);break e}else if(r!==i){i=vo(Error($(424)),e),e=H_(n,e,r,t,i);break e}else for(Qt=li(e.stateNode.containerInfo.firstChild),Jt=e,Ae=!0,wn=null,t=KT(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(mo(),r===i){e=Rr(n,e,t);break e}At(n,e,r,t)}e=e.child}return e;case 5:return XT(e),n===null&&Cp(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,Ep(r,i)?o=null:s!==null&&Ep(r,s)&&(e.flags|=32),T1(n,e),At(n,e,o,t),e.child;case 6:return n===null&&Cp(e),null;case 13:return k1(n,e,t);case 4:return ng(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=go(e,null,r,t):At(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),B_(n,e,r,i,t);case 7:return At(n,e,e.pendingProps,t),e.child;case 8:return At(n,e,e.pendingProps.children,t),e.child;case 12:return At(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,De(Bc,r._currentValue),r._currentValue=o,s!==null)if(Cn(s.value,o)){if(s.children===i.children&&!$t.current){e=Rr(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=yr(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),Dp(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),Dp(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}At(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,io(e,t),i=fn(i),r=r(i),e.flags|=1,At(n,e,r,t),e.child;case 14:return r=e.type,i=vn(r,e.pendingProps),i=vn(r.type,i),$_(n,e,r,i,t);case 15:return w1(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),sc(n,e),e.tag=1,Wt(r)?(n=!0,Fc(e)):n=!1,io(e,t),y1(e,r,i),Rp(e,r,i,t),Ap(null,e,r,!0,n,t);case 19:return I1(n,e,t);case 22:return E1(n,e,t)}throw Error($(156,e.tag))};function B1(n,e){return pT(n,e)}function MR(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(n,e,t,r){return new MR(n,e,t,r)}function yg(n){return n=n.prototype,!(!n||!n.isReactComponent)}function LR(n){if(typeof n=="function")return yg(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Lm)return 11;if(n===Vm)return 14}return 2}function hi(n,e){var t=n.alternate;return t===null?(t=cn(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function lc(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")yg(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case $s:return ts(t.children,i,s,e);case Mm:o=8,i|=8;break;case Zf:return n=cn(12,t,e,i|2),n.elementType=Zf,n.lanes=s,n;case ep:return n=cn(13,t,e,i),n.elementType=ep,n.lanes=s,n;case tp:return n=cn(19,t,e,i),n.elementType=tp,n.lanes=s,n;case XE:return Wd(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case QE:o=10;break e;case GE:o=9;break e;case Lm:o=11;break e;case Vm:o=14;break e;case Yr:o=16,r=null;break e}throw Error($(130,n==null?n:typeof n,""))}return e=cn(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function ts(n,e,t,r){return n=cn(7,n,r,e),n.lanes=t,n}function Wd(n,e,t,r){return n=cn(22,n,r,e),n.elementType=XE,n.lanes=t,n.stateNode={isHidden:!1},n}function Cf(n,e,t){return n=cn(6,n,null,e),n.lanes=t,n}function Df(n,e,t){return e=cn(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function VR(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=af(0),this.expirationTimes=af(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=af(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vg(n,e,t,r,i,s,o,a,l){return n=new VR(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cn(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},tg(s),n}function FR(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bs,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function $1(n){if(!n)return wi;n=n._reactInternals;e:{if(Ss(n)!==n||n.tag!==1)throw Error($(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(n.tag===1){var t=n.type;if(Wt(t))return $T(n,t,e)}return e}function W1(n,e,t,r,i,s,o,a,l){return n=vg(t,r,!0,n,i,s,o,a,l),n.context=$1(null),t=n.current,r=Mt(),i=di(t),s=yr(r,i),s.callback=e??null,ui(t,s,i),n.current.lanes=i,Rl(n,i,r),Ht(n,r),n}function Hd(n,e,t,r){var i=e.current,s=Mt(),o=di(i);return t=$1(t),e.context===null?e.context=t:e.pendingContext=t,e=yr(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=ui(i,e,o),n!==null&&(kn(n,i,o,s),nc(n,i,o)),o}function Xc(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ew(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function _g(n,e){ew(n,e),(n=n.alternate)&&ew(n,e)}function UR(){return null}var H1=typeof reportError=="function"?reportError:function(n){console.error(n)};function wg(n){this._internalRoot=n}zd.prototype.render=wg.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error($(409));Hd(n,e,null,null)};zd.prototype.unmount=wg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;hs(function(){Hd(null,n,null,null)}),e[Dr]=null}};function zd(n){this._internalRoot=n}zd.prototype.unstable_scheduleHydration=function(n){if(n){var e=ET();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Kr.length&&e!==0&&e<Kr[t].priority;t++);Kr.splice(t,0,n),t===0&&ST(n)}};function Eg(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Yd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function tw(){}function jR(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Xc(o);s.call(c)}}var o=W1(e,r,n,0,null,!1,!1,"",tw);return n._reactRootContainer=o,n[Dr]=o.current,al(n.nodeType===8?n.parentNode:n),hs(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Xc(l);a.call(c)}}var l=vg(n,0,!1,null,null,!1,!1,"",tw);return n._reactRootContainer=l,n[Dr]=l.current,al(n.nodeType===8?n.parentNode:n),hs(function(){Hd(e,l,t,r)}),l}function qd(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Xc(o);a.call(l)}}Hd(e,o,n,i)}else o=jR(t,e,n,i,r);return Xc(o)}_T=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Da(e.pendingLanes);t!==0&&(jm(e,t|1),Ht(e,Qe()),!(ge&6)&&(_o=Qe()+500,Oi()))}break;case 13:hs(function(){var r=Pr(n,1);if(r!==null){var i=Mt();kn(r,n,1,i)}}),_g(n,1)}};Bm=function(n){if(n.tag===13){var e=Pr(n,134217728);if(e!==null){var t=Mt();kn(e,n,134217728,t)}_g(n,134217728)}};wT=function(n){if(n.tag===13){var e=di(n),t=Pr(n,e);if(t!==null){var r=Mt();kn(t,n,e,r)}_g(n,e)}};ET=function(){return Te};TT=function(n,e){var t=Te;try{return Te=n,e()}finally{Te=t}};dp=function(n,e,t){switch(e){case"input":if(ip(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=Vd(r);if(!i)throw Error($(90));ZE(r),ip(r,i)}}}break;case"textarea":tT(n,t);break;case"select":e=t.value,e!=null&&eo(n,!!t.multiple,e,!1)}};lT=pg;uT=hs;var BR={usingClientEntryPoint:!1,Events:[xl,Ys,Vd,oT,aT,pg]},ma={findFiberByHostInstance:Ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$R={bundleType:ma.bundleType,version:ma.version,rendererPackageName:ma.rendererPackageName,rendererConfig:ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=hT(n),n===null?null:n.stateNode},findFiberByHostInstance:ma.findFiberByHostInstance||UR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{Nd=Ou.inject($R),Hn=Ou}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BR;tn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eg(e))throw Error($(200));return FR(n,e,null,t)};tn.createRoot=function(n,e){if(!Eg(n))throw Error($(299));var t=!1,r="",i=H1;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vg(n,1,!1,null,null,t,!1,r,i),n[Dr]=e.current,al(n.nodeType===8?n.parentNode:n),new wg(e)};tn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error($(188)):(n=Object.keys(n).join(","),Error($(268,n)));return n=hT(e),n=n===null?null:n.stateNode,n};tn.flushSync=function(n){return hs(n)};tn.hydrate=function(n,e,t){if(!Yd(e))throw Error($(200));return qd(null,n,e,!0,t)};tn.hydrateRoot=function(n,e,t){if(!Eg(n))throw Error($(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=H1;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=W1(e,null,n,1,t??null,i,!1,s,o),n[Dr]=e.current,al(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new zd(e)};tn.render=function(n,e,t){if(!Yd(e))throw Error($(200));return qd(null,n,e,!1,t)};tn.unmountComponentAtNode=function(n){if(!Yd(n))throw Error($(40));return n._reactRootContainer?(hs(function(){qd(null,null,n,!1,function(){n._reactRootContainer=null,n[Dr]=null})}),!0):!1};tn.unstable_batchedUpdates=pg;tn.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Yd(t))throw Error($(200));if(n==null||n._reactInternals===void 0)throw Error($(38));return qd(n,e,t,!1,r)};tn.version="18.3.1-next-f1338f8080-20240426";function z1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z1)}catch(n){console.error(n)}}z1(),zE.exports=tn;var Tg=zE.exports;const WR=AE(Tg);var nw=Tg;Dc.createRoot=nw.createRoot,Dc.hydrateRoot=nw.hydrateRoot;const HR="modulepreload",zR=function(n){return"/"+n},rw={},YR=function(e,t,r){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=zR(s),s in rw)return;rw[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":HR,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Sg={};Object.defineProperty(Sg,"__esModule",{value:!0});Sg.parse=ZR;Sg.serialize=eb;const qR=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,KR=/^[\u0021-\u003A\u003C-\u007E]*$/,QR=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,GR=/^[\u0020-\u003A\u003D-\u007E]*$/,XR=Object.prototype.toString,JR=(()=>{const n=function(){};return n.prototype=Object.create(null),n})();function ZR(n,e){const t=new JR,r=n.length;if(r<2)return t;const i=(e==null?void 0:e.decode)||tb;let s=0;do{const o=n.indexOf("=",s);if(o===-1)break;const a=n.indexOf(";",s),l=a===-1?r:a;if(o>l){s=n.lastIndexOf(";",o-1)+1;continue}const c=iw(n,s,o),d=sw(n,o,c),h=n.slice(c,d);if(t[h]===void 0){let p=iw(n,o+1,l),g=sw(n,l,p);const w=i(n.slice(p,g));t[h]=w}s=l+1}while(s<r);return t}function iw(n,e,t){do{const r=n.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<t);return t}function sw(n,e,t){for(;e>t;){const r=n.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return t}function eb(n,e,t){const r=(t==null?void 0:t.encode)||encodeURIComponent;if(!qR.test(n))throw new TypeError(`argument name is invalid: ${n}`);const i=r(e);if(!KR.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=n+"="+i;if(!t)return s;if(t.maxAge!==void 0){if(!Number.isInteger(t.maxAge))throw new TypeError(`option maxAge is invalid: ${t.maxAge}`);s+="; Max-Age="+t.maxAge}if(t.domain){if(!QR.test(t.domain))throw new TypeError(`option domain is invalid: ${t.domain}`);s+="; Domain="+t.domain}if(t.path){if(!GR.test(t.path))throw new TypeError(`option path is invalid: ${t.path}`);s+="; Path="+t.path}if(t.expires){if(!nb(t.expires)||!Number.isFinite(t.expires.valueOf()))throw new TypeError(`option expires is invalid: ${t.expires}`);s+="; Expires="+t.expires.toUTCString()}if(t.httpOnly&&(s+="; HttpOnly"),t.secure&&(s+="; Secure"),t.partitioned&&(s+="; Partitioned"),t.priority)switch(typeof t.priority=="string"?t.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${t.priority}`)}if(t.sameSite)switch(typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${t.sameSite}`)}return s}function tb(n){if(n.indexOf("%")===-1)return n;try{return decodeURIComponent(n)}catch{return n}}function nb(n){return XR.call(n)==="[object Date]"}var ow="popstate";function rb(n={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Hp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:gl(i)}return sb(e,t,null,n)}function Oe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Dn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ib(){return Math.random().toString(36).substring(2,10)}function aw(n,e){return{usr:n.state,key:n.key,idx:e}}function Hp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Uo(e):e,state:t,key:e&&e.key||r||ib()}}function gl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Uo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function sb(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let C=d(),_=C==null?null:C-c;c=C,l&&l({action:a,location:k.location,delta:_})}function p(C,_){a="PUSH";let y=Hp(k.location,C,_);t&&t(y,C),c=d()+1;let E=aw(y,c),x=k.createHref(y);try{o.pushState(E,"",x)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(x)}s&&l&&l({action:a,location:k.location,delta:1})}function g(C,_){a="REPLACE";let y=Hp(k.location,C,_);t&&t(y,C),c=d();let E=aw(y,c),x=k.createHref(y);o.replaceState(E,"",x),s&&l&&l({action:a,location:k.location,delta:0})}function w(C){return ob(C)}let k={get action(){return a},get location(){return n(i,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ow,h),l=C,()=>{i.removeEventListener(ow,h),l=null}},createHref(C){return e(i,C)},createURL:w,encodeLocation(C){let _=w(C);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:g,go(C){return o.go(C)}};return k}function ob(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Oe(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:gl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Y1(n,e,t="/"){return ab(n,e,t,!1)}function ab(n,e,t,r){let i=typeof e=="string"?Uo(e):e,s=br(i.pathname||"/",t);if(s==null)return null;let o=q1(n);lb(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=_b(s);a=yb(o[l],c,r)}return a}function q1(n,e=[],t=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Oe(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=vr([r,l.relativePath]),d=t.concat(l);s.children&&s.children.length>0&&(Oe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),q1(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:mb(c,s.index),routesMeta:d})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of K1(s.path))i(s,o,l)}),e}function K1(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=K1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function lb(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:gb(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var ub=/^:[\w-]+$/,cb=3,db=2,hb=1,fb=10,pb=-2,lw=n=>n==="*";function mb(n,e){let t=n.split("/"),r=t.length;return t.some(lw)&&(r+=pb),e&&(r+=db),t.filter(i=>!lw(i)).reduce((i,s)=>i+(ub.test(s)?cb:s===""?hb:fb),r)}function gb(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function yb(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Jc({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&t&&!r[r.length-1].route.index&&(h=Jc({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:vr([s,h.pathname]),pathnameBase:Sb(vr([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=vr([s,h.pathnameBase]))}return o}function Jc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=vb(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:h},p)=>{if(d==="*"){let w=a[p]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const g=a[p];return h&&!g?c[d]=void 0:c[d]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function vb(n,e=!1,t=!0){Dn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function _b(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function br(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function wb(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Uo(n):n;return{pathname:t?t.startsWith("/")?t:Eb(t,e):e,search:kb(r),hash:Ib(i)}}function Eb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Pf(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tb(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function kg(n){let e=Tb(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Ig(n,e,t,r=!1){let i;typeof n=="string"?i=Uo(n):(i={...n},Oe(!i.pathname||!i.pathname.includes("?"),Pf("?","pathname","search",i)),Oe(!i.pathname||!i.pathname.includes("#"),Pf("#","pathname","hash",i)),Oe(!i.search||!i.search.includes("#"),Pf("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=wb(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var vr=n=>n.join("/").replace(/\/\/+/g,"/"),Sb=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),kb=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Ib=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Cb(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Q1=["POST","PUT","PATCH","DELETE"];new Set(Q1);var Db=["GET",...Q1];new Set(Db);var jo=R.createContext(null);jo.displayName="DataRouter";var Kd=R.createContext(null);Kd.displayName="DataRouterState";var G1=R.createContext({isTransitioning:!1});G1.displayName="ViewTransition";var Pb=R.createContext(new Map);Pb.displayName="Fetchers";var Rb=R.createContext(null);Rb.displayName="Await";var xn=R.createContext(null);xn.displayName="Navigation";var Nl=R.createContext(null);Nl.displayName="Location";var nr=R.createContext({outlet:null,matches:[],isDataRoute:!1});nr.displayName="Route";var Cg=R.createContext(null);Cg.displayName="RouteError";function bb(n,{relative:e}={}){Oe(Bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=R.useContext(xn),{hash:i,pathname:s,search:o}=Ml(n,{relative:e}),a=s;return t!=="/"&&(a=s==="/"?t:vr([t,s])),r.createHref({pathname:a,search:o,hash:i})}function Bo(){return R.useContext(Nl)!=null}function Mi(){return Oe(Bo(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Nl).location}var X1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function J1(n){R.useContext(xn).static||R.useLayoutEffect(n)}function Ol(){let{isDataRoute:n}=R.useContext(nr);return n?Wb():xb()}function xb(){Oe(Bo(),"useNavigate() may be used only in the context of a <Router> component.");let n=R.useContext(jo),{basename:e,navigator:t}=R.useContext(xn),{matches:r}=R.useContext(nr),{pathname:i}=Mi(),s=JSON.stringify(kg(r)),o=R.useRef(!1);return J1(()=>{o.current=!0}),R.useCallback((l,c={})=>{if(Dn(o.current,X1),!o.current)return;if(typeof l=="number"){t.go(l);return}let d=Ig(l,JSON.parse(s),i,c.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:vr([e,d.pathname])),(c.replace?t.replace:t.push)(d,c.state,c)},[e,t,s,i,n])}R.createContext(null);function Ml(n,{relative:e}={}){let{matches:t}=R.useContext(nr),{pathname:r}=Mi(),i=JSON.stringify(kg(t));return R.useMemo(()=>Ig(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function Ab(n,e){return Z1(n,e)}function Z1(n,e,t,r){var _;Oe(Bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=R.useContext(xn),{matches:s}=R.useContext(nr),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",c=o?o.pathnameBase:"/",d=o&&o.route;{let y=d&&d.path||"";eS(l,!d||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let h=Mi(),p;if(e){let y=typeof e=="string"?Uo(e):e;Oe(c==="/"||((_=y.pathname)==null?void 0:_.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${y.pathname}" was given in the \`location\` prop.`),p=y}else p=h;let g=p.pathname||"/",w=g;if(c!=="/"){let y=c.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let k=Y1(n,{pathname:w});Dn(d||k!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Dn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Vb(k&&k.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:vr([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:vr([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,t,r);return e&&C?R.createElement(Nl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},C):C}function Nb(){let n=$b(),e=Cb(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:s},"ErrorBoundary")," or"," ",R.createElement("code",{style:s},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:i},t):null,o)}var Ob=R.createElement(Nb,null),Mb=class extends R.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?R.createElement(nr.Provider,{value:this.props.routeContext},R.createElement(Cg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Lb({routeContext:n,match:e,children:t}){let r=R.useContext(jo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(nr.Provider,{value:n},t)}function Vb(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);Oe(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(t)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:d,errors:h}=t,p=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||p){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,d)=>{let h,p=!1,g=null,w=null;t&&(h=s&&c.route.id?s[c.route.id]:void 0,g=c.route.errorElement||Ob,o&&(a<0&&d===0?(eS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,w=null):a===d&&(p=!0,w=c.route.hydrateFallbackElement||null)));let k=e.concat(i.slice(0,d+1)),C=()=>{let _;return h?_=g:p?_=w:c.route.Component?_=R.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=l,R.createElement(Lb,{match:c,routeContext:{outlet:l,matches:k,isDataRoute:t!=null},children:_})};return t&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?R.createElement(Mb,{location:t.location,revalidation:t.revalidation,component:g,error:h,children:C(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):C()},null)}function Dg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fb(n){let e=R.useContext(jo);return Oe(e,Dg(n)),e}function Ub(n){let e=R.useContext(Kd);return Oe(e,Dg(n)),e}function jb(n){let e=R.useContext(nr);return Oe(e,Dg(n)),e}function Pg(n){let e=jb(n),t=e.matches[e.matches.length-1];return Oe(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Bb(){return Pg("useRouteId")}function $b(){var r;let n=R.useContext(Cg),e=Ub("useRouteError"),t=Pg("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function Wb(){let{router:n}=Fb("useNavigate"),e=Pg("useNavigate"),t=R.useRef(!1);return J1(()=>{t.current=!0}),R.useCallback(async(i,s={})=>{Dn(t.current,X1),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var uw={};function eS(n,e,t){!e&&!uw[n]&&(uw[n]=!0,Dn(!1,t))}R.memo(Hb);function Hb({routes:n,future:e,state:t}){return Z1(n,void 0,t,e)}function zb({to:n,replace:e,state:t,relative:r}){Oe(Bo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=R.useContext(xn);Dn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=R.useContext(nr),{pathname:o}=Mi(),a=Ol(),l=Ig(n,kg(s),o,r==="path"),c=JSON.stringify(l);return R.useEffect(()=>{a(JSON.parse(c),{replace:e,state:t,relative:r})},[a,c,r,e,t]),null}function cr(n){Oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yb({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){Oe(!Bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),a=R.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof t=="string"&&(t=Uo(t));let{pathname:l="/",search:c="",hash:d="",state:h=null,key:p="default"}=t,g=R.useMemo(()=>{let w=br(l,o);return w==null?null:{location:{pathname:w,search:c,hash:d,state:h,key:p},navigationType:r}},[o,l,c,d,h,p,r]);return Dn(g!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:R.createElement(xn.Provider,{value:a},R.createElement(Nl.Provider,{children:e,value:g}))}function qb({children:n,location:e}){return Ab(zp(n),e)}function zp(n,e=[]){let t=[];return R.Children.forEach(n,(r,i)=>{if(!R.isValidElement(r))return;let s=[...e,i];if(r.type===R.Fragment){t.push.apply(t,zp(r.props.children,s));return}Oe(r.type===cr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Oe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=zp(r.props.children,s)),t.push(o)}),t}var uc="get",cc="application/x-www-form-urlencoded";function Qd(n){return n!=null&&typeof n.tagName=="string"}function Kb(n){return Qd(n)&&n.tagName.toLowerCase()==="button"}function Qb(n){return Qd(n)&&n.tagName.toLowerCase()==="form"}function Gb(n){return Qd(n)&&n.tagName.toLowerCase()==="input"}function Xb(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Jb(n,e){return n.button===0&&(!e||e==="_self")&&!Xb(n)}var Mu=null;function Zb(){if(Mu===null)try{new FormData(document.createElement("form"),0),Mu=!1}catch{Mu=!0}return Mu}var ex=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rf(n){return n!=null&&!ex.has(n)?(Dn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cc}"`),null):n}function tx(n,e){let t,r,i,s,o;if(Qb(n)){let a=n.getAttribute("action");r=a?br(a,e):null,t=n.getAttribute("method")||uc,i=Rf(n.getAttribute("enctype"))||cc,s=new FormData(n)}else if(Kb(n)||Gb(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||a.getAttribute("action");if(r=l?br(l,e):null,t=n.getAttribute("formmethod")||a.getAttribute("method")||uc,i=Rf(n.getAttribute("formenctype"))||Rf(a.getAttribute("enctype"))||cc,s=new FormData(a,n),!Zb()){let{name:c,type:d,value:h}=n;if(d==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,h)}}else{if(Qd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=uc,r=null,i=cc,o=n}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:o}}function Rg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function nx(n,e){if(n.id in e)return e[n.id];try{let t=await YR(()=>import(n.module),[]);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rx(n){return n!=null&&typeof n.page=="string"}function ix(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function sx(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await nx(s,t);return o.links?o.links():[]}return[]}));return ux(r.flat(1).filter(ix).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function cw(n,e,t,r,i,s){let o=(l,c)=>t[c]?l.route.id!==t[c].route.id:!0,a=(l,c)=>{var d;return t[c].pathname!==l.pathname||((d=t[c].route.path)==null?void 0:d.endsWith("*"))&&t[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=t[0])==null?void 0:h.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function ox(n,e,{includeHydrateFallback:t}={}){return ax(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function ax(n){return[...new Set(n)]}function lx(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function ux(n,e){let t=new Set,r=new Set(e);return n.reduce((i,s)=>{if(e&&!rx(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify(lx(s));return t.has(a)||(t.add(a),i.push({key:a,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var cx=new Set([100,101,204,205]);function dx(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&br(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function tS(){let n=R.useContext(jo);return Rg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function hx(){let n=R.useContext(Kd);return Rg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var bg=R.createContext(void 0);bg.displayName="FrameworkContext";function nS(){let n=R.useContext(bg);return Rg(n,"You must render this element inside a <HydratedRouter> element"),n}function fx(n,e){let t=R.useContext(bg),[r,i]=R.useState(!1),[s,o]=R.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=e,p=R.useRef(null);R.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let k=_=>{_.forEach(y=>{o(y.isIntersecting)})},C=new IntersectionObserver(k,{threshold:.5});return p.current&&C.observe(p.current),()=>{C.disconnect()}}},[n]),R.useEffect(()=>{if(r){let k=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(k)}}},[r]);let g=()=>{i(!0)},w=()=>{i(!1),o(!1)};return t?n!=="intent"?[s,p,{}]:[s,p,{onFocus:ga(a,g),onBlur:ga(l,w),onMouseEnter:ga(c,g),onMouseLeave:ga(d,w),onTouchStart:ga(h,g)}]:[!1,p,{}]}function ga(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function px({page:n,...e}){let{router:t}=tS(),r=R.useMemo(()=>Y1(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?R.createElement(gx,{page:n,matches:r,...e}):null}function mx(n){let{manifest:e,routeModules:t}=nS(),[r,i]=R.useState([]);return R.useEffect(()=>{let s=!1;return sx(n,e,t).then(o=>{s||i(o)}),()=>{s=!0}},[n,e,t]),r}function gx({page:n,matches:e,...t}){let r=Mi(),{manifest:i,routeModules:s}=nS(),{basename:o}=tS(),{loaderData:a,matches:l}=hx(),c=R.useMemo(()=>cw(n,e,l,i,r,"data"),[n,e,l,i,r]),d=R.useMemo(()=>cw(n,e,l,i,r,"assets"),[n,e,l,i,r]),h=R.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let w=new Set,k=!1;if(e.forEach(_=>{var E;let y=i.routes[_.route.id];!y||!y.hasLoader||(!c.some(x=>x.route.id===_.route.id)&&_.route.id in a&&((E=s[_.route.id])!=null&&E.shouldRevalidate)||y.hasClientLoader?k=!0:w.add(_.route.id))}),w.size===0)return[];let C=dx(n,o);return k&&w.size>0&&C.searchParams.set("_routes",e.filter(_=>w.has(_.route.id)).map(_=>_.route.id).join(",")),[C.pathname+C.search]},[o,a,r,i,c,e,n,s]),p=R.useMemo(()=>ox(d,i),[d,i]),g=mx(d);return R.createElement(R.Fragment,null,h.map(w=>R.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),p.map(w=>R.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),g.map(({key:w,link:k})=>R.createElement("link",{key:w,...k})))}function yx(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var rS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rS&&(window.__reactRouterVersion="7.6.3")}catch{}function vx({basename:n,children:e,window:t}){let r=R.useRef();r.current==null&&(r.current=rb({window:t,v5Compat:!0}));let i=r.current,[s,o]=R.useState({action:i.action,location:i.location}),a=R.useCallback(l=>{R.startTransition(()=>o(l))},[o]);return R.useLayoutEffect(()=>i.listen(a),[i,a]),R.createElement(Yb,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var iS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,En=R.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h,...p},g){let{basename:w}=R.useContext(xn),k=typeof c=="string"&&iS.test(c),C,_=!1;if(typeof c=="string"&&k&&(C=c,rS))try{let S=new URL(window.location.href),D=c.startsWith("//")?new URL(S.protocol+c):new URL(c),b=br(D.pathname,w);D.origin===S.origin&&b!=null?c=b+D.search+D.hash:_=!0}catch{Dn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=bb(c,{relative:i}),[E,x,M]=fx(r,p),V=Tx(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function I(S){e&&e(S),S.defaultPrevented||V(S)}let v=R.createElement("a",{...p,...M,href:C||y,onClick:_||s?e:I,ref:yx(g,x),target:l,"data-discover":!k&&t==="render"?"true":void 0});return E&&!k?R.createElement(R.Fragment,null,v,R.createElement(px,{page:y})):v});En.displayName="Link";var _x=R.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},d){let h=Ml(o,{relative:c.relative}),p=Mi(),g=R.useContext(Kd),{navigator:w,basename:k}=R.useContext(xn),C=g!=null&&Dx(h)&&a===!0,_=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,y=p.pathname,E=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;t||(y=y.toLowerCase(),E=E?E.toLowerCase():null,_=_.toLowerCase()),E&&k&&(E=br(E,k)||E);const x=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let M=y===_||!i&&y.startsWith(_)&&y.charAt(x)==="/",V=E!=null&&(E===_||!i&&E.startsWith(_)&&E.charAt(_.length)==="/"),I={isActive:M,isPending:V,isTransitioning:C},v=M?e:void 0,S;typeof r=="function"?S=r(I):S=[r,M?"active":null,V?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let D=typeof s=="function"?s(I):s;return R.createElement(En,{...c,"aria-current":v,className:S,ref:d,style:D,to:o,viewTransition:a},typeof l=="function"?l(I):l)});_x.displayName="NavLink";var wx=R.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:o=uc,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:h,...p},g)=>{let w=Ix(),k=Cx(a,{relative:c}),C=o.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&iS.test(a),y=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let x=E.nativeEvent.submitter,M=(x==null?void 0:x.getAttribute("formmethod"))||o;w(x||E.currentTarget,{fetcherKey:e,method:M,navigate:t,replace:i,state:s,relative:c,preventScrollReset:d,viewTransition:h})};return R.createElement("form",{ref:g,method:C,action:k,onSubmit:r?l:y,...p,"data-discover":!_&&n==="render"?"true":void 0})});wx.displayName="Form";function Ex(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sS(n){let e=R.useContext(jo);return Oe(e,Ex(n)),e}function Tx(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Ol(),l=Mi(),c=Ml(n,{relative:s});return R.useCallback(d=>{if(Jb(d,e)){d.preventDefault();let h=t!==void 0?t:gl(l)===gl(c);a(n,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,t,r,e,n,i,s,o])}var Sx=0,kx=()=>`__${String(++Sx)}__`;function Ix(){let{router:n}=sS("useSubmit"),{basename:e}=R.useContext(xn),t=Bb();return R.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=tx(r,e);if(i.navigate===!1){let d=i.fetcherKey||kx();await n.fetch(d,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function Cx(n,{relative:e}={}){let{basename:t}=R.useContext(xn),r=R.useContext(nr);Oe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Ml(n||".",{relative:e})},o=Mi();if(n==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:vr([t,s.pathname])),gl(s)}function Dx(n,e={}){let t=R.useContext(G1);Oe(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=sS("useViewTransitionState"),i=Ml(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=br(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=br(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Jc(i.pathname,o)!=null||Jc(i.pathname,s)!=null}[...cx];const Px=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Rx=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},aS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(t[d],t[h],t[p],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(oS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Rx(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new bx;const p=s<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class bx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xx=function(n){const e=oS(n);return aS.encodeByteArray(e,!0)},Zc=function(n){return xx(n).replace(/\./g,"")},lS=function(n){try{return aS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=()=>Ax().__FIREBASE_DEFAULTS__,Ox=()=>{if(typeof process>"u"||typeof process.env>"u")return;const n={}.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Mx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&lS(n[1]);return e&&JSON.parse(e)},Gd=()=>{try{return Px()||Nx()||Ox()||Mx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},uS=n=>{var e,t;return(t=(e=Gd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},cS=n=>{const e=uS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},dS=()=>{var n;return(n=Gd())===null||n===void 0?void 0:n.config},hS=n=>{var e;return(e=Gd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xg(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n),a="";return[Zc(JSON.stringify(t)),Zc(JSON.stringify(o)),a].join(".")}const Ya={};function Vx(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ya))Ya[e]?n.emulator.push(e):n.prod.push(e);return n}function Fx(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let dw=!1;function Ag(n,e){if(typeof window>"u"||typeof document>"u"||!Li(window.location.host)||Ya[n]===e||Ya[n]||dw)return;Ya[n]=e;function t(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=Vx().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{dw=!0,o()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=Fx(r),g=t("text"),w=document.getElementById(g)||document.createElement("span"),k=t("learnmore"),C=document.getElementById(k)||document.createElement("a"),_=t("preprendIcon"),y=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;a(E),d(C,k);const x=c();l(y,_),E.append(y,w,C,x),document.body.appendChild(E)}s?(w.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ux(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function jx(){var n;const e=(n=Gd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $x(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Wx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hx(){const n=Pt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function zx(){return!jx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yx(){try{return typeof indexedDB=="object"}catch{return!1}}function qx(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="FirebaseError";class rr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Kx,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Qx(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new rr(i,a,r)}}function Qx(n,e){return n.replace(Gx,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Gx=/\{\$([^}]+)}/g;function Xx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ei(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(hw(s)&&hw(o)){if(!Ei(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function hw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ra(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ba(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Jx(n,e){const t=new Zx(n,e);return t.subscribe.bind(t)}class Zx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");eA(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=bf),i.error===void 0&&(i.error=bf),i.complete===void 0&&(i.complete=bf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function bf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(n){return n&&n._delegate?n._delegate:n}class Ti{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Lx;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rA(e))try{this.getOrInitializeService({instanceIdentifier:Yi})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yi){return this.instances.has(e)}getOptions(e=Yi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nA(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yi){return this.component?this.component.multipleInstances?e:Yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nA(n){return n===Yi?void 0:n}function rA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new tA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ce||(ce={}));const sA={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},oA=ce.INFO,aA={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},lA=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=aA[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ng{constructor(e){this.name=e,this._logLevel=oA,this._logHandler=lA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const uA=(n,e)=>e.some(t=>n instanceof t);let fw,pw;function cA(){return fw||(fw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dA(){return pw||(pw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pS=new WeakMap,Yp=new WeakMap,mS=new WeakMap,xf=new WeakMap,Og=new WeakMap;function hA(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(fi(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&pS.set(t,n)}).catch(()=>{}),Og.set(e,n),e}function fA(n){if(Yp.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Yp.set(n,e)}let qp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Yp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||mS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function pA(n){qp=n(qp)}function mA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Af(this),e,...t);return mS.set(r,e.sort?e.sort():[e]),fi(r)}:dA().includes(n)?function(...e){return n.apply(Af(this),e),fi(pS.get(this))}:function(...e){return fi(n.apply(Af(this),e))}}function gA(n){return typeof n=="function"?mA(n):(n instanceof IDBTransaction&&fA(n),uA(n,cA())?new Proxy(n,qp):n)}function fi(n){if(n instanceof IDBRequest)return hA(n);if(xf.has(n))return xf.get(n);const e=gA(n);return e!==n&&(xf.set(n,e),Og.set(e,n)),e}const Af=n=>Og.get(n);function yA(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=fi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(fi(o.result),l.oldVersion,l.newVersion,fi(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const vA=["get","getKey","getAll","getAllKeys","count"],_A=["put","add","delete","clear"],Nf=new Map;function mw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Nf.get(e))return Nf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=_A.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vA.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),i&&l.done]))[0]};return Nf.set(e,s),s}pA(n=>({...n,get:(e,t,r)=>mw(e,t)||n.get(e,t,r),has:(e,t)=>!!mw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(EA(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function EA(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kp="@firebase/app",gw="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new Ng("@firebase/app"),TA="@firebase/app-compat",SA="@firebase/analytics-compat",kA="@firebase/analytics",IA="@firebase/app-check-compat",CA="@firebase/app-check",DA="@firebase/auth",PA="@firebase/auth-compat",RA="@firebase/database",bA="@firebase/data-connect",xA="@firebase/database-compat",AA="@firebase/functions",NA="@firebase/functions-compat",OA="@firebase/installations",MA="@firebase/installations-compat",LA="@firebase/messaging",VA="@firebase/messaging-compat",FA="@firebase/performance",UA="@firebase/performance-compat",jA="@firebase/remote-config",BA="@firebase/remote-config-compat",$A="@firebase/storage",WA="@firebase/storage-compat",HA="@firebase/firestore",zA="@firebase/ai",YA="@firebase/firestore-compat",qA="firebase",KA="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="[DEFAULT]",QA={[Kp]:"fire-core",[TA]:"fire-core-compat",[kA]:"fire-analytics",[SA]:"fire-analytics-compat",[CA]:"fire-app-check",[IA]:"fire-app-check-compat",[DA]:"fire-auth",[PA]:"fire-auth-compat",[RA]:"fire-rtdb",[bA]:"fire-data-connect",[xA]:"fire-rtdb-compat",[AA]:"fire-fn",[NA]:"fire-fn-compat",[OA]:"fire-iid",[MA]:"fire-iid-compat",[LA]:"fire-fcm",[VA]:"fire-fcm-compat",[FA]:"fire-perf",[UA]:"fire-perf-compat",[jA]:"fire-rc",[BA]:"fire-rc-compat",[$A]:"fire-gcs",[WA]:"fire-gcs-compat",[HA]:"fire-fst",[YA]:"fire-fst-compat",[zA]:"fire-vertex","fire-js":"fire-js",[qA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Map,GA=new Map,Gp=new Map;function yw(n,e){try{n.container.addComponent(e)}catch(t){xr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function fs(n){const e=n.name;if(Gp.has(e))return xr.debug(`There were multiple attempts to register component ${e}.`),!1;Gp.set(e,n);for(const t of ed.values())yw(t,n);for(const t of GA.values())yw(t,n);return!0}function Xd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Kt(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pi=new Ll("app","Firebase",XA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=KA;function gS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Qp,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw pi.create("bad-app-name",{appName:String(i)});if(t||(t=dS()),!t)throw pi.create("no-options");const s=ed.get(i);if(s){if(Ei(t,s.options)&&Ei(r,s.config))return s;throw pi.create("duplicate-app",{appName:i})}const o=new iA(i);for(const l of Gp.values())o.addComponent(l);const a=new JA(t,r,o);return ed.set(i,a),a}function Mg(n=Qp){const e=ed.get(n);if(!e&&n===Qp&&dS())return gS();if(!e)throw pi.create("no-app",{appName:n});return e}function Yn(n,e,t){var r;let i=(r=QA[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xr.warn(a.join(" "));return}fs(new Ti(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="firebase-heartbeat-database",eN=1,yl="firebase-heartbeat-store";let Of=null;function yS(){return Of||(Of=yA(ZA,eN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(yl)}catch(t){console.warn(t)}}}}).catch(n=>{throw pi.create("idb-open",{originalErrorMessage:n.message})})),Of}async function tN(n){try{const t=(await yS()).transaction(yl),r=await t.objectStore(yl).get(vS(n));return await t.done,r}catch(e){if(e instanceof rr)xr.warn(e.message);else{const t=pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xr.warn(t.message)}}}async function vw(n,e){try{const r=(await yS()).transaction(yl,"readwrite");await r.objectStore(yl).put(e,vS(n)),await r.done}catch(t){if(t instanceof rr)xr.warn(t.message);else{const r=pi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});xr.warn(r.message)}}}function vS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=1024,rN=30;class iN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_w();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>rN){const o=aN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_w(),{heartbeatsToSend:r,unsentEntries:i}=sN(this._heartbeatsCache.heartbeats),s=Zc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return xr.warn(t),""}}}function _w(){return new Date().toISOString().substring(0,10)}function sN(n,e=nN){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ww(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),ww(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class oN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yx()?qx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await tN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return vw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return vw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ww(n){return Zc(JSON.stringify({version:2,heartbeats:n})).length}function aN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(n){fs(new Ti("platform-logger",e=>new wA(e),"PRIVATE")),fs(new Ti("heartbeat",e=>new iN(e),"PRIVATE")),Yn(Kp,gw,n),Yn(Kp,gw,"esm2017"),Yn("fire-js","")}lN("");function Lg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function _S(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uN=_S,wS=new Ll("auth","Firebase",_S());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new Ng("@firebase/auth");function cN(n,...e){td.logLevel<=ce.WARN&&td.warn(`Auth (${ks}): ${n}`,...e)}function dc(n,...e){td.logLevel<=ce.ERROR&&td.error(`Auth (${ks}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(n,...e){throw Vg(n,...e)}function qn(n,...e){return Vg(n,...e)}function ES(n,e,t){const r=Object.assign(Object.assign({},uN()),{[e]:t});return new Ll("auth","Firebase",r).create(e,{appName:n.name})}function _r(n){return ES(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return wS.create(n,...e)}function ee(n,e,...t){if(!n)throw Vg(e,...t)}function mr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw dc(e),new Error(e)}function Ar(n,e){n||mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function dN(){return Ew()==="http:"||Ew()==="https:"}function Ew(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dN()||$x()||"connection"in navigator)?navigator.onLine:!0}function fN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ar(t>e,"Short delay should be less than long delay!"),this.isMobile=Ux()||Wx()}get(){return hN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(n,e){Ar(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gN=new Fl(3e4,6e4);function Vi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Fr(n,e,t,r,i={}){return SS(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Vl(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},s);return Bx()||(c.referrerPolicy="no-referrer"),n.emulatorConfig&&Li(n.emulatorConfig.host)&&(c.credentials="include"),TS.fetch()(await kS(n,n.config.apiHost,t,a),c)})}async function SS(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},pN),e);try{const i=new vN(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Lu(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lu(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Lu(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Lu(n,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ES(n,d,c);Pn(n,d)}}catch(i){if(i instanceof rr)throw i;Pn(n,"network-request-failed",{message:String(i)})}}async function Ul(n,e,t,r,i={}){const s=await Fr(n,e,t,r,i);return"mfaPendingCredential"in s&&Pn(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function kS(n,e,t,r){const i=`${e}${t}?${r}`,s=n,o=s.config.emulator?Fg(n.config,i):`${n.config.apiScheme}://${i}`;return mN.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function yN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(qn(this.auth,"network-request-failed")),gN.get())})}}function Lu(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=qn(n,e,r);return i.customData._tokenResponse=t,i}function Tw(n){return n!==void 0&&n.enterprise!==void 0}class _N{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return yN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wN(n,e){return Fr(n,"GET","/v2/recaptchaConfig",Vi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(n,e){return Fr(n,"POST","/v1/accounts:delete",e)}async function nd(n,e){return Fr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TN(n,e=!1){const t=Me(n),r=await t.getIdToken(e),i=Ug(r);ee(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:qa(Mf(i.auth_time)),issuedAtTime:qa(Mf(i.iat)),expirationTime:qa(Mf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Mf(n){return Number(n)*1e3}function Ug(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return dc("JWT malformed, contained fewer than 3 sections"),null;try{const i=lS(t);return i?JSON.parse(i):(dc("Failed to decode base64 JWT payload"),null)}catch(i){return dc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Sw(n){const e=Ug(n);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof rr&&SN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function SN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qa(this.lastLoginAt),this.creationTime=qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rd(n){var e;const t=n.auth,r=await n.getIdToken(),i=await wo(n,nd(t,{idToken:r}));ee(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?IS(s.providerUserInfo):[],a=CN(n.providerData,o),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Jp(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,h)}async function IN(n){const e=Me(n);await rd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CN(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function IS(n){return n.map(e=>{var{providerId:t}=e,r=Lg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(n,e){const t=await SS(n,{},async()=>{const r=Vl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await kS(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return n.emulatorConfig&&Li(n.emulatorConfig.host)&&(l.credentials="include"),TS.fetch()(o,l)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function PN(n,e){return Fr(n,"POST","/v2/accounts:revokeToken",Vi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const t=Sw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await DN(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new oo;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(n,e){ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Tn{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Lg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Jp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await wo(this,this.stsTokenManager.getToken(this.auth,e));return ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return TN(this,e)}reload(){return IN(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Tn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await rd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kt(this.auth.app))return Promise.reject(_r(this.auth));const e=await this.getIdToken();return await wo(this,EN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,d;const h=(r=t.displayName)!==null&&r!==void 0?r:void 0,p=(i=t.email)!==null&&i!==void 0?i:void 0,g=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=t.photoURL)!==null&&o!==void 0?o:void 0,k=(a=t.tenantId)!==null&&a!==void 0?a:void 0,C=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=t.createdAt)!==null&&c!==void 0?c:void 0,y=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:x,isAnonymous:M,providerData:V,stsTokenManager:I}=t;ee(E&&I,e,"internal-error");const v=oo.fromJSON(this.name,I);ee(typeof E=="string",e,"internal-error"),Hr(h,e.name),Hr(p,e.name),ee(typeof x=="boolean",e,"internal-error"),ee(typeof M=="boolean",e,"internal-error"),Hr(g,e.name),Hr(w,e.name),Hr(k,e.name),Hr(C,e.name),Hr(_,e.name),Hr(y,e.name);const S=new Tn({uid:E,auth:e,email:p,emailVerified:x,displayName:h,isAnonymous:M,photoURL:w,phoneNumber:g,tenantId:k,stsTokenManager:v,createdAt:_,lastLoginAt:y});return V&&Array.isArray(V)&&(S.providerData=V.map(D=>Object.assign({},D))),C&&(S._redirectEventId=C),S}static async _fromIdTokenResponse(e,t,r=!1){const i=new oo;i.updateFromServerResponse(t);const s=new Tn({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await rd(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?IS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new oo;a.updateFromIdToken(r);const l=new Tn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Jp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=new Map;function gr(n){Ar(n instanceof Function,"Expected a class definition");let e=kw.get(n);return e?(Ar(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,kw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}CS.type="NONE";const Iw=CS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(n,e,t){return`firebase:${n}:${e}:${t}`}class ao{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=hc(this.userKey,i.apiKey,s),this.fullPersistenceKey=hc("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await nd(this.auth,{idToken:e}).catch(()=>{});return t?Tn._fromGetAccountInfoResponse(this.auth,t,e):null}return Tn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ao(gr(Iw),e,r);const i=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||gr(Iw);const o=hc(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const p=await nd(e,{idToken:d}).catch(()=>{});if(!p)break;h=await Tn._fromGetAccountInfoResponse(e,p,d)}else h=Tn._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ao(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ao(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AS(e))return"Blackberry";if(NS(e))return"Webos";if(PS(e))return"Safari";if((e.includes("chrome/")||RS(e))&&!e.includes("edge/"))return"Chrome";if(xS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function DS(n=Pt()){return/firefox\//i.test(n)}function PS(n=Pt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RS(n=Pt()){return/crios\//i.test(n)}function bS(n=Pt()){return/iemobile/i.test(n)}function xS(n=Pt()){return/android/i.test(n)}function AS(n=Pt()){return/blackberry/i.test(n)}function NS(n=Pt()){return/webos/i.test(n)}function jg(n=Pt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function RN(n=Pt()){var e;return jg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bN(){return Hx()&&document.documentMode===10}function OS(n=Pt()){return jg(n)||xS(n)||NS(n)||AS(n)||/windows phone/i.test(n)||bS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(n,e=[]){let t;switch(n){case"Browser":t=Cw(Pt());break;case"Worker":t=`${Cw(Pt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ks}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(n,e={}){return Fr(n,"GET","/v2/passwordPolicy",Vi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=6;class ON{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:NN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dw(this),this.idTokenSubscription=new Dw(this),this.beforeStateQueue=new xN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gr(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await nd(this,{idToken:e}),r=await Tn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Kt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kt(this.app))return Promise.reject(_r(this));const t=e?Me(e):null;return t&&ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kt(this.app)?Promise.reject(_r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kt(this.app)?Promise.reject(_r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AN(this),t=new ON(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ll("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await PN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gr(e)||this._popupRedirectResolver;ee(t,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[gr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Kt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&cN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Is(n){return Me(n)}class Dw{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jx(t=>this.observer=t)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LN(n){Jd=n}function LS(n){return Jd.loadJS(n)}function VN(){return Jd.recaptchaEnterpriseScript}function FN(){return Jd.gapiScript}function UN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class jN{constructor(){this.enterprise=new BN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class BN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const $N="recaptcha-enterprise",VS="NO_RECAPTCHA";class WN{constructor(e){this.type=$N,this.auth=Is(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{wN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new _N(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Tw(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(VS)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jN().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&Tw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=VN();l.length!==0&&(l+=a),LS(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function ya(n,e,t,r=!1,i=!1){const s=new WN(n);let o;if(i)o=VS;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}const a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Zp(n,e,t,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await ya(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await ya(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await ya(n,e,t);return r(n,a).catch(async l=>{var c;if(((c=n._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const d=await ya(n,e,t,!1,!0);return r(n,d)}return Promise.reject(l)})}else{const a=await ya(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(n,e){const t=Xd(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Ei(s,e??{}))return i;Pn(i,"already-initialized")}return t.initialize({options:e})}function zN(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(gr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function YN(n,e,t){const r=Is(n);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),s=FS(e),{host:o,port:a}=qN(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(Ei(c,r.config.emulator)&&Ei(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Li(o)?(xg(`${s}//${o}${l}`),Ag("Auth",!0)):i||KN()}function FS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function qN(n){const e=FS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Pw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Pw(o)}}}function Pw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function KN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return mr("not implemented")}_getIdTokenResponse(e){return mr("not implemented")}_linkToIdToken(e,t){return mr("not implemented")}_getReauthenticationResolver(e){return mr("not implemented")}}async function QN(n,e){return Fr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(n,e){return Ul(n,"POST","/v1/accounts:signInWithPassword",Vi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(n,e){return Ul(n,"POST","/v1/accounts:signInWithEmailLink",Vi(n,e))}async function JN(n,e){return Ul(n,"POST","/v1/accounts:signInWithEmailLink",Vi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends Bg{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new vl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new vl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zp(e,t,"signInWithPassword",GN,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return XN(e,{email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zp(e,r,"signUpPassword",QN,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return JN(e,{idToken:t,email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(n,e){return Ul(n,"POST","/v1/accounts:signInWithIdp",Vi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="http://localhost";class ps extends Bg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Pn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=Lg(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ps(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return lo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,lo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,lo(e,t)}buildRequest(){const e={requestUri:ZN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tO(n){const e=Ra(ba(n)).link,t=e?Ra(ba(e)).deep_link_id:null,r=Ra(ba(n)).deep_link_id;return(r?Ra(ba(r)).link:null)||r||t||e||n}class $g{constructor(e){var t,r,i,s,o,a;const l=Ra(ba(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=eO((i=l.mode)!==null&&i!==void 0?i:null);ee(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=tO(e);try{return new $g(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(){this.providerId=$o.PROVIDER_ID}static credential(e,t){return vl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=$g.parseLink(t);return ee(r,"argument-error"),vl._fromEmailAndCode(e,r.code,r.tenantId)}}$o.PROVIDER_ID="password";$o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends US{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends jl{constructor(){super("facebook.com")}static credential(e){return ps._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ps._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Xr.credential(t,r)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends jl{constructor(){super("github.com")}static credential(e){return ps._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends jl{constructor(){super("twitter.com")}static credential(e,t){return ps._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Zr.credential(t,r)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(n,e){return Ul(n,"POST","/v1/accounts:signUp",Vi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Tn._fromIdTokenResponse(e,r,i),o=Rw(r);return new ms({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=Rw(r);return new ms({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function Rw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends rr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,id.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new id(e,t,r,i)}}function jS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?id._fromErrorAndOperation(n,s,e,r):s})}async function rO(n,e,t=!1){const r=await wo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ms._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(n,e,t=!1){const{auth:r}=n;if(Kt(r.app))return Promise.reject(_r(r));const i="reauthenticate";try{const s=await wo(n,jS(r,i,e,n),t);ee(s.idToken,r,"internal-error");const o=Ug(s.idToken);ee(o,r,"internal-error");const{sub:a}=o;return ee(n.uid===a,r,"user-mismatch"),ms._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Pn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BS(n,e,t=!1){if(Kt(n.app))return Promise.reject(_r(n));const r="signIn",i=await jS(n,r,e),s=await ms._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function sO(n,e){return BS(Is(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $S(n){const e=Is(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function oO(n,e,t){if(Kt(n.app))return Promise.reject(_r(n));const r=Is(n),o=await Zp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nO,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&$S(n),l}),a=await ms._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function aO(n,e,t){return Kt(n.app)?Promise.reject(_r(n)):sO(Me(n),$o.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$S(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO(n,e){return Fr(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Me(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=await wo(r,lO(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function cO(n,e,t,r){return Me(n).onIdTokenChanged(e,t,r)}function dO(n,e,t){return Me(n).beforeAuthStateChanged(e,t)}function hO(n,e,t,r){return Me(n).onAuthStateChanged(e,t,r)}function fO(n){return Me(n).signOut()}const sd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sd,"1"),this.storage.removeItem(sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=1e3,mO=10;class HS extends WS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);bN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,mO):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},pO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}HS.type="LOCAL";const gO=HS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS extends WS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}zS.type="SESSION";const YS=zS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Zd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(t.origin,s)),l=await yO(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Wg("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return window}function _O(n){Kn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(){return typeof Kn().WorkerGlobalScope<"u"&&typeof Kn().importScripts=="function"}async function wO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function TO(){return qS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="firebaseLocalStorageDb",SO=1,od="firebaseLocalStorage",QS="fbase_key";class Bl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function eh(n,e){return n.transaction([od],e?"readwrite":"readonly").objectStore(od)}function kO(){const n=indexedDB.deleteDatabase(KS);return new Bl(n).toPromise()}function em(){const n=indexedDB.open(KS,SO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(od,{keyPath:QS})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(od)?e(r):(r.close(),await kO(),e(await em()))})})}async function bw(n,e,t){const r=eh(n,!0).put({[QS]:e,value:t});return new Bl(r).toPromise()}async function IO(n,e){const t=eh(n,!1).get(e),r=await new Bl(t).toPromise();return r===void 0?null:r.value}function xw(n,e){const t=eh(n,!0).delete(e);return new Bl(t).toPromise()}const CO=800,DO=3;class GS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await em(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>DO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zd._getInstance(TO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await wO(),!this.activeServiceWorker)return;this.sender=new vO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await em();return await bw(e,sd,"1"),await xw(e,sd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>bw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>IO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>xw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=eh(i,!1).getAll();return new Bl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GS.type="LOCAL";const PO=GS;new Fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(n,e){return e?gr(e):(ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg extends Bg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return lo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function bO(n){return BS(n.auth,new Hg(n),n.bypassAuthState)}function xO(n){const{auth:e,user:t}=n;return ee(t,e,"internal-error"),iO(t,new Hg(n),n.bypassAuthState)}async function AO(n){const{auth:e,user:t}=n;return ee(t,e,"internal-error"),rO(t,new Hg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bO;case"linkViaPopup":case"linkViaRedirect":return AO;case"reauthViaPopup":case"reauthViaRedirect":return xO;default:Pn(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=new Fl(2e3,1e4);class Zs extends XS{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Zs.currentPopupAction&&Zs.currentPopupAction.cancel(),Zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){Ar(this.filter.length===1,"Popup operations only handle one event");const e=Wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NO.get())};e()}}Zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="pendingRedirect",fc=new Map;class MO extends XS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=fc.get(this.auth._key());if(!e){try{const r=await LO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}fc.set(this.auth._key(),e)}return this.bypassAuthState||fc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LO(n,e){const t=UO(e),r=FO(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function VO(n,e){fc.set(n._key(),e)}function FO(n){return gr(n._redirectPersistence)}function UO(n){return hc(OO,n.config.apiKey,n.name)}async function jO(n,e,t=!1){if(Kt(n.app))return Promise.reject(_r(n));const r=Is(n),i=RO(r,e),o=await new MO(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=10*60*1e3;class $O{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!JS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(qn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Aw(e))}saveEventToCache(e){this.cachedEventUids.add(Aw(e)),this.lastProcessedEventTime=Date.now()}}function Aw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function JS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(n,e={}){return Fr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YO=/^https?/;async function qO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await HO(n);for(const t of e)try{if(KO(t))return}catch{}Pn(n,"unauthorized-domain")}function KO(n){const e=Xp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!YO.test(t))return!1;if(zO.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=new Fl(3e4,6e4);function Nw(){const n=Kn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function GO(n){return new Promise((e,t)=>{var r,i,s;function o(){Nw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Nw(),t(qn(n,"network-request-failed"))},timeout:QO.get()})}if(!((i=(r=Kn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Kn().gapi)===null||s===void 0)&&s.load)o();else{const a=UN("iframefcb");return Kn()[a]=()=>{gapi.load?o():t(qn(n,"network-request-failed"))},LS(`${FN()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw pc=null,e})}let pc=null;function XO(n){return pc=pc||GO(n),pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=new Fl(5e3,15e3),ZO="__/auth/iframe",eM="emulator/auth/iframe",tM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rM(n){const e=n.config;ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Fg(e,eM):`https://${n.config.authDomain}/${ZO}`,r={apiKey:e.apiKey,appName:n.name,v:ks},i=nM.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Vl(r).slice(1)}`}async function iM(n){const e=await XO(n),t=Kn().gapi;return ee(t,n,"internal-error"),e.open({where:document.body,url:rM(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=qn(n,"network-request-failed"),a=Kn().setTimeout(()=>{s(o)},JO.get());function l(){Kn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oM=500,aM=600,lM="_blank",uM="http://localhost";class Ow{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cM(n,e,t,r=oM,i=aM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},sM),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Pt().toLowerCase();t&&(a=RS(c)?lM:t),DS(c)&&(e=e||uM,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(RN(c)&&a!=="_self")return dM(e||"",a),new Ow(null);const h=window.open(e||"",a,d);ee(h,n,"popup-blocked");try{h.focus()}catch{}return new Ow(h)}function dM(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="__/auth/handler",fM="emulator/auth/handler",pM=encodeURIComponent("fac");async function Mw(n,e,t,r,i,s){ee(n.config.authDomain,n,"auth-domain-config-required"),ee(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ks,eventId:i};if(e instanceof US){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",Xx(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof jl){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await n._getAppCheckToken(),c=l?`#${pM}=${encodeURIComponent(l)}`:"";return`${mM(n)}?${Vl(a).slice(1)}${c}`}function mM({config:n}){return n.emulator?Fg(n,fM):`https://${n.authDomain}/${hM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="webStorageSupport";class gM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YS,this._completeRedirectFn=jO,this._overrideRedirectResult=VO}async _openPopup(e,t,r,i){var s;Ar((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Mw(e,t,r,Xp(),i);return cM(e,o,Wg())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await Mw(e,t,r,Xp(),i);return _O(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ar(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await iM(e),r=new $O(e);return t.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Lf,{type:Lf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Lf];o!==void 0&&t(!!o),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=qO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return OS()||PS()||jg()}}const yM=gM;var Lw="@firebase/auth",Vw="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wM(n){fs(new Ti("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MS(n)},c=new MN(r,i,s,l);return zN(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),fs(new Ti("auth-internal",e=>{const t=Is(e.getProvider("auth").getImmediate());return(r=>new vM(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yn(Lw,Vw,_M(n)),Yn(Lw,Vw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=5*60,TM=hS("authIdTokenMaxAge")||EM;let Fw=null;const SM=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>TM)return;const i=t==null?void 0:t.token;Fw!==i&&(Fw=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function kM(n=Mg()){const e=Xd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=HN(n,{popupRedirectResolver:yM,persistence:[PO,gO,YS]}),r=hS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=SM(s.toString());dO(t,o,()=>o(t.currentUser)),cO(t,a=>o(a))}}const i=uS("auth");return i&&YN(t,`http://${i}`),t}function IM(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}LN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=qn("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",IM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wM("Browser");var CM="firebase",DM="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn(CM,DM,"app");var Uw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mi,ZS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,v){function S(){}S.prototype=v.prototype,I.D=v.prototype,I.prototype=new S,I.prototype.constructor=I,I.C=function(D,b,N){for(var P=Array(arguments.length-2),se=2;se<arguments.length;se++)P[se-2]=arguments[se];return v.prototype[b].apply(D,P)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,S){S||(S=0);var D=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)D[b]=v.charCodeAt(S++)|v.charCodeAt(S++)<<8|v.charCodeAt(S++)<<16|v.charCodeAt(S++)<<24;else for(b=0;16>b;++b)D[b]=v[S++]|v[S++]<<8|v[S++]<<16|v[S++]<<24;v=I.g[0],S=I.g[1],b=I.g[2];var N=I.g[3],P=v+(N^S&(b^N))+D[0]+3614090360&4294967295;v=S+(P<<7&4294967295|P>>>25),P=N+(b^v&(S^b))+D[1]+3905402710&4294967295,N=v+(P<<12&4294967295|P>>>20),P=b+(S^N&(v^S))+D[2]+606105819&4294967295,b=N+(P<<17&4294967295|P>>>15),P=S+(v^b&(N^v))+D[3]+3250441966&4294967295,S=b+(P<<22&4294967295|P>>>10),P=v+(N^S&(b^N))+D[4]+4118548399&4294967295,v=S+(P<<7&4294967295|P>>>25),P=N+(b^v&(S^b))+D[5]+1200080426&4294967295,N=v+(P<<12&4294967295|P>>>20),P=b+(S^N&(v^S))+D[6]+2821735955&4294967295,b=N+(P<<17&4294967295|P>>>15),P=S+(v^b&(N^v))+D[7]+4249261313&4294967295,S=b+(P<<22&4294967295|P>>>10),P=v+(N^S&(b^N))+D[8]+1770035416&4294967295,v=S+(P<<7&4294967295|P>>>25),P=N+(b^v&(S^b))+D[9]+2336552879&4294967295,N=v+(P<<12&4294967295|P>>>20),P=b+(S^N&(v^S))+D[10]+4294925233&4294967295,b=N+(P<<17&4294967295|P>>>15),P=S+(v^b&(N^v))+D[11]+2304563134&4294967295,S=b+(P<<22&4294967295|P>>>10),P=v+(N^S&(b^N))+D[12]+1804603682&4294967295,v=S+(P<<7&4294967295|P>>>25),P=N+(b^v&(S^b))+D[13]+4254626195&4294967295,N=v+(P<<12&4294967295|P>>>20),P=b+(S^N&(v^S))+D[14]+2792965006&4294967295,b=N+(P<<17&4294967295|P>>>15),P=S+(v^b&(N^v))+D[15]+1236535329&4294967295,S=b+(P<<22&4294967295|P>>>10),P=v+(b^N&(S^b))+D[1]+4129170786&4294967295,v=S+(P<<5&4294967295|P>>>27),P=N+(S^b&(v^S))+D[6]+3225465664&4294967295,N=v+(P<<9&4294967295|P>>>23),P=b+(v^S&(N^v))+D[11]+643717713&4294967295,b=N+(P<<14&4294967295|P>>>18),P=S+(N^v&(b^N))+D[0]+3921069994&4294967295,S=b+(P<<20&4294967295|P>>>12),P=v+(b^N&(S^b))+D[5]+3593408605&4294967295,v=S+(P<<5&4294967295|P>>>27),P=N+(S^b&(v^S))+D[10]+38016083&4294967295,N=v+(P<<9&4294967295|P>>>23),P=b+(v^S&(N^v))+D[15]+3634488961&4294967295,b=N+(P<<14&4294967295|P>>>18),P=S+(N^v&(b^N))+D[4]+3889429448&4294967295,S=b+(P<<20&4294967295|P>>>12),P=v+(b^N&(S^b))+D[9]+568446438&4294967295,v=S+(P<<5&4294967295|P>>>27),P=N+(S^b&(v^S))+D[14]+3275163606&4294967295,N=v+(P<<9&4294967295|P>>>23),P=b+(v^S&(N^v))+D[3]+4107603335&4294967295,b=N+(P<<14&4294967295|P>>>18),P=S+(N^v&(b^N))+D[8]+1163531501&4294967295,S=b+(P<<20&4294967295|P>>>12),P=v+(b^N&(S^b))+D[13]+2850285829&4294967295,v=S+(P<<5&4294967295|P>>>27),P=N+(S^b&(v^S))+D[2]+4243563512&4294967295,N=v+(P<<9&4294967295|P>>>23),P=b+(v^S&(N^v))+D[7]+1735328473&4294967295,b=N+(P<<14&4294967295|P>>>18),P=S+(N^v&(b^N))+D[12]+2368359562&4294967295,S=b+(P<<20&4294967295|P>>>12),P=v+(S^b^N)+D[5]+4294588738&4294967295,v=S+(P<<4&4294967295|P>>>28),P=N+(v^S^b)+D[8]+2272392833&4294967295,N=v+(P<<11&4294967295|P>>>21),P=b+(N^v^S)+D[11]+1839030562&4294967295,b=N+(P<<16&4294967295|P>>>16),P=S+(b^N^v)+D[14]+4259657740&4294967295,S=b+(P<<23&4294967295|P>>>9),P=v+(S^b^N)+D[1]+2763975236&4294967295,v=S+(P<<4&4294967295|P>>>28),P=N+(v^S^b)+D[4]+1272893353&4294967295,N=v+(P<<11&4294967295|P>>>21),P=b+(N^v^S)+D[7]+4139469664&4294967295,b=N+(P<<16&4294967295|P>>>16),P=S+(b^N^v)+D[10]+3200236656&4294967295,S=b+(P<<23&4294967295|P>>>9),P=v+(S^b^N)+D[13]+681279174&4294967295,v=S+(P<<4&4294967295|P>>>28),P=N+(v^S^b)+D[0]+3936430074&4294967295,N=v+(P<<11&4294967295|P>>>21),P=b+(N^v^S)+D[3]+3572445317&4294967295,b=N+(P<<16&4294967295|P>>>16),P=S+(b^N^v)+D[6]+76029189&4294967295,S=b+(P<<23&4294967295|P>>>9),P=v+(S^b^N)+D[9]+3654602809&4294967295,v=S+(P<<4&4294967295|P>>>28),P=N+(v^S^b)+D[12]+3873151461&4294967295,N=v+(P<<11&4294967295|P>>>21),P=b+(N^v^S)+D[15]+530742520&4294967295,b=N+(P<<16&4294967295|P>>>16),P=S+(b^N^v)+D[2]+3299628645&4294967295,S=b+(P<<23&4294967295|P>>>9),P=v+(b^(S|~N))+D[0]+4096336452&4294967295,v=S+(P<<6&4294967295|P>>>26),P=N+(S^(v|~b))+D[7]+1126891415&4294967295,N=v+(P<<10&4294967295|P>>>22),P=b+(v^(N|~S))+D[14]+2878612391&4294967295,b=N+(P<<15&4294967295|P>>>17),P=S+(N^(b|~v))+D[5]+4237533241&4294967295,S=b+(P<<21&4294967295|P>>>11),P=v+(b^(S|~N))+D[12]+1700485571&4294967295,v=S+(P<<6&4294967295|P>>>26),P=N+(S^(v|~b))+D[3]+2399980690&4294967295,N=v+(P<<10&4294967295|P>>>22),P=b+(v^(N|~S))+D[10]+4293915773&4294967295,b=N+(P<<15&4294967295|P>>>17),P=S+(N^(b|~v))+D[1]+2240044497&4294967295,S=b+(P<<21&4294967295|P>>>11),P=v+(b^(S|~N))+D[8]+1873313359&4294967295,v=S+(P<<6&4294967295|P>>>26),P=N+(S^(v|~b))+D[15]+4264355552&4294967295,N=v+(P<<10&4294967295|P>>>22),P=b+(v^(N|~S))+D[6]+2734768916&4294967295,b=N+(P<<15&4294967295|P>>>17),P=S+(N^(b|~v))+D[13]+1309151649&4294967295,S=b+(P<<21&4294967295|P>>>11),P=v+(b^(S|~N))+D[4]+4149444226&4294967295,v=S+(P<<6&4294967295|P>>>26),P=N+(S^(v|~b))+D[11]+3174756917&4294967295,N=v+(P<<10&4294967295|P>>>22),P=b+(v^(N|~S))+D[2]+718787259&4294967295,b=N+(P<<15&4294967295|P>>>17),P=S+(N^(b|~v))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(b+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+b&4294967295,I.g[3]=I.g[3]+N&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var S=v-this.blockSize,D=this.B,b=this.h,N=0;N<v;){if(b==0)for(;N<=S;)i(this,I,N),N+=this.blockSize;if(typeof I=="string"){for(;N<v;)if(D[b++]=I.charCodeAt(N++),b==this.blockSize){i(this,D),b=0;break}}else for(;N<v;)if(D[b++]=I[N++],b==this.blockSize){i(this,D),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var S=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=S&255,S/=256;for(this.u(I),I=Array(16),v=S=0;4>v;++v)for(var D=0;32>D;D+=8)I[S++]=this.g[v]>>>D&255;return I};function s(I,v){var S=a;return Object.prototype.hasOwnProperty.call(S,I)?S[I]:S[I]=v(I)}function o(I,v){this.h=v;for(var S=[],D=!0,b=I.length-1;0<=b;b--){var N=I[b]|0;D&&N==v||(S[b]=N,D=!1)}this.g=S}var a={};function l(I){return-128<=I&&128>I?s(I,function(v){return new o([v|0],0>v?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return C(c(-I));for(var v=[],S=1,D=0;I>=S;D++)v[D]=I/S|0,S*=4294967296;return new o(v,0)}function d(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return C(d(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(v,8)),D=h,b=0;b<I.length;b+=8){var N=Math.min(8,I.length-b),P=parseInt(I.substring(b,b+N),v);8>N?(N=c(Math.pow(v,N)),D=D.j(N).add(c(P))):(D=D.j(S),D=D.add(c(P)))}return D}var h=l(0),p=l(1),g=l(16777216);n=o.prototype,n.m=function(){if(k(this))return-C(this).m();for(var I=0,v=1,S=0;S<this.g.length;S++){var D=this.i(S);I+=(0<=D?D:4294967296+D)*v,v*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(w(this))return"0";if(k(this))return"-"+C(this).toString(I);for(var v=c(Math.pow(I,6)),S=this,D="";;){var b=x(S,v).g;S=_(S,b.j(v));var N=((0<S.g.length?S.g[0]:S.h)>>>0).toString(I);if(S=b,w(S))return N+D;for(;6>N.length;)N="0"+N;D=N+D}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function w(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function k(I){return I.h==-1}n.l=function(I){return I=_(this,I),k(I)?-1:w(I)?0:1};function C(I){for(var v=I.g.length,S=[],D=0;D<v;D++)S[D]=~I.g[D];return new o(S,~I.h).add(p)}n.abs=function(){return k(this)?C(this):this},n.add=function(I){for(var v=Math.max(this.g.length,I.g.length),S=[],D=0,b=0;b<=v;b++){var N=D+(this.i(b)&65535)+(I.i(b)&65535),P=(N>>>16)+(this.i(b)>>>16)+(I.i(b)>>>16);D=P>>>16,N&=65535,P&=65535,S[b]=P<<16|N}return new o(S,S[S.length-1]&-2147483648?-1:0)};function _(I,v){return I.add(C(v))}n.j=function(I){if(w(this)||w(I))return h;if(k(this))return k(I)?C(this).j(C(I)):C(C(this).j(I));if(k(I))return C(this.j(C(I)));if(0>this.l(g)&&0>I.l(g))return c(this.m()*I.m());for(var v=this.g.length+I.g.length,S=[],D=0;D<2*v;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var b=0;b<I.g.length;b++){var N=this.i(D)>>>16,P=this.i(D)&65535,se=I.i(b)>>>16,le=I.i(b)&65535;S[2*D+2*b]+=P*le,y(S,2*D+2*b),S[2*D+2*b+1]+=N*le,y(S,2*D+2*b+1),S[2*D+2*b+1]+=P*se,y(S,2*D+2*b+1),S[2*D+2*b+2]+=N*se,y(S,2*D+2*b+2)}for(D=0;D<v;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=v;D<2*v;D++)S[D]=0;return new o(S,0)};function y(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function E(I,v){this.g=I,this.h=v}function x(I,v){if(w(v))throw Error("division by zero");if(w(I))return new E(h,h);if(k(I))return v=x(C(I),v),new E(C(v.g),C(v.h));if(k(v))return v=x(I,C(v)),new E(C(v.g),v.h);if(30<I.g.length){if(k(I)||k(v))throw Error("slowDivide_ only works with positive integers.");for(var S=p,D=v;0>=D.l(I);)S=M(S),D=M(D);var b=V(S,1),N=V(D,1);for(D=V(D,2),S=V(S,2);!w(D);){var P=N.add(D);0>=P.l(I)&&(b=b.add(S),N=P),D=V(D,1),S=V(S,1)}return v=_(I,b.j(v)),new E(b,v)}for(b=h;0<=I.l(v);){for(S=Math.max(1,Math.floor(I.m()/v.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),N=c(S),P=N.j(v);k(P)||0<P.l(I);)S-=D,N=c(S),P=N.j(v);w(N)&&(N=p),b=b.add(N),I=_(I,P)}return new E(b,I)}n.A=function(I){return x(this,I).h},n.and=function(I){for(var v=Math.max(this.g.length,I.g.length),S=[],D=0;D<v;D++)S[D]=this.i(D)&I.i(D);return new o(S,this.h&I.h)},n.or=function(I){for(var v=Math.max(this.g.length,I.g.length),S=[],D=0;D<v;D++)S[D]=this.i(D)|I.i(D);return new o(S,this.h|I.h)},n.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),S=[],D=0;D<v;D++)S[D]=this.i(D)^I.i(D);return new o(S,this.h^I.h)};function M(I){for(var v=I.g.length+1,S=[],D=0;D<v;D++)S[D]=I.i(D)<<1|I.i(D-1)>>>31;return new o(S,I.h)}function V(I,v){var S=v>>5;v%=32;for(var D=I.g.length-S,b=[],N=0;N<D;N++)b[N]=0<v?I.i(N+S)>>>v|I.i(N+S+1)<<32-v:I.i(N+S);return new o(b,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ZS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,mi=o}).apply(typeof Uw<"u"?Uw:typeof self<"u"?self:typeof window<"u"?window:{});var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ek,xa,tk,mc,tm,nk,rk,ik;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,m){return u==Array.prototype||u==Object.prototype||(u[f]=m.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vu=="object"&&Vu];for(var f=0;f<u.length;++f){var m=u[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=t(this);function i(u,f){if(f)e:{var m=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var O=u[T];if(!(O in m))break e;m=m[O]}u=u[u.length-1],T=m[u],f=f(T),f!=T&&f!=null&&e(m,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var m=0,T=!1,O={next:function(){if(!T&&m<u.length){var L=m++;return{value:f(L,u[L]),done:!1}}return T=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function c(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function d(u,f,m){return u.call.apply(u.bind,arguments)}function h(u,f,m){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,T),u.apply(f,O)}}return function(){return u.apply(f,arguments)}}function p(u,f,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function g(u,f){var m=Array.prototype.slice.call(arguments,1);return function(){var T=m.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,f){function m(){}m.prototype=f.prototype,u.aa=f.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(T,O,L){for(var W=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)W[Ie-2]=arguments[Ie];return f.prototype[O].apply(T,W)}}function k(u){const f=u.length;if(0<f){const m=Array(f);for(let T=0;T<f;T++)m[T]=u[T];return m}return[]}function C(u,f){for(let m=1;m<arguments.length;m++){const T=arguments[m];if(l(T)){const O=u.length||0,L=T.length||0;u.length=O+L;for(let W=0;W<L;W++)u[O+W]=T[W]}else u.push(T)}}class _{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function y(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function x(u){return x[" "](u),u}x[" "]=function(){};var M=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function V(u,f,m){for(const T in u)f.call(m,u[T],T,u)}function I(u,f){for(const m in u)f.call(void 0,u[m],m,u)}function v(u){const f={};for(const m in u)f[m]=u[m];return f}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,f){let m,T;for(let O=1;O<arguments.length;O++){T=arguments[O];for(m in T)u[m]=T[m];for(let L=0;L<S.length;L++)m=S[L],Object.prototype.hasOwnProperty.call(T,m)&&(u[m]=T[m])}}function b(u){var f=1;u=u.split(":");const m=[];for(;0<f&&u.length;)m.push(u.shift()),f--;return u.length&&m.push(u.join(":")),m}function N(u){a.setTimeout(()=>{throw u},0)}function P(){var u=Q;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class se{constructor(){this.h=this.g=null}add(f,m){const T=le.get();T.set(f,m),this.h?this.h.next=T:this.g=T,this.h=T}}var le=new _(()=>new Z,u=>u.reset());class Z{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,j=!1,Q=new se,J=()=>{const u=a.Promise.resolve(void 0);ne=()=>{u.then(he)}};var he=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(m){N(m)}var f=le;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}j=!1};function ke(){this.s=this.s,this.C=this.C}ke.prototype.s=!1,ke.prototype.ma=function(){this.s||(this.s=!0,this.N())},ke.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function qe(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}qe.prototype.h=function(){this.defaultPrevented=!0};var sr=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return u}();function or(u,f){if(qe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(M){e:{try{x(f.nodeName);var O=!0;break e}catch{}O=!1}O||(f=null)}}else m=="mouseover"?f=u.fromElement:m=="mouseout"&&(f=u.toElement);this.relatedTarget=f,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ar[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&or.aa.h.call(this)}}w(or,qe);var ar={2:"touch",3:"pen",4:"mouse"};or.prototype.h=function(){or.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var An="closure_listenable_"+(1e6*Math.random()|0),UC=0;function jC(u,f,m,T,O){this.listener=u,this.proxy=null,this.src=f,this.type=m,this.capture=!!T,this.ha=O,this.key=++UC,this.da=this.fa=!1}function eu(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function tu(u){this.src=u,this.g={},this.h=0}tu.prototype.add=function(u,f,m,T,O){var L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);var W=Ah(u,f,T,O);return-1<W?(f=u[W],m||(f.fa=!1)):(f=new jC(f,this.src,L,!!T,O),f.fa=m,u.push(f)),f};function xh(u,f){var m=f.type;if(m in u.g){var T=u.g[m],O=Array.prototype.indexOf.call(T,f,void 0),L;(L=0<=O)&&Array.prototype.splice.call(T,O,1),L&&(eu(f),u.g[m].length==0&&(delete u.g[m],u.h--))}}function Ah(u,f,m,T){for(var O=0;O<u.length;++O){var L=u[O];if(!L.da&&L.listener==f&&L.capture==!!m&&L.ha==T)return O}return-1}var Nh="closure_lm_"+(1e6*Math.random()|0),Oh={};function Ky(u,f,m,T,O){if(T&&T.once)return Gy(u,f,m,T,O);if(Array.isArray(f)){for(var L=0;L<f.length;L++)Ky(u,f[L],m,T,O);return null}return m=Fh(m),u&&u[An]?u.K(f,m,c(T)?!!T.capture:!!T,O):Qy(u,f,m,!1,T,O)}function Qy(u,f,m,T,O,L){if(!f)throw Error("Invalid event type");var W=c(O)?!!O.capture:!!O,Ie=Lh(u);if(Ie||(u[Nh]=Ie=new tu(u)),m=Ie.add(f,m,T,W,L),m.proxy)return m;if(T=BC(),m.proxy=T,T.src=u,T.listener=m,u.addEventListener)sr||(O=W),O===void 0&&(O=!1),u.addEventListener(f.toString(),T,O);else if(u.attachEvent)u.attachEvent(Jy(f.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return m}function BC(){function u(m){return f.call(u.src,u.listener,m)}const f=$C;return u}function Gy(u,f,m,T,O){if(Array.isArray(f)){for(var L=0;L<f.length;L++)Gy(u,f[L],m,T,O);return null}return m=Fh(m),u&&u[An]?u.L(f,m,c(T)?!!T.capture:!!T,O):Qy(u,f,m,!0,T,O)}function Xy(u,f,m,T,O){if(Array.isArray(f))for(var L=0;L<f.length;L++)Xy(u,f[L],m,T,O);else T=c(T)?!!T.capture:!!T,m=Fh(m),u&&u[An]?(u=u.i,f=String(f).toString(),f in u.g&&(L=u.g[f],m=Ah(L,m,T,O),-1<m&&(eu(L[m]),Array.prototype.splice.call(L,m,1),L.length==0&&(delete u.g[f],u.h--)))):u&&(u=Lh(u))&&(f=u.g[f.toString()],u=-1,f&&(u=Ah(f,m,T,O)),(m=-1<u?f[u]:null)&&Mh(m))}function Mh(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[An])xh(f.i,u);else{var m=u.type,T=u.proxy;f.removeEventListener?f.removeEventListener(m,T,u.capture):f.detachEvent?f.detachEvent(Jy(m),T):f.addListener&&f.removeListener&&f.removeListener(T),(m=Lh(f))?(xh(m,u),m.h==0&&(m.src=null,f[Nh]=null)):eu(u)}}}function Jy(u){return u in Oh?Oh[u]:Oh[u]="on"+u}function $C(u,f){if(u.da)u=!0;else{f=new or(f,this);var m=u.listener,T=u.ha||u.src;u.fa&&Mh(u),u=m.call(T,f)}return u}function Lh(u){return u=u[Nh],u instanceof tu?u:null}var Vh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fh(u){return typeof u=="function"?u:(u[Vh]||(u[Vh]=function(f){return u.handleEvent(f)}),u[Vh])}function yt(){ke.call(this),this.i=new tu(this),this.M=this,this.F=null}w(yt,ke),yt.prototype[An]=!0,yt.prototype.removeEventListener=function(u,f,m,T){Xy(this,u,f,m,T)};function Rt(u,f){var m,T=u.F;if(T)for(m=[];T;T=T.F)m.push(T);if(u=u.M,T=f.type||f,typeof f=="string")f=new qe(f,u);else if(f instanceof qe)f.target=f.target||u;else{var O=f;f=new qe(T,u),D(f,O)}if(O=!0,m)for(var L=m.length-1;0<=L;L--){var W=f.g=m[L];O=nu(W,T,!0,f)&&O}if(W=f.g=u,O=nu(W,T,!0,f)&&O,O=nu(W,T,!1,f)&&O,m)for(L=0;L<m.length;L++)W=f.g=m[L],O=nu(W,T,!1,f)&&O}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var m=u.g[f],T=0;T<m.length;T++)eu(m[T]);delete u.g[f],u.h--}}this.F=null},yt.prototype.K=function(u,f,m,T){return this.i.add(String(u),f,!1,m,T)},yt.prototype.L=function(u,f,m,T){return this.i.add(String(u),f,!0,m,T)};function nu(u,f,m,T){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var O=!0,L=0;L<f.length;++L){var W=f[L];if(W&&!W.da&&W.capture==m){var Ie=W.listener,ut=W.ha||W.src;W.fa&&xh(u.i,W),O=Ie.call(ut,T)!==!1&&O}}return O&&!T.defaultPrevented}function Zy(u,f,m){if(typeof u=="function")m&&(u=p(u,m));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function ev(u){u.g=Zy(()=>{u.g=null,u.i&&(u.i=!1,ev(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class WC extends ke{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ev(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qo(u){ke.call(this),this.h=u,this.g={}}w(Qo,ke);var tv=[];function nv(u){V(u.g,function(f,m){this.g.hasOwnProperty(m)&&Mh(f)},u),u.g={}}Qo.prototype.N=function(){Qo.aa.N.call(this),nv(this)},Qo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Uh=a.JSON.stringify,HC=a.JSON.parse,zC=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function jh(){}jh.prototype.h=null;function rv(u){return u.h||(u.h=u.i())}function iv(){}var Go={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bh(){qe.call(this,"d")}w(Bh,qe);function $h(){qe.call(this,"c")}w($h,qe);var ji={},sv=null;function ru(){return sv=sv||new yt}ji.La="serverreachability";function ov(u){qe.call(this,ji.La,u)}w(ov,qe);function Xo(u){const f=ru();Rt(f,new ov(f))}ji.STAT_EVENT="statevent";function av(u,f){qe.call(this,ji.STAT_EVENT,u),this.stat=f}w(av,qe);function bt(u){const f=ru();Rt(f,new av(f,u))}ji.Ma="timingevent";function lv(u,f){qe.call(this,ji.Ma,u),this.size=f}w(lv,qe);function Jo(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function Zo(){this.g=!0}Zo.prototype.xa=function(){this.g=!1};function YC(u,f,m,T,O,L){u.info(function(){if(u.g)if(L)for(var W="",Ie=L.split("&"),ut=0;ut<Ie.length;ut++){var ye=Ie[ut].split("=");if(1<ye.length){var vt=ye[0];ye=ye[1];var _t=vt.split("_");W=2<=_t.length&&_t[1]=="type"?W+(vt+"="+ye+"&"):W+(vt+"=redacted&")}}else W=null;else W=L;return"XMLHTTP REQ ("+T+") [attempt "+O+"]: "+f+`
`+m+`
`+W})}function qC(u,f,m,T,O,L,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+O+"]: "+f+`
`+m+`
`+L+" "+W})}function bs(u,f,m,T){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+QC(u,m)+(T?" "+T:"")})}function KC(u,f){u.info(function(){return"TIMEOUT: "+f})}Zo.prototype.info=function(){};function QC(u,f){if(!u.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var T=m[u];if(!(2>T.length)){var O=T[1];if(Array.isArray(O)&&!(1>O.length)){var L=O[0];if(L!="noop"&&L!="stop"&&L!="close")for(var W=1;W<O.length;W++)O[W]=""}}}}return Uh(m)}catch{return f}}var iu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wh;function su(){}w(su,jh),su.prototype.g=function(){return new XMLHttpRequest},su.prototype.i=function(){return{}},Wh=new su;function jr(u,f,m,T){this.j=u,this.i=f,this.l=m,this.R=T||1,this.U=new Qo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cv}function cv(){this.i=null,this.g="",this.h=!1}var dv={},Hh={};function zh(u,f,m){u.L=1,u.v=uu(lr(f)),u.m=m,u.P=!0,hv(u,null)}function hv(u,f){u.F=Date.now(),ou(u),u.A=lr(u.v);var m=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Cv(m.i,"t",T),u.C=0,m=u.j.J,u.h=new cv,u.g=Hv(u.j,m?f:null,!u.m),0<u.O&&(u.M=new WC(p(u.Y,u,u.g),u.O)),f=u.U,m=u.g,T=u.ca;var O="readystatechange";Array.isArray(O)||(O&&(tv[0]=O.toString()),O=tv);for(var L=0;L<O.length;L++){var W=Ky(m,O[L],T||f.handleEvent,!1,f.h||f);if(!W)break;f.g[W.key]=W}f=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),Xo(),YC(u.i,u.u,u.A,u.l,u.R,u.m)}jr.prototype.ca=function(u){u=u.target;const f=this.M;f&&ur(u)==3?f.j():this.Y(u)},jr.prototype.Y=function(u){try{if(u==this.g)e:{const _t=ur(this.g);var f=this.g.Ba();const Ns=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||Nv(this.g)))){this.J||_t!=4||f==7||(f==8||0>=Ns?Xo(3):Xo(2)),Yh(this);var m=this.g.Z();this.X=m;t:if(fv(this)){var T=Nv(this.g);u="";var O=T.length,L=ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bi(this),ea(this);var W="";break t}this.h.i=new a.TextDecoder}for(f=0;f<O;f++)this.h.h=!0,u+=this.h.i.decode(T[f],{stream:!(L&&f==O-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=m==200,qC(this.i,this.u,this.A,this.l,this.R,_t,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,ut=this.g;if((Ie=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ie)){var ye=Ie;break t}}ye=null}if(m=ye)bs(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qh(this,m);else{this.o=!1,this.s=3,bt(12),Bi(this),ea(this);break e}}if(this.P){m=!0;let gn;for(;!this.J&&this.C<W.length;)if(gn=GC(this,W),gn==Hh){_t==4&&(this.s=4,bt(14),m=!1),bs(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==dv){this.s=4,bt(15),bs(this.i,this.l,W,"[Invalid Chunk]"),m=!1;break}else bs(this.i,this.l,gn,null),qh(this,gn);if(fv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||W.length!=0||this.h.h||(this.s=1,bt(16),m=!1),this.o=this.o&&m,!m)bs(this.i,this.l,W,"[Invalid Chunked Response]"),Bi(this),ea(this);else if(0<W.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Zh(vt),vt.M=!0,bt(11))}}else bs(this.i,this.l,W,null),qh(this,W);_t==4&&Bi(this),this.o&&!this.J&&(_t==4?jv(this.j,this):(this.o=!1,ou(this)))}else fD(this.g),m==400&&0<W.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),Bi(this),ea(this)}}}catch{}finally{}};function fv(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function GC(u,f){var m=u.C,T=f.indexOf(`
`,m);return T==-1?Hh:(m=Number(f.substring(m,T)),isNaN(m)?dv:(T+=1,T+m>f.length?Hh:(f=f.slice(T,T+m),u.C=T+m,f)))}jr.prototype.cancel=function(){this.J=!0,Bi(this)};function ou(u){u.S=Date.now()+u.I,pv(u,u.I)}function pv(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Jo(p(u.ba,u),f)}function Yh(u){u.B&&(a.clearTimeout(u.B),u.B=null)}jr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(KC(this.i,this.A),this.L!=2&&(Xo(),bt(17)),Bi(this),this.s=2,ea(this)):pv(this,this.S-u)};function ea(u){u.j.G==0||u.J||jv(u.j,u)}function Bi(u){Yh(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,nv(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function qh(u,f){try{var m=u.j;if(m.G!=0&&(m.g==u||Kh(m.h,u))){if(!u.K&&Kh(m.h,u)&&m.G==3){try{var T=m.Da.g.parse(f)}catch{T=null}if(Array.isArray(T)&&T.length==3){var O=T;if(O[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)mu(m),fu(m);else break e;Jh(m),bt(18)}}else m.za=O[1],0<m.za-m.T&&37500>O[2]&&m.F&&m.v==0&&!m.C&&(m.C=Jo(p(m.Za,m),6e3));if(1>=yv(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Wi(m,11)}else if((u.K||m.g==u)&&mu(m),!y(f))for(O=m.Da.g.parse(f),f=0;f<O.length;f++){let ye=O[f];if(m.T=ye[0],ye=ye[1],m.G==2)if(ye[0]=="c"){m.K=ye[1],m.ia=ye[2];const vt=ye[3];vt!=null&&(m.la=vt,m.j.info("VER="+m.la));const _t=ye[4];_t!=null&&(m.Aa=_t,m.j.info("SVER="+m.Aa));const Ns=ye[5];Ns!=null&&typeof Ns=="number"&&0<Ns&&(T=1.5*Ns,m.L=T,m.j.info("backChannelRequestTimeoutMs_="+T)),T=m;const gn=u.g;if(gn){const yu=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yu){var L=T.h;L.g||yu.indexOf("spdy")==-1&&yu.indexOf("quic")==-1&&yu.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Qh(L,L.h),L.h=null))}if(T.D){const ef=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;ef&&(T.ya=ef,Pe(T.I,T.D,ef))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),T=m;var W=u;if(T.qa=Wv(T,T.J?T.ia:null,T.W),W.K){vv(T.h,W);var Ie=W,ut=T.L;ut&&(Ie.I=ut),Ie.B&&(Yh(Ie),ou(Ie)),T.g=W}else Fv(T);0<m.i.length&&pu(m)}else ye[0]!="stop"&&ye[0]!="close"||Wi(m,7);else m.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Wi(m,7):Xh(m):ye[0]!="noop"&&m.l&&m.l.ta(ye),m.v=0)}}Xo(4)}catch{}}var XC=class{constructor(u,f){this.g=u,this.map=f}};function mv(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yv(u){return u.h?1:u.g?u.g.size:0}function Kh(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function Qh(u,f){u.g?u.g.add(f):u.h=f}function vv(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}mv.prototype.cancel=function(){if(this.i=_v(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _v(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const m of u.g.values())f=f.concat(m.D);return f}return k(u.i)}function JC(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],m=u.length,T=0;T<m;T++)f.push(u[T]);return f}f=[],m=0;for(T in u)f[m++]=u[T];return f}function ZC(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var m=0;m<u;m++)f.push(m);return f}f=[],m=0;for(const T in u)f[m++]=T;return f}}}function wv(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var m=ZC(u),T=JC(u),O=T.length,L=0;L<O;L++)f.call(void 0,T[L],m&&m[L],u)}var Ev=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eD(u,f){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var T=u[m].indexOf("="),O=null;if(0<=T){var L=u[m].substring(0,T);O=u[m].substring(T+1)}else L=u[m];f(L,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function $i(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof $i){this.h=u.h,au(this,u.j),this.o=u.o,this.g=u.g,lu(this,u.s),this.l=u.l;var f=u.i,m=new ra;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),Tv(this,m),this.m=u.m}else u&&(f=String(u).match(Ev))?(this.h=!1,au(this,f[1]||"",!0),this.o=ta(f[2]||""),this.g=ta(f[3]||"",!0),lu(this,f[4]),this.l=ta(f[5]||"",!0),Tv(this,f[6]||"",!0),this.m=ta(f[7]||"")):(this.h=!1,this.i=new ra(null,this.h))}$i.prototype.toString=function(){var u=[],f=this.j;f&&u.push(na(f,Sv,!0),":");var m=this.g;return(m||f=="file")&&(u.push("//"),(f=this.o)&&u.push(na(f,Sv,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(na(m,m.charAt(0)=="/"?rD:nD,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",na(m,sD)),u.join("")};function lr(u){return new $i(u)}function au(u,f,m){u.j=m?ta(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function lu(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function Tv(u,f,m){f instanceof ra?(u.i=f,oD(u.i,u.h)):(m||(f=na(f,iD)),u.i=new ra(f,u.h))}function Pe(u,f,m){u.i.set(f,m)}function uu(u){return Pe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ta(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function na(u,f,m){return typeof u=="string"?(u=encodeURI(u).replace(f,tD),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tD(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Sv=/[#\/\?@]/g,nD=/[#\?:]/g,rD=/[#\?]/g,iD=/[#\?@]/g,sD=/#/g;function ra(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function Br(u){u.g||(u.g=new Map,u.h=0,u.i&&eD(u.i,function(f,m){u.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}n=ra.prototype,n.add=function(u,f){Br(this),this.i=null,u=xs(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(f),this.h+=1,this};function kv(u,f){Br(u),f=xs(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function Iv(u,f){return Br(u),f=xs(u,f),u.g.has(f)}n.forEach=function(u,f){Br(this),this.g.forEach(function(m,T){m.forEach(function(O){u.call(f,O,T,this)},this)},this)},n.na=function(){Br(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let T=0;T<f.length;T++){const O=u[T];for(let L=0;L<O.length;L++)m.push(f[T])}return m},n.V=function(u){Br(this);let f=[];if(typeof u=="string")Iv(this,u)&&(f=f.concat(this.g.get(xs(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)f=f.concat(u[m])}return f},n.set=function(u,f){return Br(this),this.i=null,u=xs(this,u),Iv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},n.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function Cv(u,f,m){kv(u,f),0<m.length&&(u.i=null,u.g.set(xs(u,f),k(m)),u.h+=m.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var T=f[m];const L=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var O=L;W[T]!==""&&(O+="="+encodeURIComponent(String(W[T]))),u.push(O)}}return this.i=u.join("&")};function xs(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function oD(u,f){f&&!u.j&&(Br(u),u.i=null,u.g.forEach(function(m,T){var O=T.toLowerCase();T!=O&&(kv(this,T),Cv(this,O,m))},u)),u.j=f}function aD(u,f){const m=new Zo;if(a.Image){const T=new Image;T.onload=g($r,m,"TestLoadImage: loaded",!0,f,T),T.onerror=g($r,m,"TestLoadImage: error",!1,f,T),T.onabort=g($r,m,"TestLoadImage: abort",!1,f,T),T.ontimeout=g($r,m,"TestLoadImage: timeout",!1,f,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else f(!1)}function lD(u,f){const m=new Zo,T=new AbortController,O=setTimeout(()=>{T.abort(),$r(m,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:T.signal}).then(L=>{clearTimeout(O),L.ok?$r(m,"TestPingServer: ok",!0,f):$r(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(O),$r(m,"TestPingServer: error",!1,f)})}function $r(u,f,m,T,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),T(m)}catch{}}function uD(){this.g=new zC}function cD(u,f,m){const T=m||"";try{wv(u,function(O,L){let W=O;c(O)&&(W=Uh(O)),f.push(T+L+"="+encodeURIComponent(W))})}catch(O){throw f.push(T+"type="+encodeURIComponent("_badmap")),O}}function cu(u){this.l=u.Ub||null,this.j=u.eb||!1}w(cu,jh),cu.prototype.g=function(){return new du(this.l,this.j)},cu.prototype.i=function(u){return function(){return u}}({});function du(u,f){yt.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(du,yt),n=du.prototype,n.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,sa(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,sa(this)),this.g&&(this.readyState=3,sa(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dv(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Dv(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?ia(this):sa(this),this.readyState==3&&Dv(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,ia(this))},n.Qa=function(u){this.g&&(this.response=u,ia(this))},n.ga=function(){this.g&&ia(this)};function ia(u){u.readyState=4,u.l=null,u.j=null,u.v=null,sa(u)}n.setRequestHeader=function(u,f){this.u.append(u,f)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=f.next();return u.join(`\r
`)};function sa(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(du.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Pv(u){let f="";return V(u,function(m,T){f+=T,f+=":",f+=m,f+=`\r
`}),f}function Gh(u,f,m){e:{for(T in m){var T=!1;break e}T=!0}T||(m=Pv(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):Pe(u,f,m))}function Be(u){yt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Be,yt);var dD=/^https?$/i,hD=["POST","PUT"];n=Be.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,f,m,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wh.g(),this.v=this.o?rv(this.o):rv(Wh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(L){Rv(this,L);return}if(u=m||"",m=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var O in T)m.set(O,T[O]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const L of T.keys())m.set(L,T.get(L));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(m.keys()).find(L=>L.toLowerCase()=="content-type"),O=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(hD,f,void 0))||T||O||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,W]of m)this.g.setRequestHeader(L,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Av(this),this.u=!0,this.g.send(u),this.u=!1}catch(L){Rv(this,L)}};function Rv(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,bv(u),hu(u)}function bv(u){u.A||(u.A=!0,Rt(u,"complete"),Rt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Rt(this,"complete"),Rt(this,"abort"),hu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hu(this,!0)),Be.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?xv(this):this.bb())},n.bb=function(){xv(this)};function xv(u){if(u.h&&typeof o<"u"&&(!u.v[1]||ur(u)!=4||u.Z()!=2)){if(u.u&&ur(u)==4)Zy(u.Ea,0,u);else if(Rt(u,"readystatechange"),ur(u)==4){u.h=!1;try{const W=u.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var T;if(T=W===0){var O=String(u.D).match(Ev)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),T=!dD.test(O?O.toLowerCase():"")}m=T}if(m)Rt(u,"complete"),Rt(u,"success");else{u.m=6;try{var L=2<ur(u)?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.Z()+"]",bv(u)}}finally{hu(u)}}}}function hu(u,f){if(u.g){Av(u);const m=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||Rt(u,"ready");try{m.onreadystatechange=T}catch{}}}function Av(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function ur(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),HC(f)}};function Nv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function fD(u){const f={};u=(u.g&&2<=ur(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(y(u[T]))continue;var m=b(u[T]);const O=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const L=f[O]||[];f[O]=L,L.push(m)}I(f,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oa(u,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||f}function Ov(u){this.Aa=0,this.i=[],this.j=new Zo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oa("baseRetryDelayMs",5e3,u),this.cb=oa("retryDelaySeedMs",1e4,u),this.Wa=oa("forwardChannelMaxRetries",2,u),this.wa=oa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new mv(u&&u.concurrentRequestLimit),this.Da=new uD,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ov.prototype,n.la=8,n.G=1,n.connect=function(u,f,m,T){bt(0),this.W=u,this.H=f||{},m&&T!==void 0&&(this.H.OSID=m,this.H.OAID=T),this.F=this.X,this.I=Wv(this,null,this.W),pu(this)};function Xh(u){if(Mv(u),u.G==3){var f=u.U++,m=lr(u.I);if(Pe(m,"SID",u.K),Pe(m,"RID",f),Pe(m,"TYPE","terminate"),aa(u,m),f=new jr(u,u.j,f),f.L=2,f.v=uu(lr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=Hv(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ou(f)}$v(u)}function fu(u){u.g&&(Zh(u),u.g.cancel(),u.g=null)}function Mv(u){fu(u),u.u&&(a.clearTimeout(u.u),u.u=null),mu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function pu(u){if(!gv(u.h)&&!u.s){u.s=!0;var f=u.Ga;ne||J(),j||(ne(),j=!0),Q.add(f,u),u.B=0}}function pD(u,f){return yv(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Jo(p(u.Ga,u,f),Bv(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const O=new jr(this,this.j,u);let L=this.o;if(this.S&&(L?(L=v(L),D(L,this.S)):L=this.S),this.m!==null||this.O||(O.H=L,L=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var T=this.i[m];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(f+=T,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Vv(this,O,f),m=lr(this.I),Pe(m,"RID",u),Pe(m,"CVER",22),this.D&&Pe(m,"X-HTTP-Session-Id",this.D),aa(this,m),L&&(this.O?f="headers="+encodeURIComponent(String(Pv(L)))+"&"+f:this.m&&Gh(m,this.m,L)),Qh(this.h,O),this.Ua&&Pe(m,"TYPE","init"),this.P?(Pe(m,"$req",f),Pe(m,"SID","null"),O.T=!0,zh(O,m,null)):zh(O,m,f),this.G=2}}else this.G==3&&(u?Lv(this,u):this.i.length==0||gv(this.h)||Lv(this))};function Lv(u,f){var m;f?m=f.l:m=u.U++;const T=lr(u.I);Pe(T,"SID",u.K),Pe(T,"RID",m),Pe(T,"AID",u.T),aa(u,T),u.m&&u.o&&Gh(T,u.m,u.o),m=new jr(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),f&&(u.i=f.D.concat(u.i)),f=Vv(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Qh(u.h,m),zh(m,T,f)}function aa(u,f){u.H&&V(u.H,function(m,T){Pe(f,T,m)}),u.l&&wv({},function(m,T){Pe(f,T,m)})}function Vv(u,f,m){m=Math.min(u.i.length,m);var T=u.l?p(u.l.Na,u.l,u):null;e:{var O=u.i;let L=-1;for(;;){const W=["count="+m];L==-1?0<m?(L=O[0].g,W.push("ofs="+L)):L=0:W.push("ofs="+L);let Ie=!0;for(let ut=0;ut<m;ut++){let ye=O[ut].g;const vt=O[ut].map;if(ye-=L,0>ye)L=Math.max(0,O[ut].g-100),Ie=!1;else try{cD(vt,W,"req"+ye+"_")}catch{T&&T(vt)}}if(Ie){T=W.join("&");break e}}}return u=u.i.splice(0,m),f.D=u,T}function Fv(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;ne||J(),j||(ne(),j=!0),Q.add(f,u),u.v=0}}function Jh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Jo(p(u.Fa,u),Bv(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Uv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Jo(p(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),fu(this),Uv(this))};function Zh(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Uv(u){u.g=new jr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=lr(u.qa);Pe(f,"RID","rpc"),Pe(f,"SID",u.K),Pe(f,"AID",u.T),Pe(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&Pe(f,"TO",u.ja),Pe(f,"TYPE","xmlhttp"),aa(u,f),u.m&&u.o&&Gh(f,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=uu(lr(f)),m.m=null,m.P=!0,hv(m,u)}n.Za=function(){this.C!=null&&(this.C=null,fu(this),Jh(this),bt(19))};function mu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function jv(u,f){var m=null;if(u.g==f){mu(u),Zh(u),u.g=null;var T=2}else if(Kh(u.h,f))m=f.D,vv(u.h,f),T=1;else return;if(u.G!=0){if(f.o)if(T==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var O=u.B;T=ru(),Rt(T,new lv(T,m)),pu(u)}else Fv(u);else if(O=f.s,O==3||O==0&&0<f.X||!(T==1&&pD(u,f)||T==2&&Jh(u)))switch(m&&0<m.length&&(f=u.h,f.i=f.i.concat(m)),O){case 1:Wi(u,5);break;case 4:Wi(u,10);break;case 3:Wi(u,6);break;default:Wi(u,2)}}}function Bv(u,f){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*f}function Wi(u,f){if(u.j.info("Error code "+f),f==2){var m=p(u.fb,u),T=u.Xa;const O=!T;T=new $i(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||au(T,"https"),uu(T),O?aD(T.toString(),m):lD(T.toString(),m)}else bt(2);u.G=0,u.l&&u.l.sa(f),$v(u),Mv(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function $v(u){if(u.G=0,u.ka=[],u.l){const f=_v(u.h);(f.length!=0||u.i.length!=0)&&(C(u.ka,f),C(u.ka,u.i),u.h.i.length=0,k(u.i),u.i.length=0),u.l.ra()}}function Wv(u,f,m){var T=m instanceof $i?lr(m):new $i(m);if(T.g!="")f&&(T.g=f+"."+T.g),lu(T,T.s);else{var O=a.location;T=O.protocol,f=f?f+"."+O.hostname:O.hostname,O=+O.port;var L=new $i(null);T&&au(L,T),f&&(L.g=f),O&&lu(L,O),m&&(L.l=m),T=L}return m=u.D,f=u.ya,m&&f&&Pe(T,m,f),Pe(T,"VER",u.la),aa(u,T),T}function Hv(u,f,m){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new Be(new cu({eb:m})):new Be(u.pa),f.Ha(u.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function zv(){}n=zv.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function gu(){}gu.prototype.g=function(u,f){return new Yt(u,f)};function Yt(u,f){yt.call(this),this.g=new Ov(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!y(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!y(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new As(this)}w(Yt,yt),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Xh(this.g)},Yt.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=Uh(u),u=m);f.i.push(new XC(f.Ya++,u)),f.G==3&&pu(f)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Xh(this.g),delete this.g,Yt.aa.N.call(this)};function Yv(u){Bh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const m in f){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}w(Yv,Bh);function qv(){$h.call(this),this.status=1}w(qv,$h);function As(u){this.g=u}w(As,zv),As.prototype.ua=function(){Rt(this.g,"a")},As.prototype.ta=function(u){Rt(this.g,new Yv(u))},As.prototype.sa=function(u){Rt(this.g,new qv)},As.prototype.ra=function(){Rt(this.g,"b")},gu.prototype.createWebChannel=gu.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,ik=function(){return new gu},rk=function(){return ru()},nk=ji,tm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},iu.NO_ERROR=0,iu.TIMEOUT=8,iu.HTTP_ERROR=6,mc=iu,uv.COMPLETE="complete",tk=uv,iv.EventType=Go,Go.OPEN="a",Go.CLOSE="b",Go.ERROR="c",Go.MESSAGE="d",yt.prototype.listen=yt.prototype.K,xa=iv,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,ek=Be}).apply(typeof Vu<"u"?Vu:typeof self<"u"?self:typeof window<"u"?window:{});const jw="@firebase/firestore",Bw="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new Ng("@firebase/firestore");function Ls(){return gs.logLevel}function Y(n,...e){if(gs.logLevel<=ce.DEBUG){const t=e.map(zg);gs.debug(`Firestore (${Wo}): ${n}`,...t)}}function Nr(n,...e){if(gs.logLevel<=ce.ERROR){const t=e.map(zg);gs.error(`Firestore (${Wo}): ${n}`,...t)}}function Si(n,...e){if(gs.logLevel<=ce.WARN){const t=e.map(zg);gs.warn(`Firestore (${Wo}): ${n}`,...t)}}function zg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,sk(n,r,t)}function sk(n,e,t){let r=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Nr(r),new Error(r)}function we(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||sk(e,i,r)}function ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class z extends rr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(St.UNAUTHENTICATED))}shutdown(){}}class RM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bM{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){we(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new wr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new wr)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new ok(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new St(e)}}class xM{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AM{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new xM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $w{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){we(this.o===void 0,3512);const r=s=>{s.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $w(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(we(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new $w(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=OM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function oe(n,e){return n<e?-1:n>e?1:0}function nm(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return oe(r,i);{const s=ak(),o=MM(s.encode(Ww(n,t)),s.encode(Ww(e,t)));return o!==0?o:oe(r,i)}}t+=r>65535?2:1}return oe(n.length,e.length)}function Ww(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function MM(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return oe(n[t],e[t]);return oe(n.length,e.length)}function Eo(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="__name__";class Mn{constructor(e,t,r){t===void 0?t=0:t>e.length&&te(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&te(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Mn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mn?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=Mn.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return oe(e.length,t.length)}static compareSegments(e,t){const r=Mn.isNumericId(e),i=Mn.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Mn.extractNumericId(e).compare(Mn.extractNumericId(t)):nm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mi.fromString(e.substring(4,e.length-2))}}class Ce extends Mn{construct(e,t,r){return new Ce(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new z(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ce(t)}static emptyPath(){return new Ce([])}}const LM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends Mn{construct(e,t,r){return new ht(e,t,r)}static isValidIdentifier(e){return LM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hw}static keyField(){return new ht([Hw])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new z(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new z(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new z(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(t)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(Ce.fromString(e))}static fromName(e){return new X(Ce.fromString(e).popFirst(5))}static empty(){return new X(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ce.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new Ce(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(n,e,t){if(!t)throw new z(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VM(n,e,t,r){if(e===!0&&r===!0)throw new z(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zw(n){if(!X.isDocumentKey(n))throw new z(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Yw(n){if(X.isDocumentKey(n))throw new z(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function uk(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function th(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":te(12329,{type:typeof n})}function zt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new z(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=th(n);throw new z(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(n,e){const t={typeString:n};return e&&(t.value=e),t}function $l(n,e){if(!uk(n))throw new z(U.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const o=n[r];if(i&&typeof o!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new z(U.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=-62135596800,Kw=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(e){return be.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Kw);return new be(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new z(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new z(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<qw)throw new z(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Kw}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($l(e,be._jsonSchema))return new be(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}be._jsonSchemaVersion="firestore/timestamp/1.0",be._jsonSchema={type:tt("string",be._jsonSchemaVersion),seconds:tt("number"),nanoseconds:tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{static fromTimestamp(e){return new re(e)}static min(){return new re(new be(0,0))}static max(){return new re(new be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=-1;function FM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new be(t+1,0):new be(t,r));return new ki(i,X.empty(),e)}function UM(n){return new ki(n.readTime,n.key,_l)}class ki{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ki(re.min(),X.empty(),_l)}static max(){return new ki(re.max(),X.empty(),_l)}}function jM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=X.comparator(n.documentKey,e.documentKey),t!==0?t:oe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $M{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(n){if(n.code!==U.FAILED_PRECONDITION||n.message!==BM)throw n;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof B?t:B.resolve(t)}catch(t){return B.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):B.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):B.reject(t)}static resolve(e){return new B((t,r)=>{t(e)})}static reject(e){return new B((t,r)=>{r(e)})}static waitFor(e){return new B((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=B.resolve(!1);for(const r of e)t=t.next(i=>i?B.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new B((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,t){return new B((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function WM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function zo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}nh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg=-1;function rh(n){return n==null}function ad(n){return n===0&&1/n==-1/0}function HM(n){return typeof n=="number"&&Number.isInteger(n)&&!ad(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="";function zM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Qw(e)),e=YM(n.get(t),e);return Qw(e)}function YM(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case ck:t+="";break;default:t+=s}}return t}function Qw(n){return n+ck+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function dk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,t){this.comparator=e,this.root=t||dt.EMPTY}insert(e,t){return new je(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fu(this.root,e,this.comparator,!0)}}class Fu{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??dt.RED,this.left=i??dt.EMPTY,this.right=s??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new dt(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return dt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw te(27949);return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw te(57766)}get value(){throw te(16141)}get color(){throw te(16727)}get left(){throw te(29726)}get right(){throw te(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xw(this.data.getIterator())}getIteratorFrom(e){return new Xw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new it(this.comparator);return t.data=e,t}}class Xw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new Gt([])}unionWith(e){let t=new it(ht.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Gt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new hk("Invalid base64 string: "+s):s}}(e);return new gt(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const qM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ii(n){if(we(!!n,39018),typeof n=="string"){let e=0;const t=qM.exec(n);if(we(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ke(n.seconds),nanos:Ke(n.nanos)}}function Ke(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ci(n){return typeof n=="string"?gt.fromBase64String(n):gt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk="server_timestamp",pk="__type__",mk="__previous_value__",gk="__local_write_time__";function Kg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[pk])===null||t===void 0?void 0:t.stringValue)===fk}function ih(n){const e=n.mapValue.fields[mk];return Kg(e)?ih(e):e}function wl(n){const e=Ii(n.mapValue.fields[gk].timestampValue);return new be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,t,r,i,s,o,a,l,c,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const ld="(default)";class El{constructor(e,t){this.projectId=e,this.database=t||ld}static empty(){return new El("","")}get isDefaultDatabase(){return this.database===ld}isEqual(e){return e instanceof El&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk="__type__",vk="__max__",Uu={mapValue:{fields:{__type__:{stringValue:vk}}}},_k="__vector__",ud="value";function Di(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Kg(n)?4:GM(n)?9007199254740991:QM(n)?10:11:te(28295,{value:n})}function er(n,e){if(n===e)return!0;const t=Di(n);if(t!==Di(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wl(n).isEqual(wl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ii(i.timestampValue),a=Ii(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Ci(i.bytesValue).isEqual(Ci(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Ke(i.geoPointValue.latitude)===Ke(s.geoPointValue.latitude)&&Ke(i.geoPointValue.longitude)===Ke(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ke(i.integerValue)===Ke(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ke(i.doubleValue),a=Ke(s.doubleValue);return o===a?ad(o)===ad(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Eo(n.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Gw(o)!==Gw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!er(o[l],a[l])))return!1;return!0}(n,e);default:return te(52216,{left:n})}}function Tl(n,e){return(n.values||[]).find(t=>er(t,e))!==void 0}function To(n,e){if(n===e)return 0;const t=Di(n),r=Di(e);if(t!==r)return oe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return oe(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ke(s.integerValue||s.doubleValue),l=Ke(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return Jw(n.timestampValue,e.timestampValue);case 4:return Jw(wl(n),wl(e));case 5:return nm(n.stringValue,e.stringValue);case 6:return function(s,o){const a=Ci(s),l=Ci(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=oe(a[c],l[c]);if(d!==0)return d}return oe(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=oe(Ke(s.latitude),Ke(o.latitude));return a!==0?a:oe(Ke(s.longitude),Ke(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Zw(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const h=s.fields||{},p=o.fields||{},g=(a=h[ud])===null||a===void 0?void 0:a.arrayValue,w=(l=p[ud])===null||l===void 0?void 0:l.arrayValue,k=oe(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return k!==0?k:Zw(g,w)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Uu.mapValue&&o===Uu.mapValue)return 0;if(s===Uu.mapValue)return 1;if(o===Uu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=nm(l[h],d[h]);if(p!==0)return p;const g=To(a[l[h]],c[d[h]]);if(g!==0)return g}return oe(l.length,d.length)}(n.mapValue,e.mapValue);default:throw te(23264,{le:t})}}function Jw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return oe(n,e);const t=Ii(n),r=Ii(e),i=oe(t.seconds,r.seconds);return i!==0?i:oe(t.nanos,r.nanos)}function Zw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=To(t[i],r[i]);if(s)return s}return oe(t.length,r.length)}function So(n){return rm(n)}function rm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ii(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ci(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return X.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=rm(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${rm(t.fields[o])}`;return i+"}"}(n.mapValue):te(61005,{value:n})}function gc(n){switch(Di(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ih(n);return e?16+gc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ci(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+gc(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Fi(r.fields,(s,o)=>{i+=s.length+gc(o)}),i}(n.mapValue);default:throw te(13486,{value:n})}}function e0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function im(n){return!!n&&"integerValue"in n}function Qg(n){return!!n&&"arrayValue"in n}function t0(n){return!!n&&"nullValue"in n}function n0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yc(n){return!!n&&"mapValue"in n}function QM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[yk])===null||t===void 0?void 0:t.stringValue)===_k}function Ka(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Fi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ka(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ka(n.arrayValue.values[t]);return e}return Object.assign({},n)}function GM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===vk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.value=e}static empty(){return new jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!yc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ka(t)}setAll(e){let t=ht.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Ka(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());yc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];yc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Fi(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new jt(Ka(this.value))}}function wk(n){const e=[];return Fi(n.fields,(t,r)=>{const i=new ht([t]);if(yc(r)){const s=wk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Gt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new It(e,0,re.min(),re.min(),re.min(),jt.empty(),0)}static newFoundDocument(e,t,r,i){return new It(e,1,t,re.min(),r,i,0)}static newNoDocument(e,t){return new It(e,2,t,re.min(),re.min(),jt.empty(),0)}static newUnknownDocument(e,t){return new It(e,3,t,re.min(),re.min(),jt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,t){this.position=e,this.inclusive=t}}function r0(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),t.key):r=To(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function i0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!er(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,t="asc"){this.field=e,this.dir=t}}function XM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{}class et extends Ek{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ZM(e,t,r):t==="array-contains"?new n2(e,r):t==="in"?new r2(e,r):t==="not-in"?new i2(e,r):t==="array-contains-any"?new s2(e,r):new et(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new e2(e,r):new t2(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(To(t,this.value)):t!==null&&Di(this.value)===Di(t)&&this.matchesComparison(To(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rn extends Ek{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Rn(e,t)}matches(e){return Tk(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Tk(n){return n.op==="and"}function Sk(n){return JM(n)&&Tk(n)}function JM(n){for(const e of n.filters)if(e instanceof Rn)return!1;return!0}function sm(n){if(n instanceof et)return n.field.canonicalString()+n.op.toString()+So(n.value);if(Sk(n))return n.filters.map(e=>sm(e)).join(",");{const e=n.filters.map(t=>sm(t)).join(",");return`${n.op}(${e})`}}function kk(n,e){return n instanceof et?function(r,i){return i instanceof et&&r.op===i.op&&r.field.isEqual(i.field)&&er(r.value,i.value)}(n,e):n instanceof Rn?function(r,i){return i instanceof Rn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&kk(o,i.filters[a]),!0):!1}(n,e):void te(19439)}function Ik(n){return n instanceof et?function(t){return`${t.field.canonicalString()} ${t.op} ${So(t.value)}`}(n):n instanceof Rn?function(t){return t.op.toString()+" {"+t.getFilters().map(Ik).join(" ,")+"}"}(n):"Filter"}class ZM extends et{constructor(e,t,r){super(e,t,r),this.key=X.fromName(r.referenceValue)}matches(e){const t=X.comparator(e.key,this.key);return this.matchesComparison(t)}}class e2 extends et{constructor(e,t){super(e,"in",t),this.keys=Ck("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class t2 extends et{constructor(e,t){super(e,"not-in",t),this.keys=Ck("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ck(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>X.fromName(r.referenceValue))}class n2 extends et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qg(t)&&Tl(t.arrayValue,this.value)}}class r2 extends et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Tl(this.value.arrayValue,t)}}class i2 extends et{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Tl(this.value.arrayValue,t)}}class s2 extends et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Tl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}}function s0(n,e=null,t=[],r=[],i=null,s=null,o=null){return new o2(n,e,t,r,i,s,o)}function Gg(n){const e=ie(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>sm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),rh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>So(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>So(r)).join(",")),e.Pe=t}return e.Pe}function Xg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!XM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!kk(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!i0(n.startAt,e.startAt)&&i0(n.endAt,e.endAt)}function om(n){return X.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function a2(n,e,t,r,i,s,o,a){return new Wl(n,e,t,r,i,s,o,a)}function sh(n){return new Wl(n)}function o0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Dk(n){return n.collectionGroup!==null}function Qa(n){const e=ie(n);if(e.Te===null){e.Te=[];const t=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new it(ht.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Te.push(new dd(s,r))}),t.has(ht.keyField().canonicalString())||e.Te.push(new dd(ht.keyField(),r))}return e.Te}function Qn(n){const e=ie(n);return e.Ie||(e.Ie=l2(e,Qa(n))),e.Ie}function l2(n,e){if(n.limitType==="F")return s0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new dd(i.field,s)});const t=n.endAt?new cd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new cd(n.startAt.position,n.startAt.inclusive):null;return s0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function am(n,e){const t=n.filters.concat([e]);return new Wl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function lm(n,e,t){return new Wl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function oh(n,e){return Xg(Qn(n),Qn(e))&&n.limitType===e.limitType}function Pk(n){return`${Gg(Qn(n))}|lt:${n.limitType}`}function Vs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Ik(i)).join(", ")}]`),rh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>So(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>So(i)).join(",")),`Target(${r})`}(Qn(n))}; limitType=${n.limitType})`}function ah(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):X.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Qa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=r0(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Qa(r),i)||r.endAt&&!function(o,a,l){const c=r0(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Qa(r),i))}(n,e)}function u2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Rk(n){return(e,t)=>{let r=!1;for(const i of Qa(n)){const s=c2(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function c2(n,e,t){const r=n.field.isKeyField()?X.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?To(l,c):te(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return te(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fi(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return dk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=new je(X.comparator);function Or(){return d2}const bk=new je(X.comparator);function Aa(...n){let e=bk;for(const t of n)e=e.insert(t.key,t);return e}function xk(n){let e=bk;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Xi(){return Ga()}function Ak(){return Ga()}function Ga(){return new Cs(n=>n.toString(),(n,e)=>n.isEqual(e))}const h2=new je(X.comparator),f2=new it(X.comparator);function de(...n){let e=f2;for(const t of n)e=e.add(t);return e}const p2=new it(oe);function m2(){return p2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ad(e)?"-0":e}}function Nk(n){return{integerValue:""+n}}function g2(n,e){return HM(e)?Nk(e):Jg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(){this._=void 0}}function y2(n,e,t){return n instanceof Sl?function(i,s){const o={fields:{[pk]:{stringValue:fk},[gk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Kg(s)&&(s=ih(s)),s&&(o.fields[mk]=s),{mapValue:o}}(t,e):n instanceof ko?Mk(n,e):n instanceof kl?Lk(n,e):function(i,s){const o=Ok(i,s),a=a0(o)+a0(i.Ee);return im(o)&&im(i.Ee)?Nk(a):Jg(i.serializer,a)}(n,e)}function v2(n,e,t){return n instanceof ko?Mk(n,e):n instanceof kl?Lk(n,e):t}function Ok(n,e){return n instanceof hd?function(r){return im(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Sl extends lh{}class ko extends lh{constructor(e){super(),this.elements=e}}function Mk(n,e){const t=Vk(e);for(const r of n.elements)t.some(i=>er(i,r))||t.push(r);return{arrayValue:{values:t}}}class kl extends lh{constructor(e){super(),this.elements=e}}function Lk(n,e){let t=Vk(e);for(const r of n.elements)t=t.filter(i=>!er(i,r));return{arrayValue:{values:t}}}class hd extends lh{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function a0(n){return Ke(n.integerValue||n.doubleValue)}function Vk(n){return Qg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,t){this.field=e,this.transform=t}}function _2(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ko&&i instanceof ko||r instanceof kl&&i instanceof kl?Eo(r.elements,i.elements,er):r instanceof hd&&i instanceof hd?er(r.Ee,i.Ee):r instanceof Sl&&i instanceof Sl}(n.transform,e.transform)}class w2{constructor(e,t){this.version=e,this.transformResults=t}}class hn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hn}static exists(e){return new hn(void 0,e)}static updateTime(e){return new hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class uh{}function Uk(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Zg(n.key,hn.none()):new Hl(n.key,n.data,hn.none());{const t=n.data,r=jt.empty();let i=new it(ht.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ui(n.key,r,new Gt(i.toArray()),hn.none())}}function E2(n,e,t){n instanceof Hl?function(i,s,o){const a=i.value.clone(),l=u0(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ui?function(i,s,o){if(!vc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=u0(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(jk(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Xa(n,e,t,r){return n instanceof Hl?function(s,o,a,l){if(!vc(s.precondition,o))return a;const c=s.value.clone(),d=c0(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ui?function(s,o,a,l){if(!vc(s.precondition,o))return a;const c=c0(s.fieldTransforms,l,o),d=o.data;return d.setAll(jk(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(s,o,a){return vc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function T2(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=Ok(r.transform,i||null);s!=null&&(t===null&&(t=jt.empty()),t.set(r.field,s))}return t||null}function l0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Eo(r,i,(s,o)=>_2(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Hl extends uh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ui extends uh{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function jk(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function u0(n,e,t){const r=new Map;we(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,v2(o,a,t[i]))}return r}function c0(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,y2(s,o,e))}return r}class Zg extends uh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class S2 extends uh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&E2(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Xa(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Xa(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Ak();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=Uk(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),de())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,(t,r)=>l0(t,r))&&Eo(this.baseMutations,e.baseMutations,(t,r)=>l0(t,r))}}class ey{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){we(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return h2}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ey(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je,fe;function D2(n){switch(n){case U.OK:return te(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return te(15467,{code:n})}}function Bk(n){if(n===void 0)return Nr("GRPC error has no .code"),U.UNKNOWN;switch(n){case Je.OK:return U.OK;case Je.CANCELLED:return U.CANCELLED;case Je.UNKNOWN:return U.UNKNOWN;case Je.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Je.INTERNAL:return U.INTERNAL;case Je.UNAVAILABLE:return U.UNAVAILABLE;case Je.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Je.NOT_FOUND:return U.NOT_FOUND;case Je.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Je.ABORTED:return U.ABORTED;case Je.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Je.DATA_LOSS:return U.DATA_LOSS;default:return te(39323,{code:n})}}(fe=Je||(Je={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new mi([4294967295,4294967295],0);function d0(n){const e=ak().encode(n),t=new ZS;return t.update(e),new Uint8Array(t.digest())}function h0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new mi([t,r],0),new mi([i,s],0)]}class ty{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Na(`Invalid padding: ${t}`);if(r<0)throw new Na(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Na(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Na(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=mi.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(mi.fromNumber(r)));return i.compare(P2)===1&&(i=new mi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=d0(e),[r,i]=h0(t);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ty(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const t=d0(e),[r,i]=h0(t);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);this.we(o)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Na extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,zl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ch(re.min(),i,new je(oe),Or(),de())}}class zl{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new zl(r,t,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}}class $k{constructor(e,t){this.targetId=e,this.De=t}}class Wk{constructor(e,t,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class f0{constructor(){this.ve=0,this.Ce=p0(),this.Fe=gt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=de(),t=de(),r=de();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:te(38017,{changeType:s})}}),new zl(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=p0()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class R2{constructor(e){this.We=e,this.Ge=new Map,this.ze=Or(),this.je=ju(),this.Je=ju(),this.He=new je(oe)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){const t=e.targetId,r=e.De.count,i=this.st(t);if(i){const s=i.target;if(om(s))if(r===0){const o=new X(s.path);this.Xe(t,o,It.newNoDocument(o,re.min()))}else we(r===1,20013,{expectedCount:r});else{const o=this.ot(t);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,c)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=Ci(r).toUint8Array()}catch(l){if(l instanceof hk)return Si("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ty(o,i,s)}catch(l){return Si(l instanceof Na?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,s,null),i++)}),i}Pt(e){const t=new Map;this.Ge.forEach((s,o)=>{const a=this.st(o);if(a){if(s.current&&om(a.target)){const l=new X(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,It.newNoDocument(l,e))}s.Ne&&(t.set(o,s.Le()),s.ke())}});let r=de();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));const i=new ch(e,t,this.He,this.ze,r);return this.ze=Or(),this.je=ju(),this.Je=ju(),this.He=new je(oe),i}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new f0,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new it(oe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new it(oe),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||Y("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new f0),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function ju(){return new je(X.comparator)}function p0(){return new je(X.comparator)}const b2=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),x2=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),A2=(()=>({and:"AND",or:"OR"}))();class N2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function um(n,e){return n.useProto3Json||rh(e)?e:{value:e}}function fd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hk(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function O2(n,e){return fd(n,e.toTimestamp())}function Gn(n){return we(!!n,49232),re.fromTimestamp(function(t){const r=Ii(t);return new be(r.seconds,r.nanos)}(n))}function ny(n,e){return cm(n,e).canonicalString()}function cm(n,e){const t=function(i){return new Ce(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function zk(n){const e=Ce.fromString(n);return we(Gk(e),10190,{key:e.toString()}),e}function dm(n,e){return ny(n.databaseId,e.path)}function Vf(n,e){const t=zk(e);if(t.get(1)!==n.databaseId.projectId)throw new z(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new z(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new X(qk(t))}function Yk(n,e){return ny(n.databaseId,e)}function M2(n){const e=zk(n);return e.length===4?Ce.emptyPath():qk(e)}function hm(n){return new Ce(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function qk(n){return we(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function m0(n,e,t){return{name:dm(n,e),fields:t.value.mapValue.fields}}function L2(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:te(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(we(d===void 0||typeof d=="string",58123),gt.fromBase64String(d||"")):(we(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),gt.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?U.UNKNOWN:Bk(c.code);return new z(d,c.message||"")}(o);t=new Wk(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vf(n,r.document.name),s=Gn(r.document.updateTime),o=r.document.createTime?Gn(r.document.createTime):re.min(),a=new jt({mapValue:{fields:r.document.fields}}),l=It.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];t=new _c(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Vf(n,r.document),s=r.readTime?Gn(r.readTime):re.min(),o=It.newNoDocument(i,s),a=r.removedTargetIds||[];t=new _c([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Vf(n,r.document),s=r.removedTargetIds||[];t=new _c([],s,i,null)}else{if(!("filter"in e))return te(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new C2(i,s),a=r.targetId;t=new $k(a,o)}}return t}function V2(n,e){let t;if(e instanceof Hl)t={update:m0(n,e.key,e.value)};else if(e instanceof Zg)t={delete:dm(n,e.key)};else if(e instanceof Ui)t={update:m0(n,e.key,e.data),updateMask:Y2(e.fieldMask)};else{if(!(e instanceof S2))return te(16599,{Rt:e.type});t={verify:dm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Sl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ko)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof kl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hd)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw te(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:O2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te(27497)}(n,e.precondition)),t}function F2(n,e){return n&&n.length>0?(we(e!==void 0,14353),n.map(t=>function(i,s){let o=i.updateTime?Gn(i.updateTime):Gn(s);return o.isEqual(re.min())&&(o=Gn(s)),new w2(o,i.transformResults||[])}(t,e))):[]}function U2(n,e){return{documents:[Yk(n,e.path)]}}function j2(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Yk(n,i);const s=function(c){if(c.length!==0)return Qk(Rn.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Fs(p.field),direction:W2(p.dir)}}(d))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=um(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:t,parent:i}}function B2(n){let e=M2(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){we(r===1,65062);const d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=function(h){const p=Kk(h);return p instanceof Rn&&Sk(p)?p.getFilters():[p]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(p=>function(w){return new dd(Us(w.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(t.orderBy));let a=null;t.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,rh(p)?null:p}(t.limit));let l=null;t.startAt&&(l=function(h){const p=!!h.before,g=h.values||[];return new cd(g,p)}(t.startAt));let c=null;return t.endAt&&(c=function(h){const p=!h.before,g=h.values||[];return new cd(g,p)}(t.endAt)),a2(e,i,o,s,a,"F",l,c)}function $2(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Kk(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Us(t.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Us(t.unaryFilter.field);return et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Us(t.unaryFilter.field);return et.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Us(t.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return te(61313);default:return te(60726)}}(n):n.fieldFilter!==void 0?function(t){return et.create(Us(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return te(58110);default:return te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Rn.create(t.compositeFilter.filters.map(r=>Kk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te(1026)}}(t.compositeFilter.op))}(n):te(30097,{filter:n})}function W2(n){return b2[n]}function H2(n){return x2[n]}function z2(n){return A2[n]}function Fs(n){return{fieldPath:n.canonicalString()}}function Us(n){return ht.fromServerFormat(n.fieldPath)}function Qk(n){return n instanceof et?function(t){if(t.op==="=="){if(n0(t.value))return{unaryFilter:{field:Fs(t.field),op:"IS_NAN"}};if(t0(t.value))return{unaryFilter:{field:Fs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(n0(t.value))return{unaryFilter:{field:Fs(t.field),op:"IS_NOT_NAN"}};if(t0(t.value))return{unaryFilter:{field:Fs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(t.field),op:H2(t.op),value:t.value}}}(n):n instanceof Rn?function(t){const r=t.getFilters().map(i=>Qk(i));return r.length===1?r[0]:{compositeFilter:{op:z2(t.op),filters:r}}}(n):te(54877,{filter:n})}function Y2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Gk(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,t,r,i,s=re.min(),o=re.min(),a=gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.gt=e}}function K2(n){const e=B2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?lm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.Dn=new G2}addToCollectionParentIndex(e,t){return this.Dn.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(ki.min())}updateCollectionGroup(e,t,r){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}}class G2{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new it(Ce.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(Ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xk=41943040;class Ft{static withCacheSize(e){return new Ft(e,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ft.DEFAULT_COLLECTION_PERCENTILE=10,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ft.DEFAULT=new Ft(Xk,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ft.DISABLED=new Ft(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Io(0)}static ur(){return new Io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="LruGarbageCollector",X2=1048576;function v0([n,e],[t,r]){const i=oe(n,t);return i===0?oe(e,r):i}class J2{constructor(e){this.Tr=e,this.buffer=new it(v0),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();v0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Z2{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Y(y0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){zo(t)?Y(y0,"Ignoring IndexedDB error during garbage collection: ",t):await Ho(t)}await this.Rr(3e5)})}}class eL{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return B.resolve(nh.ue);const r=new J2(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(g0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g0):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,t))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Ls()<=ce.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function tL(n,e){return new eL(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(){this.changes=new Cs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?B.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Xa(r.mutation,i,Gt.empty(),be.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,t,r=de()){const i=Xi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Aa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Xi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,de()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Or();const o=Ga(),a=function(){return Ga()}();return t.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Ui)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Xa(d.mutation,c,d.mutation.getFieldMask(),be.now())):o.set(c.key,Gt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),t.forEach((c,d)=>{var h;return a.set(c,new rL(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Ga();let i=new je((o,a)=>o-a),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let d=r.get(l)||Gt.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||de()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=Ak();d.forEach(p=>{if(!s.has(p)){const g=Uk(t.get(p),r.get(p));g!==null&&h.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Dk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):B.resolve(Xi());let a=_l,l=s;return o.next(c=>B.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,de())).next(d=>({batchId:a,changes:xk(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new X(t)).next(r=>{let i=Aa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Aa();return this.indexManager.getCollectionParents(e,s).next(a=>B.forEach(a,l=>{const c=function(h,p){return new Wl(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,It.newInvalidDocument(d)))});let a=Aa();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&Xa(d.mutation,c,Gt.empty(),be.now()),ah(t,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return B.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Gn(i.createTime)}}(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:K2(i.bundledQuery),readTime:Gn(i.readTime)}}(t)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(){this.overlays=new je(X.comparator),this.kr=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Xi();return B.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.wt(e,t,s)}),B.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),B.resolve()}getOverlaysForCollection(e,t,r){const i=Xi(),s=t.length+1,o=new X(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return B.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new je((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Xi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Xi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return B.resolve(a)}wt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new I2(t,r));let s=this.kr.get(t);s===void 0&&(s=de(),this.kr.set(t,s)),this.kr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(){this.qr=new it(st.Qr),this.$r=new it(st.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new st(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new st(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){const t=new X(new Ce([])),r=new st(t,e),i=new st(t,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new X(new Ce([])),r=new st(t,e),i=new st(t,e+1);let s=de();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new st(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class st{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return X.comparator(e.key,t.key)||oe(e.Hr,t.Hr)}static Ur(e,t){return oe(e.Hr,t.Hr)||X.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new it(st.Qr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new k2(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Yr=this.Yr.add(new st(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,t){return B.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Xr(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?qg:this.er-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new st(t,0),i=new st(t,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new it(oe);return t.forEach(i=>{const s=new st(i,0),o=new st(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),B.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;X.isDocumentKey(s)||(s=s.child(""));const o=new st(new X(s),0);let a=new it(oe);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Hr)),!0)},o),B.resolve(this.ei(a))}ei(e){const t=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){we(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return B.forEach(t.mutations,i=>{const s=new st(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){const r=new st(t,0),i=this.Yr.firstAfterOrEqual(r);return B.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.ni=e,this.docs=function(){return new je(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return B.resolve(r?r.document.mutableCopy():It.newInvalidDocument(t))}getEntries(e,t){let r=Or();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():It.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Or();const o=t.path,a=new X(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||jM(UM(d),r)<=0||(i.has(d.key)||ah(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,t,r,i){te(9500)}ri(e,t){return B.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new cL(this)}getSize(e){return B.resolve(this.size)}}class cL extends nL{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),B.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.persistence=e,this.ii=new Cs(t=>Gg(t),Xg),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.si=0,this.oi=new ry,this.targetCount=0,this._i=Io.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),B.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Io(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.hr(t),B.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return B.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),B.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),B.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return B.resolve(r)}containsKey(e,t){return B.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,t){this.ai={},this.overlays={},this.ui=new nh(0),this.ci=!1,this.ci=!0,this.li=new aL,this.referenceDelegate=e(this),this.hi=new dL(this),this.indexManager=new Q2,this.remoteDocumentCache=function(i){return new uL(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new q2(t),this.Ti=new sL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new lL(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){Y("MemoryPersistence","Starting transaction:",e);const i=new hL(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,t){return B.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}}class hL extends $M{constructor(e){super(),this.currentSequenceNumber=e}}class iy{constructor(e){this.persistence=e,this.Ai=new ry,this.Ri=null}static Vi(e){return new iy(e)}get mi(){if(this.Ri)return this.Ri;throw te(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),B.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),B.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.mi,r=>{const i=X.fromPath(r);return this.fi(e,i).next(s=>{s||t.removeEntry(i,re.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return B.or([()=>B.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class pd{constructor(e,t){this.persistence=e,this.gi=new Cs(r=>zM(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=tL(this,t)}static Vi(e,t){return new pd(e,t)}Ii(){}di(e){return B.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return B.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?B.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,t).next(a=>{a||(r++,s.removeEntry(o,re.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),B.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),B.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gc(e.data.value)),t}Sr(e,t,r){return B.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.gi.get(t);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=de(),i=de();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new sy(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return zx()?8:WM(Pt())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ps(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new fL;return this.ws(e,t,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,t,o,a.size)})}).next(()=>s.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Ls()<=ce.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Vs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),B.resolve()):(Ls()<=ce.DEBUG&&Y("QueryEngine","Query:",Vs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ls()<=ce.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Vs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(t))):B.resolve())}ps(e,t){if(o0(t))return B.resolve(null);let r=Qn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=lm(t,null,"F"),r=Qn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=de(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(t,a);return this.Ds(t,c,o,l.readTime)?this.ps(e,lm(t,null,"F")):this.vs(e,c,t,l)}))})))}ys(e,t,r,i){return o0(t)||i.isEqual(re.min())?B.resolve(null):this.gs.getDocuments(e,r).next(s=>{const o=this.bs(t,s);return this.Ds(t,o,r,i)?B.resolve(null):(Ls()<=ce.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vs(t)),this.vs(e,o,t,FM(i,_l)).next(a=>a))})}bs(e,t){let r=new it(Rk(e));return t.forEach((i,s)=>{ah(e,s)&&(r=r.add(s))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,t,r){return Ls()<=ce.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Vs(t)),this.gs.getDocumentsMatchingQuery(e,t,ki.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="LocalStore",mL=3e8;class gL{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new je(oe),this.Ms=new Cs(s=>Gg(s),Xg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iL(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function yL(n,e,t,r){return new gL(n,e,t,r)}async function Zk(n,e){const t=ie(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=de();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:o,addedBatchIds:a}))})})}function vL(n,e){const t=ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,p=h.keys();let g=B.resolve();return p.forEach(w=>{g=g.next(()=>d.getEntry(l,w)).next(k=>{const C=c.docVersions.get(w);we(C!==null,48541),k.version.compareTo(C)<0&&(h.applyToRemoteDocument(k,c),k.isValidDocument()&&(k.setReadTime(c.commitVersion),d.addEntry(k)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=de();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function eI(n){const e=ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function _L(n,e){const t=ie(n),r=e.snapshotVersion;let i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(t.hi.removeMatchingKeys(s,d.removedDocuments,h).next(()=>t.hi.addMatchingKeys(s,d.addedDocuments,h)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(gt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),function(k,C,_){return k.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=mL?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,g,d)&&a.push(t.hi.updateTargetData(s,g))});let l=Or(),c=de();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(wL(s,o,e.documentUpdates).next(d=>{l=d.Ls,c=d.ks})),!r.isEqual(re.min())){const d=t.hi.getLastRemoteSnapshotVersion(s).next(h=>t.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Fs=i,s))}function wL(n,e,t){let r=de(),i=de();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Or();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(re.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y(oy,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ls:o,ks:i}})}function EL(n,e){const t=ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=qg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function TL(n,e){const t=ie(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):t.hi.allocateTargetId(r).next(o=>(i=new ri(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function fm(n,e,t){const r=ie(n),i=r.Fs.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!zo(o))throw o;Y(oy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function _0(n,e,t){const r=ie(n);let i=re.min(),s=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=ie(l),p=h.Ms.get(d);return p!==void 0?B.resolve(h.Fs.get(p)):h.hi.getTargetData(c,d)}(r,o,Qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,t?i:re.min(),t?s:de())).next(a=>(SL(r,u2(e),a),{documents:a,qs:s})))}function SL(n,e,t){let r=n.xs.get(e)||re.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.xs.set(e,r)}class w0{constructor(){this.activeTargetIds=m2()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kL{constructor(){this.Fo=new w0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new w0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="ConnectivityMonitor";class T0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Y(E0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Y(E0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu=null;function pm(){return Bu===null?Bu=function(){return 268435456+Math.round(2147483648*Math.random())}():Bu++,"0x"+Bu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="RestConnection",CL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DL{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===ld?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,s){const o=pm(),a=this.Go(e,t.toUriEncodedString());Y(Ff,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:c}=new URL(a),d=Li(c);return this.jo(e,a,l,r,d).then(h=>(Y(Ff,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Si(Ff,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Jo(e,t,r,i,s,o){return this.Wo(e,t,r,i,s)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,t){const r=CL[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt="WebChannelConnection";class RL extends DL{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,s){const o=pm();return new Promise((a,l)=>{const c=new ek;c.setWithCredentials(!0),c.listenOnce(tk.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case mc.NO_ERROR:const h=c.getResponseJson();Y(Tt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case mc.TIMEOUT:Y(Tt,`RPC '${e}' ${o} timed out`),l(new z(U.DEADLINE_EXCEEDED,"Request time out"));break;case mc.HTTP_ERROR:const p=c.getStatus();if(Y(Tt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const k=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(y)>=0?y:U.UNKNOWN}(w.status);l(new z(k,w.message))}else l(new z(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new z(U.UNAVAILABLE,"Connection failed."));break;default:te(9055,{c_:e,streamId:o,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{Y(Tt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);Y(Tt,`RPC '${e}' ${o} sending request:`,i),c.send(t,"POST",d,r,15)})}P_(e,t,r){const i=pm(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ik(),a=rk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const d=s.join("");Y(Tt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);this.T_(h);let p=!1,g=!1;const w=new PL({Ho:C=>{g?Y(Tt,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(p||(Y(Tt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),Y(Tt,`RPC '${e}' stream ${i} sending:`,C),h.send(C))},Yo:()=>h.close()}),k=(C,_,y)=>{C.listen(_,E=>{try{y(E)}catch(x){setTimeout(()=>{throw x},0)}})};return k(h,xa.EventType.OPEN,()=>{g||(Y(Tt,`RPC '${e}' stream ${i} transport opened.`),w.s_())}),k(h,xa.EventType.CLOSE,()=>{g||(g=!0,Y(Tt,`RPC '${e}' stream ${i} transport closed`),w.__(),this.I_(h))}),k(h,xa.EventType.ERROR,C=>{g||(g=!0,Si(Tt,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),w.__(new z(U.UNAVAILABLE,"The operation could not be completed")))}),k(h,xa.EventType.MESSAGE,C=>{var _;if(!g){const y=C.data[0];we(!!y,16349);const E=y,x=(E==null?void 0:E.error)||((_=E[0])===null||_===void 0?void 0:_.error);if(x){Y(Tt,`RPC '${e}' stream ${i} received error:`,x);const M=x.status;let V=function(S){const D=Je[S];if(D!==void 0)return Bk(D)}(M),I=x.message;V===void 0&&(V=U.INTERNAL,I="Unknown error status: "+M+" with message "+x.message),g=!0,w.__(new z(V,I)),h.close()}else Y(Tt,`RPC '${e}' stream ${i} received:`,y),w.a_(y)}}),k(a,nk.STAT_EVENT,C=>{C.stat===tm.PROXY?Y(Tt,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===tm.NOPROXY&&Y(Tt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.o_()},0),w}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(n){return new N2(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="PersistentStream";class nI{constructor(e,t,r,i,s,o,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new tI(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(Nr(t.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{const i=new z(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Y(S0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Y(S0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bL extends nI{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=L2(this.serializer,e),r=function(s){if(!("targetChange"in s))return re.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?Gn(o.readTime):re.min()}(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=hm(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=om(l)?{documents:U2(s,l)}:{query:j2(s,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Hk(s,o.resumeToken);const c=um(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(re.min())>0){a.readTime=fd(s,o.snapshotVersion.toTimestamp());const c=um(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=$2(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=hm(this.serializer),t.removeTarget=e,this.k_(t)}}class xL extends nI{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=F2(e.writeResults,e.commitTime),r=Gn(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=hm(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>V2(this.serializer,r))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{}class NL extends AL{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new z(U.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,cm(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(U.UNKNOWN,s.toString())})}Jo(e,t,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,cm(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(U.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class OL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Nr(t),this._a=!1):Y("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="RemoteStore";class ML{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Ds(this)&&(Y(ys,"Restarting streams for network reachability change."),await async function(l){const c=ie(l);c.Ia.add(4),await Yl(c),c.Aa.set("Unknown"),c.Ia.delete(4),await hh(c)}(this))})}),this.Aa=new OL(r,i)}}async function hh(n){if(Ds(n))for(const e of n.da)await e(!0)}async function Yl(n){for(const e of n.da)await e(!1)}function rI(n,e){const t=ie(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),cy(t)?uy(t):Yo(t).x_()&&ly(t,e))}function ay(n,e){const t=ie(n),r=Yo(t);t.Ta.delete(e),r.x_()&&iI(t,e),t.Ta.size===0&&(r.x_()?r.B_():Ds(t)&&t.Aa.set("Unknown"))}function ly(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yo(n).H_(e)}function iI(n,e){n.Ra.$e(e),Yo(n).Y_(e)}function uy(n){n.Ra=new R2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Yo(n).start(),n.Aa.aa()}function cy(n){return Ds(n)&&!Yo(n).M_()&&n.Ta.size>0}function Ds(n){return ie(n).Ia.size===0}function sI(n){n.Ra=void 0}async function LL(n){n.Aa.set("Online")}async function VL(n){n.Ta.forEach((e,t)=>{ly(n,e)})}async function FL(n,e){sI(n),cy(n)?(n.Aa.la(e),uy(n)):n.Aa.set("Unknown")}async function UL(n,e,t){if(n.Aa.set("Online"),e instanceof Wk&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ta.delete(a),i.Ra.removeTarget(a))}(n,e)}catch(r){Y(ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await md(n,r)}else if(e instanceof _c?n.Ra.Ye(e):e instanceof $k?n.Ra.it(e):n.Ra.et(e),!t.isEqual(re.min()))try{const r=await eI(n.localStore);t.compareTo(r)>=0&&await function(s,o){const a=s.Ra.Pt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ta.get(c);d&&s.Ta.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.Ta.get(l);if(!d)return;s.Ta.set(l,d.withResumeToken(gt.EMPTY_BYTE_STRING,d.snapshotVersion)),iI(s,l);const h=new ri(d.target,l,c,d.sequenceNumber);ly(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){Y(ys,"Failed to raise snapshot:",r),await md(n,r)}}async function md(n,e,t){if(!zo(e))throw e;n.Ia.add(1),await Yl(n),n.Aa.set("Offline"),t||(t=()=>eI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Y(ys,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await hh(n)})}function oI(n,e){return e().catch(t=>md(n,t,e))}async function fh(n){const e=ie(n),t=Pi(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:qg;for(;jL(e);)try{const i=await EL(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,BL(e,i)}catch(i){await md(e,i)}aI(e)&&lI(e)}function jL(n){return Ds(n)&&n.Pa.length<10}function BL(n,e){n.Pa.push(e);const t=Pi(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function aI(n){return Ds(n)&&!Pi(n).M_()&&n.Pa.length>0}function lI(n){Pi(n).start()}async function $L(n){Pi(n).na()}async function WL(n){const e=Pi(n);for(const t of n.Pa)e.X_(t.mutations)}async function HL(n,e,t){const r=n.Pa.shift(),i=ey.from(r,e,t);await oI(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await fh(n)}async function zL(n,e){e&&Pi(n).Z_&&await async function(r,i){if(function(o){return D2(o)&&o!==U.ABORTED}(i.code)){const s=r.Pa.shift();Pi(r).N_(),await oI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await fh(r)}}(n,e),aI(n)&&lI(n)}async function k0(n,e){const t=ie(n);t.asyncQueue.verifyOperationInProgress(),Y(ys,"RemoteStore received new credentials");const r=Ds(t);t.Ia.add(3),await Yl(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await hh(t)}async function YL(n,e){const t=ie(n);e?(t.Ia.delete(2),await hh(t)):e||(t.Ia.add(2),await Yl(t),t.Aa.set("Unknown"))}function Yo(n){return n.Va||(n.Va=function(t,r,i){const s=ie(t);return s.ia(),new bL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Zo:LL.bind(null,n),e_:VL.bind(null,n),n_:FL.bind(null,n),J_:UL.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),cy(n)?uy(n):n.Aa.set("Unknown")):(await n.Va.stop(),sI(n))})),n.Va}function Pi(n){return n.ma||(n.ma=function(t,r,i){const s=ie(t);return s.ia(),new xL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:$L.bind(null,n),n_:zL.bind(null,n),ea:WL.bind(null,n),ta:HL.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await fh(n)):(await n.ma.stop(),n.Pa.length>0&&(Y(ys,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new dy(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hy(n,e){if(Nr("AsyncQueue",`${e}: ${n}`),zo(n))return new z(U.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||X.comparator(t.key,r.key):(t,r)=>X.comparator(t.key,r.key),this.keyedMap=Aa(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(){this.fa=new je(X.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):te(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}}class Co{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Co(e,t,uo.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class KL{constructor(){this.queries=C0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const i=ie(t),s=i.queries;i.queries=C0(),s.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new z(U.ABORTED,"Firestore shutting down"))}}function C0(){return new Cs(n=>Pk(n),oh)}async function fy(n,e){const t=ie(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new qL,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await t.onListen(i,!0);break;case 1:s.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const a=hy(o,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.wa.push(e),e.va(t.onlineState),s.ya&&e.Ca(s.ya)&&my(t)}async function py(n,e){const t=ie(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function QL(n,e){const t=ie(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const a of o.wa)a.Ca(i)&&(r=!0);o.ya=i}}r&&my(t)}function GL(n,e,t){const r=ie(n),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(t);r.queries.delete(e)}function my(n){n.Da.forEach(e=>{e.next()})}var mm,D0;(D0=mm||(mm={})).Fa="default",D0.Cache="cache";class gy{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Co(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==mm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.key=e}}class cI{constructor(e){this.key=e}}class XL{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=de(),this.mutatedKeys=de(),this.Xa=Rk(e),this.eu=new uo(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new I0,i=t?t.eu:this.eu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),g=ah(this.query,h)?h:null,w=!!p&&this.mutatedKeys.has(p.key),k=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let C=!1;p&&g?p.data.isEqual(g.data)?w!==k&&(r.track({type:3,doc:g}),C=!0):this.iu(p,g)||(r.track({type:2,doc:g}),C=!0,(l&&this.Xa(g,l)>0||c&&this.Xa(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),C=!0):p&&!g&&(r.track({type:1,doc:p}),C=!0,(l||c)&&(a=!0)),C&&(g?(o=o.add(g),s=k?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{eu:o,ru:r,Ds:a,mutatedKeys:s}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((d,h)=>function(g,w){const k=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te(20277,{At:C})}};return k(g)-k(w)}(d.type,h.type)||this.Xa(d.doc,h.doc)),this.su(r),i=i!=null&&i;const a=t&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,c=l!==this.Ya;return this.Ya=l,o.length!==0||c?{snapshot:new Co(this.query,e.eu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new I0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=de(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new cI(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new uI(r))}),t}uu(e){this.Ha=e.qs,this.Za=de();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Co.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const yy="SyncEngine";class JL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ZL{constructor(e){this.key=e,this.lu=!1}}class eV{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Cs(a=>Pk(a),oh),this.Tu=new Map,this.Iu=new Set,this.du=new je(X.comparator),this.Eu=new Map,this.Au=new ry,this.Ru={},this.Vu=new Map,this.mu=Io.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function tV(n,e,t=!0){const r=gI(n);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await dI(r,e,t,!0),i}async function nV(n,e){const t=gI(n);await dI(t,e,!0,!1)}async function dI(n,e,t,r){const i=await TL(n.localStore,Qn(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let a;return r&&(a=await rV(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&rI(n.remoteStore,i),a}async function rV(n,e,t,r,i){n.gu=(h,p,g)=>async function(k,C,_,y){let E=C.view.nu(_);E.Ds&&(E=await _0(k.localStore,C.query,!1).then(({documents:I})=>C.view.nu(I,E)));const x=y&&y.targetChanges.get(C.targetId),M=y&&y.targetMismatches.get(C.targetId)!=null,V=C.view.applyChanges(E,k.isPrimaryClient,x,M);return R0(k,C.targetId,V._u),V.snapshot}(n,h,p,g);const s=await _0(n.localStore,e,!0),o=new XL(e,s.qs),a=o.nu(s.documents),l=zl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=o.applyChanges(a,n.isPrimaryClient,l);R0(n,t,c._u);const d=new JL(e,t,o);return n.Pu.set(e,d),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),c.snapshot}async function iV(n,e,t){const r=ie(n),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!oh(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await fm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&ay(r.remoteStore,i.targetId),gm(r,i.targetId)}).catch(Ho)):(gm(r,i.targetId),await fm(r.localStore,i.targetId,!0))}async function sV(n,e){const t=ie(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ay(t.remoteStore,r.targetId))}async function oV(n,e,t){const r=fV(n);try{const i=await function(o,a){const l=ie(o),c=be.now(),d=a.reduce((g,w)=>g.add(w.key),de());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=Or(),k=de();return l.Os.getEntries(g,d).next(C=>{w=C,w.forEach((_,y)=>{y.isValidDocument()||(k=k.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(C=>{h=C;const _=[];for(const y of a){const E=T2(y,h.get(y.key).overlayedDocument);E!=null&&_.push(new Ui(y.key,E,wk(E.value.mapValue),hn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,_,a)}).next(C=>{p=C;const _=C.applyToLocalDocumentSet(h,k);return l.documentOverlayCache.saveOverlays(g,C.batchId,_)})}).then(()=>({batchId:p.batchId,changes:xk(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ru[o.currentUser.toKey()];c||(c=new je(oe)),c=c.insert(a,l),o.Ru[o.currentUser.toKey()]=c}(r,i.batchId,t),await ql(r,i.changes),await fh(r.remoteStore)}catch(i){const s=hy(i,"Failed to persist write");t.reject(s)}}async function hI(n,e){const t=ie(n);try{const r=await _L(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Eu.get(s);o&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?we(o.lu,14607):i.removedDocuments.size>0&&(we(o.lu,42227),o.lu=!1))}),await ql(t,r,e)}catch(r){await Ho(r)}}function P0(n,e,t){const r=ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Pu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ie(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.wa)p.va(a)&&(c=!0)}),c&&my(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aV(n,e,t){const r=ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new je(X.comparator);o=o.insert(s,It.newNoDocument(s,re.min()));const a=de().add(s),l=new ch(re.min(),new Map,new je(oe),o,a);await hI(r,l),r.du=r.du.remove(s),r.Eu.delete(e),vy(r)}else await fm(r.localStore,e,!1).then(()=>gm(r,e,t)).catch(Ho)}async function lV(n,e){const t=ie(n),r=e.batch.batchId;try{const i=await vL(t.localStore,e);pI(t,r,null),fI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ql(t,i)}catch(i){await Ho(i)}}async function uV(n,e,t){const r=ie(n);try{const i=await function(o,a){const l=ie(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(we(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);pI(r,e,t),fI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ql(r,i)}catch(i){await Ho(i)}}function fI(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function pI(n,e,t){const r=ie(n);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function gm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||mI(n,r)})}function mI(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(ay(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),vy(n))}function R0(n,e,t){for(const r of t)r instanceof uI?(n.Au.addReference(r.key,e),cV(n,r)):r instanceof cI?(Y(yy,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||mI(n,r.key)):te(19791,{yu:r})}function cV(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(Y(yy,"New document in limbo: "+t),n.Iu.add(r),vy(n))}function vy(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new X(Ce.fromString(e)),r=n.mu.next();n.Eu.set(r,new ZL(t)),n.du=n.du.insert(t,r),rI(n.remoteStore,new ri(Qn(sh(t.path)),r,"TargetPurposeLimboResolution",nh.ue))}}async function ql(n,e,t){const r=ie(n),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,t).then(c=>{var d;if((c||t)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=t==null?void 0:t.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=sy.Es(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.hu.J_(i),await async function(l,c){const d=ie(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(c,p=>B.forEach(p.Is,g=>d.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>B.forEach(p.ds,g=>d.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!zo(h))throw h;Y(oy,"Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const g=d.Fs.get(p),w=g.snapshotVersion,k=g.withLastLimboFreeSnapshotVersion(w);d.Fs=d.Fs.insert(p,k)}}}(r.localStore,s))}async function dV(n,e){const t=ie(n);if(!t.currentUser.isEqual(e)){Y(yy,"User change. New user:",e.toKey());const r=await Zk(t.localStore,e);t.currentUser=e,function(s,o){s.Vu.forEach(a=>{a.forEach(l=>{l.reject(new z(U.CANCELLED,o))})}),s.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ql(t,r.Bs)}}function hV(n,e){const t=ie(n),r=t.Eu.get(e);if(r&&r.lu)return de().add(r.key);{let i=de();const s=t.Tu.get(e);if(!s)return i;for(const o of s){const a=t.Pu.get(o);i=i.unionWith(a.view.tu)}return i}}function gI(n){const e=ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aV.bind(null,e),e.hu.J_=QL.bind(null,e.eventManager),e.hu.pu=GL.bind(null,e.eventManager),e}function fV(n){const e=ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uV.bind(null,e),e}class gd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return yL(this.persistence,new pL,e.initialUser,this.serializer)}Du(e){return new Jk(iy.Vi,this.serializer)}bu(e){return new kL}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gd.provider={build:()=>new gd};class pV extends gd{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){we(this.persistence.referenceDelegate instanceof pd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Z2(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Ft.withCacheSize(this.cacheSizeBytes):Ft.DEFAULT;return new Jk(r=>pd.Vi(r,t),this.serializer)}}class ym{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>P0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dV.bind(null,this.syncEngine),await YL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KL}()}createDatastore(e){const t=dh(e.databaseInfo.databaseId),r=function(s){return new RL(s)}(e.databaseInfo);return function(s,o,a,l){return new NL(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,o,a){return new ML(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>P0(this.syncEngine,t,0),function(){return T0.C()?new T0:new IL}())}createSyncEngine(e,t){return function(i,s,o,a,l,c,d){const h=new eV(i,s,o,a,l,c);return d&&(h.fu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=ie(i);Y(ys,"RemoteStore shutting down."),s.Ia.add(5),await Yl(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ym.provider={build:()=>new ym};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="FirestoreClient";class mV{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=St.UNAUTHENTICATED,this.clientId=Yg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Y(Ri,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(Ri,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=hy(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function jf(n,e){n.asyncQueue.verifyOperationInProgress(),Y(Ri,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Zk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Si("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{Y("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Si("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function b0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await gV(n);Y(Ri,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>k0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>k0(e.remoteStore,i)),n._onlineComponents=e}async function gV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Y(Ri,"Using user provided OfflineComponentProvider");try{await jf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Si("Error using user provided cache. Falling back to memory cache: "+t),await jf(n,new gd)}}else Y(Ri,"Using default OfflineComponentProvider"),await jf(n,new pV(void 0));return n._offlineComponents}async function yI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Y(Ri,"Using user provided OnlineComponentProvider"),await b0(n,n._uninitializedComponentsProvider._online)):(Y(Ri,"Using default OnlineComponentProvider"),await b0(n,new ym))),n._onlineComponents}function yV(n){return yI(n).then(e=>e.syncEngine)}async function yd(n){const e=await yI(n),t=e.eventManager;return t.onListen=tV.bind(null,e.syncEngine),t.onUnlisten=iV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=nV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=sV.bind(null,e.syncEngine),t}function vV(n,e,t={}){const r=new wr;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new _y({next:p=>{d.Ou(),o.enqueueAndForget(()=>py(s,h));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new z(U.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new z(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new gy(sh(a.path),d,{includeMetadataChanges:!0,ka:!0});return fy(s,h)}(await yd(n),n.asyncQueue,e,t,r)),r.promise}function _V(n,e,t={}){const r=new wr;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new _y({next:p=>{d.Ou(),o.enqueueAndForget(()=>py(s,h)),p.fromCache&&l.source==="server"?c.reject(new z(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new gy(a,d,{includeMetadataChanges:!0,ka:!0});return fy(s,h)}(await yd(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="firestore.googleapis.com",A0=!0;class N0{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_I,this.ssl=A0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:A0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Xk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<X2)throw new z(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new z(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new z(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new z(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ph{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new PM;switch(r.type){case"firstParty":return new AM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=x0.get(t);r&&(Y("ComponentProvider","Removing Datastore"),x0.delete(t),r.terminate())}(this),Promise.resolve()}}function wV(n,e,t,r={}){var i;n=zt(n,ph);const s=Li(e),o=n._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;s&&(xg(`https://${l}`),Ag("Firestore",!0)),o.host!==_I&&o.host!==l&&Si("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Ei(c,a)&&(n._setSettings(c),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=St.MOCK_USER;else{d=fS(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new z(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new St(p)}n._authCredentials=new RM(new ok(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ps(this.firestore,e,this._query)}}class We{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new We(this.firestore,e,this._key)}toJSON(){return{type:We._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if($l(t,We._jsonSchema))return new We(e,r||null,new X(Ce.fromString(t.referencePath)))}}We._jsonSchemaVersion="firestore/documentReference/1.0",We._jsonSchema={type:tt("string",We._jsonSchemaVersion),referencePath:tt("string")};class gi extends Ps{constructor(e,t,r){super(e,t,sh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new We(this.firestore,null,new X(e))}withConverter(e){return new gi(this.firestore,e,this._path)}}function Il(n,e,...t){if(n=Me(n),lk("collection","path",e),n instanceof ph){const r=Ce.fromString(e,...t);return Yw(r),new gi(n,null,r)}{if(!(n instanceof We||n instanceof gi))throw new z(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ce.fromString(e,...t));return Yw(r),new gi(n.firestore,null,r)}}function Do(n,e,...t){if(n=Me(n),arguments.length===1&&(e=Yg.newId()),lk("doc","path",e),n instanceof ph){const r=Ce.fromString(e,...t);return zw(r),new We(n,null,new X(r))}{if(!(n instanceof We||n instanceof gi))throw new z(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ce.fromString(e,...t));return zw(r),new We(n.firestore,n instanceof gi?n.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="AsyncQueue";class M0{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new tI(this,"async_queue_retry"),this.oc=()=>{const r=Uf();r&&Y(O0,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=Uf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Uf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new wr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!zo(e))throw e;Y(O0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Nr("INTERNAL UNHANDLED ERROR: ",L0(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const i=dy.createAndSchedule(this,e,t,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&te(47125,{hc:L0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function L0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}class Mr extends ph{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new M0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new M0(e),this._firestoreClient=void 0,await e}}}function EV(n,e){const t=typeof n=="object"?n:Mg(),r=typeof n=="string"?n:e||ld,i=Xd(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=cS("firestore");s&&wV(i,...s)}return i}function mh(n){if(n._terminated)throw new z(U.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||TV(n),n._firestoreClient}function TV(n){var e,t,r;const i=n._freezeSettings(),s=function(a,l,c,d){return new KM(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,vI(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new mV(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new un(gt.fromBase64String(e))}catch(t){throw new z(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new un(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($l(e,un._jsonSchema))return un.fromBase64String(e.bytes)}}un._jsonSchemaVersion="firestore/bytes/1.0",un._jsonSchema={type:tt("string",un._jsonSchemaVersion),bytes:tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new z(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new z(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new z(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xn._jsonSchemaVersion}}static fromJSON(e){if($l(e,Xn._jsonSchema))return new Xn(e.latitude,e.longitude)}}Xn._jsonSchemaVersion="firestore/geoPoint/1.0",Xn._jsonSchema={type:tt("string",Xn._jsonSchemaVersion),latitude:tt("number"),longitude:tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Jn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($l(e,Jn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Jn(e.vectorValues);throw new z(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jn._jsonSchemaVersion="firestore/vectorValue/1.0",Jn._jsonSchema={type:tt("string",Jn._jsonSchemaVersion),vectorValues:tt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=/^__.*__$/;class kV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ui(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hl(e,this.data,t,this.fieldTransforms)}}class wI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ui(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function EI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te(40011,{Ec:n})}}class yh{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new yh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return vd(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(EI(this.Ec)&&SV.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class IV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||dh(e)}Dc(e,t,r,i=!1){return new yh({Ec:e,methodName:t,bc:r,path:ht.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vh(n){const e=n._freezeSettings(),t=dh(n._databaseId);return new IV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function TI(n,e,t,r,i,s={}){const o=n.Dc(s.merge||s.mergeFields?2:0,e,t,i);Ty("Data must be an object, but it was:",o,r);const a=SI(r,o);let l,c;if(s.merge)l=new Gt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const p=vm(e,h,t);if(!o.contains(p))throw new z(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);II(d,p)||d.push(p)}l=new Gt(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new kV(new jt(a),l,c)}class _h extends Kl{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _h}}function CV(n,e,t){return new yh({Ec:3,bc:e.settings.bc,methodName:n._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class wy extends Kl{_toFieldTransform(e){return new Fk(e.path,new Sl)}isEqual(e){return e instanceof wy}}class Ey extends Kl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=CV(this,e,!0),r=this.vc.map(s=>qo(s,t)),i=new ko(r);return new Fk(e.path,i)}isEqual(e){return e instanceof Ey&&Ei(this.vc,e.vc)}}function DV(n,e,t,r){const i=n.Dc(1,e,t);Ty("Data must be an object, but it was:",i,r);const s=[],o=jt.empty();Fi(r,(l,c)=>{const d=Sy(e,l,t);c=Me(c);const h=i.gc(d);if(c instanceof _h)s.push(d);else{const p=qo(c,h);p!=null&&(s.push(d),o.set(d,p))}});const a=new Gt(s);return new wI(o,a,i.fieldTransforms)}function PV(n,e,t,r,i,s){const o=n.Dc(1,e,t),a=[vm(e,r,t)],l=[i];if(s.length%2!=0)throw new z(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(vm(e,s[p])),l.push(s[p+1]);const c=[],d=jt.empty();for(let p=a.length-1;p>=0;--p)if(!II(c,a[p])){const g=a[p];let w=l[p];w=Me(w);const k=o.gc(g);if(w instanceof _h)c.push(g);else{const C=qo(w,k);C!=null&&(c.push(g),d.set(g,C))}}const h=new Gt(c);return new wI(d,h,o.fieldTransforms)}function RV(n,e,t,r=!1){return qo(t,n.Dc(r?4:3,e))}function qo(n,e){if(kI(n=Me(n)))return Ty("Unsupported field value:",e,n),SI(n,e);if(n instanceof Kl)return function(r,i){if(!EI(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=qo(a,i.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Me(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return g2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=be.fromDate(r);return{timestampValue:fd(i.serializer,s)}}if(r instanceof be){const s=new be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fd(i.serializer,s)}}if(r instanceof Xn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof un)return{bytesValue:Hk(i.serializer,r._byteString)};if(r instanceof We){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ny(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Jn)return function(o,a){return{mapValue:{fields:{[yk]:{stringValue:_k},[ud]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.wc("VectorValues must only contain numeric values.");return Jg(a.serializer,c)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${th(r)}`)}(n,e)}function SI(n,e){const t={};return dk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fi(n,(r,i)=>{const s=qo(i,e.Vc(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function kI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof be||n instanceof Xn||n instanceof un||n instanceof We||n instanceof Kl||n instanceof Jn)}function Ty(n,e,t){if(!kI(t)||!uk(t)){const r=th(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function vm(n,e,t){if((e=Me(e))instanceof gh)return e._internalPath;if(typeof e=="string")return Sy(n,e);throw vd("Field path arguments must be of type string or ",n,!1,void 0,t)}const bV=new RegExp("[~\\*/\\[\\]]");function Sy(n,e,t){if(e.search(bV)>=0)throw vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gh(...e.split("."))._internalPath}catch{throw vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vd(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new z(U.INVALID_ARGUMENT,a+n+l)}function II(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ky("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class xV extends CI{data(){return super.data()}}function ky(n,e){return typeof e=="string"?Sy(n,e):e instanceof gh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new z(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Iy{}class AV extends Iy{}function NV(n,e,...t){let r=[];e instanceof Iy&&r.push(e),r=r.concat(t),function(s){const o=s.filter(l=>l instanceof Cy).length,a=s.filter(l=>l instanceof wh).length;if(o>1||o>0&&a>0)throw new z(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class wh extends AV{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new wh(e,t,r)}_apply(e){const t=this._parse(e);return PI(e._query,t),new Ps(e.firestore,e.converter,am(e._query,t))}_parse(e){const t=vh(e.firestore);return function(s,o,a,l,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new z(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){U0(h,d);const w=[];for(const k of h)w.push(F0(l,s,k));p={arrayValue:{values:w}}}else p=F0(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||U0(h,d),p=RV(a,o,h,d==="in"||d==="not-in");return et.create(c,d,p)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function OV(n,e,t){const r=e,i=ky("where",n);return wh._create(i,r,t)}class Cy extends Iy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Cy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Rn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)PI(o,l),o=am(o,l)}(e._query,t),new Ps(e.firestore,e.converter,am(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function F0(n,e,t){if(typeof(t=Me(t))=="string"){if(t==="")throw new z(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dk(e)&&t.indexOf("/")!==-1)throw new z(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ce.fromString(t));if(!X.isDocumentKey(r))throw new z(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return e0(n,new X(r))}if(t instanceof We)return e0(n,t._key);throw new z(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${th(t)}.`)}function U0(n,e){if(!Array.isArray(n)||n.length===0)throw new z(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PI(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new z(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new z(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class MV{convertValue(e,t="none"){switch(Di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Fi(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ud].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ke(o.doubleValue));return new Jn(s)}convertGeoPoint(e){return new Xn(Ke(e.latitude),Ke(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ih(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(wl(e));default:return null}}convertTimestamp(e){const t=Ii(e);return new be(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ce.fromString(e);we(Gk(r),9688,{name:e});const i=new El(r.get(1),r.get(3)),s=new X(r.popFirst(5));return i.isEqual(t)||Nr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Oa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ns extends CI{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ky("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new z(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ns._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",ns._jsonSchema={type:tt("string",ns._jsonSchemaVersion),bundleSource:tt("string","DocumentSnapshot"),bundleName:tt("string"),bundle:tt("string")};class wc extends ns{data(e={}){return super.data(e)}}class rs{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Oa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new wc(this._firestore,this._userDataWriter,r.key,r,new Oa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new z(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new wc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Oa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new wc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Oa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:LV(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new z(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(n){n=zt(n,We);const e=zt(n.firestore,Mr);return vV(mh(e),n._key).then(t=>NI(e,n,t))}rs._jsonSchemaVersion="firestore/querySnapshot/1.0",rs._jsonSchema={type:tt("string",rs._jsonSchemaVersion),bundleSource:tt("string","QuerySnapshot"),bundleName:tt("string"),bundle:tt("string")};class Dy extends MV{constructor(e){super(),this.firestore=e}convertBytes(e){return new un(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,t)}}function FV(n){n=zt(n,Ps);const e=zt(n.firestore,Mr),t=mh(e),r=new Dy(e);return DI(n._query),_V(t,n._query).then(i=>new rs(e,r,n,i))}function bI(n,e,t){n=zt(n,We);const r=zt(n.firestore,Mr),i=RI(n.converter,e,t);return Eh(r,[TI(vh(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,hn.none())])}function UV(n,e,t,...r){n=zt(n,We);const i=zt(n.firestore,Mr),s=vh(i);let o;return o=typeof(e=Me(e))=="string"||e instanceof gh?PV(s,"updateDoc",n._key,e,t,r):DV(s,"updateDoc",n._key,e),Eh(i,[o.toMutation(n._key,hn.exists(!0))])}function jV(n){return Eh(zt(n.firestore,Mr),[new Zg(n._key,hn.none())])}function xI(n,e){const t=zt(n.firestore,Mr),r=Do(n),i=RI(n.converter,e);return Eh(t,[TI(vh(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,hn.exists(!1))]).then(()=>r)}function AI(n,...e){var t,r,i;n=Me(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||V0(e[o])||(s=e[o++]);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(V0(e[o])){const h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,d;if(n instanceof We)c=zt(n.firestore,Mr),d=sh(n._key.path),l={next:h=>{e[o]&&e[o](NI(c,n,h))},error:e[o+1],complete:e[o+2]};else{const h=zt(n,Ps);c=zt(h.firestore,Mr),d=h._query;const p=new Dy(c);l={next:g=>{e[o]&&e[o](new rs(c,p,h,g))},error:e[o+1],complete:e[o+2]},DI(n._query)}return function(p,g,w,k){const C=new _y(k),_=new gy(g,C,w);return p.asyncQueue.enqueueAndForget(async()=>fy(await yd(p),_)),()=>{C.Ou(),p.asyncQueue.enqueueAndForget(async()=>py(await yd(p),_))}}(mh(c),d,a,l)}function Eh(n,e){return function(r,i){const s=new wr;return r.asyncQueue.enqueueAndForget(async()=>oV(await yV(r),i,s)),s.promise}(mh(n),e)}function NI(n,e,t){const r=t.docs.get(e._key),i=new Dy(n);return new ns(n,i,e._key,r,new Oa(t.hasPendingWrites,t.fromCache),e.converter)}function BV(){return new wy("serverTimestamp")}function $V(...n){return new Ey("arrayUnion",n)}(function(e,t=!0){(function(i){Wo=i})(ks),fs(new Ti("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Mr(new bM(r.getProvider("auth-internal")),new NM(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new z(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new El(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Yn(jw,Bw,e),Yn(jw,Bw,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="firebasestorage.googleapis.com",MI="storageBucket",WV=2*60*1e3,HV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye extends rr{constructor(e,t,r=0){super(Bf(e),`Firebase Storage: ${t} (${Bf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ye.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var He;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(He||(He={}));function Bf(n){return"storage/"+n}function Py(){const n="An unknown error occurred, please check the error payload for server response.";return new Ye(He.UNKNOWN,n)}function zV(n){return new Ye(He.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function YV(n){return new Ye(He.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qV(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ye(He.UNAUTHENTICATED,n)}function KV(){return new Ye(He.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function QV(n){return new Ye(He.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function GV(){return new Ye(He.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function XV(){return new Ye(He.CANCELED,"User canceled the upload/download.")}function JV(n){return new Ye(He.INVALID_URL,"Invalid URL '"+n+"'.")}function ZV(n){return new Ye(He.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function eF(){return new Ye(He.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+MI+"' property when initializing the app?")}function tF(){return new Ye(He.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function nF(){return new Ye(He.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function rF(n){return new Ye(He.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function _m(n){return new Ye(He.INVALID_ARGUMENT,n)}function LI(){return new Ye(He.APP_DELETED,"The Firebase app was deleted.")}function iF(n){return new Ye(He.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ja(n,e){return new Ye(He.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function va(n){throw new Ye(He.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Xt.makeFromUrl(e,t)}catch{return new Xt(e,"")}if(r.path==="")return r;throw ZV(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(x){x.path_=decodeURIComponent(x.path)}const d="v[A-Za-z0-9_]+",h=t.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${i}/o${p}`,"i"),w={bucket:1,path:3},k=t===OI?"(?:storage.googleapis.com|storage.cloud.google.com)":t,C="([^?#]*)",_=new RegExp(`^https?://${k}/${i}/${C}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:g,indices:w,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let x=0;x<E.length;x++){const M=E[x],V=M.regex.exec(e);if(V){const I=V[M.indices.bucket];let v=V[M.indices.path];v||(v=""),r=new Xt(I,v),M.postModify(r);break}}if(r==null)throw JV(e);return r}}class sF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...C){c||(c=!0,e.apply(null,C))}function h(C){i=setTimeout(()=>{i=null,n(g,l())},C)}function p(){s&&clearTimeout(s)}function g(C,..._){if(c){p();return}if(C){p(),d.call(null,C,..._);return}if(l()||o){p(),d.call(null,C,..._);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,h(E)}let w=!1;function k(C){w||(w=!0,p(),!c&&(i!==null?(C||(a=2),clearTimeout(i),h(0)):C||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,k(!0)},t),k}function aF(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lF(n){return n!==void 0}function uF(n){return typeof n=="object"&&!Array.isArray(n)}function Ry(n){return typeof n=="string"||n instanceof String}function j0(n){return by()&&n instanceof Blob}function by(){return typeof Blob<"u"}function B0(n,e,t,r){if(r<e)throw _m(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw _m(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function VI(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var is;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(is||(is={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,t,r,i,s,o,a,l,c,d,h,p=!0,g=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,k)=>{this.resolve_=w,this.reject_=k,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new $u(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===is.NO_ERROR,l=s.getStatus();if(!a||cF(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===is.ABORT;r(!1,new $u(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new $u(c,s))})},t=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());lF(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Py();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?LI():XV();o(l)}else{const l=GV();o(l)}};this.canceled_?t(!1,new $u(!1,null,!0)):this.backoffId_=oF(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&aF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $u{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function hF(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function fF(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function pF(n,e){e&&(n["X-Firebase-GMPID"]=e)}function mF(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function gF(n,e,t,r,i,s,o=!0,a=!1){const l=VI(n.urlParams),c=n.url+l,d=Object.assign({},n.headers);return pF(d,e),hF(d,t),fF(d,s),mF(d,r),new dF(c,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function vF(...n){const e=yF();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(by())return new Blob(n);throw new Ye(He.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _F(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(n){if(typeof atob>"u")throw rF("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $f{constructor(e,t){this.data=e,this.contentType=t||null}}function EF(n,e){switch(n){case Bn.RAW:return new $f(FI(e));case Bn.BASE64:case Bn.BASE64URL:return new $f(UI(n,e));case Bn.DATA_URL:return new $f(SF(e),kF(e))}throw Py()}function FI(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=n.charCodeAt(++t);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function TF(n){let e;try{e=decodeURIComponent(n)}catch{throw Ja(Bn.DATA_URL,"Malformed data URL.")}return FI(e)}function UI(n,e){switch(n){case Bn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Ja(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Bn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Ja(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=wF(e)}catch(i){throw i.message.includes("polyfill")?i:Ja(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class jI{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ja(Bn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=IF(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function SF(n){const e=new jI(n);return e.base64?UI(Bn.BASE64,e.rest):TF(e.rest)}function kF(n){return new jI(n).contentType}function IF(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,t){let r=0,i="";j0(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(j0(this.data_)){const r=this.data_,i=_F(r,e,t);return i===null?null:new ei(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new ei(r,!0)}}static getBlob(...e){if(by()){const t=e.map(r=>r instanceof ei?r.data_:r);return new ei(vF.apply(null,t))}else{const t=e.map(o=>Ry(o)?EF(Bn.RAW,o).data:o.data_);let r=0;t.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new ei(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(n){let e;try{e=JSON.parse(n)}catch{return null}return uF(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function DF(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function $I(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(n,e){return e}class xt{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||PF}}let Wu=null;function RF(n){return!Ry(n)||n.length<2?n:$I(n)}function WI(){if(Wu)return Wu;const n=[];n.push(new xt("bucket")),n.push(new xt("generation")),n.push(new xt("metageneration")),n.push(new xt("name","fullPath",!0));function e(s,o){return RF(o)}const t=new xt("name");t.xform=e,n.push(t);function r(s,o){return o!==void 0?Number(o):o}const i=new xt("size");return i.xform=r,n.push(i),n.push(new xt("timeCreated")),n.push(new xt("updated")),n.push(new xt("md5Hash",null,!0)),n.push(new xt("cacheControl",null,!0)),n.push(new xt("contentDisposition",null,!0)),n.push(new xt("contentEncoding",null,!0)),n.push(new xt("contentLanguage",null,!0)),n.push(new xt("contentType",null,!0)),n.push(new xt("metadata","customMetadata",!0)),Wu=n,Wu}function bF(n,e){function t(){const r=n.bucket,i=n.fullPath,s=new Xt(r,i);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function xF(n,e,t){const r={};r.type="file";const i=t.length;for(let s=0;s<i;s++){const o=t[s];r[o.local]=o.xform(r,e[o.server])}return bF(r,n),r}function HI(n,e,t){const r=BI(e);return r===null?null:xF(n,r,t)}function AF(n,e,t,r){const i=BI(e);if(i===null||!Ry(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=n.bucket,h=n.fullPath,p="/b/"+o(d)+"/o/"+o(h),g=xy(p,t,r),w=VI({alt:"media",token:c});return g+w})[0]}function NF(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}class zI{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(n){if(!n)throw Py()}function OF(n,e){function t(r,i){const s=HI(n,i,e);return YI(s!==null),s}return t}function MF(n,e){function t(r,i){const s=HI(n,i,e);return YI(s!==null),AF(s,i,n.host,n._protocol)}return t}function qI(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=KV():i=qV():t.getStatus()===402?i=YV(n.bucket):t.getStatus()===403?i=QV(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function LF(n){const e=qI(n);function t(r,i){let s=e(r,i);return r.getStatus()===404&&(s=zV(n.path)),s.serverResponse=i.serverResponse,s}return t}function VF(n,e,t){const r=e.fullServerUrl(),i=xy(r,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,a=new zI(i,s,MF(n,t),o);return a.errorHandler=LF(e),a}function FF(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function UF(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=FF(null,e)),r}function jF(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let x=0;x<2;x++)E=E+Math.random().toString().slice(2);return E}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=UF(e,r,i),d=NF(c,t),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",g=ei.getBlob(h,r,p);if(g===null)throw tF();const w={name:c.fullPath},k=xy(s,n.host,n._protocol),C="POST",_=n.maxUploadRetryTime,y=new zI(k,C,OF(n,t),_);return y.urlParams=w,y.headers=o,y.body=g.uploadData(),y.errorHandler=qI(e),y}class BF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=is.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=is.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=is.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i,s){if(this.sent_)throw va("cannot .send() more than once");if(Li(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw va("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw va("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw va("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw va("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class $F extends BF{initXhr(){this.xhr_.responseType="text"}}function KI(){return new $F}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t){this._service=e,t instanceof Xt?this._location=t:this._location=Xt.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new vs(e,t)}get root(){const e=new Xt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $I(this._location.path)}get storage(){return this._service}get parent(){const e=CF(this._location.path);if(e===null)return null;const t=new Xt(this._location.bucket,e);return new vs(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw iF(e)}}function WF(n,e,t){n._throwIfRoot("uploadBytes");const r=jF(n.storage,n._location,WI(),new ei(e,!0),t);return n.storage.makeRequestWithTokens(r,KI).then(i=>({metadata:i,ref:n}))}function HF(n){n._throwIfRoot("getDownloadURL");const e=VF(n.storage,n._location,WI());return n.storage.makeRequestWithTokens(e,KI).then(t=>{if(t===null)throw nF();return t})}function zF(n,e){const t=DF(n._location.path,e),r=new Xt(n._location.bucket,t);return new vs(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(n){return/^[A-Za-z]+:\/\//.test(n)}function qF(n,e){return new vs(n,e)}function QI(n,e){if(n instanceof Ay){const t=n;if(t._bucket==null)throw eF();const r=new vs(t,t._bucket);return e!=null?QI(r,e):r}else return e!==void 0?zF(n,e):n}function KF(n,e){if(e&&YF(e)){if(n instanceof Ay)return qF(n,e);throw _m("To use ref(service, url), the first argument must be a Storage instance.")}else return QI(n,e)}function $0(n,e){const t=e==null?void 0:e[MI];return t==null?null:Xt.makeFromBucketSpec(t,n)}function QF(n,e,t,r={}){n.host=`${e}:${t}`;const i=Li(e);i&&(xg(`https://${n.host}/b`),Ag("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:fS(s,n.app.options.projectId))}class Ay{constructor(e,t,r,i,s,o=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=OI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WV,this._maxUploadRetryTime=HV,this._requests=new Set,i!=null?this._bucket=Xt.makeFromBucketSpec(i,this._host):this._bucket=$0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xt.makeFromBucketSpec(this._url,e):this._bucket=$0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){B0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){B0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Kt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vs(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new sF(LI());{const o=gF(e,this._appId,r,i,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const W0="@firebase/storage",H0="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="storage";function GF(n,e,t){return n=Me(n),WF(n,e,t)}function XF(n){return n=Me(n),HF(n)}function JF(n,e){return n=Me(n),KF(n,e)}function ZF(n=Mg(),e){n=Me(n);const r=Xd(n,GI).getImmediate({identifier:e}),i=cS("storage");return i&&e4(r,...i),r}function e4(n,e,t,r={}){QF(n,e,t,r)}function t4(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Ay(t,r,i,e,ks)}function n4(){fs(new Ti(GI,t4,"PUBLIC").setMultipleInstances(!0)),Yn(W0,H0,""),Yn(W0,H0,"esm2017")}n4();const r4={apiKey:"AIzaSyDUwJfk8nujG1xzRQZ6Rme8puP511WAiww",authDomain:"smart-productivity-dashb-c4a24.firebaseapp.com",projectId:"smart-productivity-dashb-c4a24",appId:"1:199931437019:web:3b08bbf1e74117cadd11fe",storageBucket:"smart-productivity-dashb-c4a24.firebasestorage.app",messagingSenderId:"G-8V12M70VW7"},Ny=gS(r4),Po=kM(Ny),$n=EV(Ny),i4=ZF(Ny);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o4=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),z0=n=>{const e=o4(n);return e.charAt(0).toUpperCase()+e.slice(1)},XI=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),a4=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var l4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=R.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>R.createElement("svg",{ref:l,...l4,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:XI("lucide",i),...!s&&!a4(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,d])=>R.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=(n,e)=>{const t=R.forwardRef(({className:r,...i},s)=>R.createElement(u4,{ref:s,iconNode:e,className:XI(`lucide-${s4(z0(n))}`,`lucide-${n}`,r),...i}));return t.displayName=z0(n),t};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],h4=c4("log-out",d4);function _a(){const n=Ol(),e=Po.currentUser,[t,r]=R.useState(""),[i,s]=R.useState(""),o=()=>{fO(Po).then(()=>{n("/login")})};return R.useEffect(()=>{(async()=>{if(!e)return;const l=Do($n,"users",e.uid),c=await VV(l);c.exists()&&(r(c.data().name||""),s(c.data().photoURL||""))})()},[e]),A.jsxs("aside",{className:"fixed left-0 top-0 h-screen w-64 bg-[#1E1F22] text-white p-6 shadow-xl flex flex-col justify-between",children:[A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i?A.jsx("img",{src:i,alt:"Avatar",className:"w-10 h-10 rounded-full"}):A.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-500"}),A.jsxs("p",{className:"font-semibold text-lg",children:["Hi",t?`, ${t}`:""," 👋"]})]}),A.jsx("h2",{className:"text-xl font-bold mb-4",children:"Smart Dashboard"}),A.jsxs("nav",{className:"flex flex-col gap-4",children:[A.jsx(En,{to:"/pomodoro",className:"hover:text-blue-400",children:"⏱ Pomodoro"}),A.jsx(En,{to:"/tasks",className:"hover:text-blue-400",children:"📝 Task Manager"}),A.jsx(En,{to:"/planner",className:"hover:text-blue-400",children:"📅 Weekly Planner"}),A.jsx(En,{to:"/stats",className:"hover:text-blue-400",children:"📊 Stats"}),A.jsx(En,{to:"/profile",className:"hover:text-blue-400",children:"👤 Profile"})]})]}),A.jsxs("button",{onClick:o,className:"mt-8 flex items-center gap-2 text-red-400 hover:text-red-500 font-medium",children:[A.jsx(h4,{size:18})," Logout"]})]})}function f4(){return A.jsxs("div",{className:"text-gray-800 font-sans",children:[A.jsx("section",{className:"min-h-screen flex flex-col justify-center items-center text-center px-4 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('https://images.unsplash.com/photo-1541701494587-cb58502866ab?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Y29sb3IlMjB3YWxscGFwZXJ8ZW58MHx8MHx8fDA%3D')"},children:A.jsxs("div",{className:"bg-white/70 backdrop-blur-md p-8 rounded-2xl shadow-md max-w-2xl",children:[A.jsx("h1",{className:"text-5xl font-extrabold mb-4",children:"Smart Productivity Dashboard"}),A.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"A powerful productivity tool that combines the Pomodoro technique, smart planning, task categorization, and historical analytics—all in one dashboard."}),A.jsx(En,{to:"/pomodoro",className:"bg-blue-600 text-white px-6 py-3 rounded-xl shadow hover:bg-blue-700 transition",children:"Launch Dashboard"})]})}),A.jsxs("section",{className:"py-20 px-6 bg-orange-50",children:[A.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"What You Get"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10 max-w-6xl mx-auto",children:[A.jsxs("div",{className:"p-6 bg-white rounded-xl shadow text-center",children:[A.jsx("h3",{className:"text-xl font-bold mb-2",children:"⏱ Pomodoro Technique"}),A.jsx("p",{children:"Work with intense focus using 25/5 Pomodoro cycles to maximize productivity."})]}),A.jsxs("div",{className:"p-6 bg-white rounded-xl shadow text-center",children:[A.jsx("h3",{className:"text-xl font-bold mb-2",children:"📅 Task & Goal Planner"}),A.jsx("p",{children:"Plan your day and week with categorized task lists and priorities."})]}),A.jsxs("div",{className:"p-6 bg-white rounded-xl shadow text-center",children:[A.jsx("h3",{className:"text-xl font-bold mb-2",children:"📊 Historical Stats"}),A.jsx("p",{children:"Track your completed Pomodoros, time spent, and focus trends over time."})]})]})]}),A.jsxs("section",{className:"py-20 px-6 text-center bg-orange-50",children:[A.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Download on Any Platform"}),A.jsx("p",{className:"mb-6 text-gray-600",children:"Coming soon to Web, Android, and Desktop platforms."}),A.jsxs("div",{className:"flex justify-center gap-4 flex-wrap",children:[A.jsx("button",{className:"bg-black text-white px-6 py-3 rounded-xl shadow hover:bg-gray-900",children:"⬇ Web App"}),A.jsx("button",{className:"bg-green-500 text-white px-6 py-3 rounded-xl shadow hover:bg-green-600",children:"⬇ Android"}),A.jsx("button",{className:"bg-blue-500 text-white px-6 py-3 rounded-xl shadow hover:bg-blue-600",children:"⬇ Desktop"})]})]}),A.jsxs("section",{className:"py-20 px-6 bg-orange-50 text-center",children:[A.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Access from Anywhere"}),A.jsx("p",{className:"max-w-2xl mx-auto text-gray-600",children:"Whether you're at work, at home, or on the move, your productivity dashboard is always with you. Cloud syncing ensures your tasks and progress are always updated."})]}),A.jsx("section",{className:"py-20 px-6 bg-orange-50 text-center",children:A.jsx("h2",{className:"text-3xl font-bold mb-0",children:"Start Your Productive Journey Today"})}),A.jsx("footer",{className:"py-6 text-center text-white bg-blue-600",children:"© 2025 Smart Productivity Dashboard. All rights reserved."})]})}const JI=R.createContext({user:null,loading:!0}),p4=({children:n})=>{const[e,t]=R.useState(null),[r,i]=R.useState(!0);return R.useEffect(()=>{const s=hO(Po,o=>{t(o),i(!1)});return()=>s()},[]),A.jsx(JI.Provider,{value:{user:e,loading:r},children:n})},Ql=()=>R.useContext(JI),Y0=25*60;function m4(){const{user:n}=Ql(),[e,t]=R.useState(Y0),[r,i]=R.useState(!1),s=R.useRef(null),o=h=>{const p=String(Math.floor(h/60)).padStart(2,"0"),g=String(h%60).padStart(2,"0");return`${p}:${g}`},a=()=>{if(s.current)return;i(!0);const h=new Date;s.current=setInterval(()=>{t(p=>p<=1?(clearInterval(s.current),s.current=null,i(!1),t(0),d(h),0):p-1)},1e3)},l=()=>{clearInterval(s.current),s.current=null,i(!1)},c=()=>{l(),t(Y0)},d=async h=>{if(n)try{await xI(Il($n,"users",n.uid,"pomodoroLogs"),{startedAt:h,endedAt:new Date,duration:25,date:new Date().toDateString(),createdAt:BV()}),alert("🎉 Focus session logged to Firestore!")}catch(p){console.error("Failed to log Pomodoro session:",p)}};return A.jsx("div",{className:"min-h-screen bg-cover bg-center bg-no-repeat flex items-center justify-center px-4",style:{backgroundImage:"url('https://images.pexels.com/photos/2680270/pexels-photo-2680270.jpeg')"},children:A.jsxs("div",{className:"bg-white/20 backdrop-blur-md p-8 rounded-xl shadow-lg",children:[A.jsx("h1",{className:"text-4xl font-bold text-gray-800",children:"Pomodoro Timer"}),A.jsx("div",{className:"text-7xl font-mono px-12 py-8 rounded-3xl shadow-lg border border-white/20 bg-black/50 backdrop-blur text-white my-6",children:o(e)}),A.jsxs("div",{className:"flex gap-6 mt-4 justify-center",children:[A.jsx("button",{onClick:a,disabled:r,className:"bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-xl shadow-md disabled:opacity-50",children:"Start"}),A.jsx("button",{onClick:l,className:"bg-yellow-500 hover:bg-yellow-600 text-white px-6 py-3 rounded-xl shadow-md",children:"Pause"}),A.jsx("button",{onClick:c,className:"bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-xl shadow-md",children:"Reset"})]}),A.jsxs("p",{className:"mt-6 text-lg text-gray-100",children:["Session: ",A.jsx("span",{className:"font-semibold text-white",children:"Focus"})]})]})})}function g4(){const{user:n}=Ql(),[e,t]=R.useState(""),[r,i]=R.useState("Work"),[s,o]=R.useState("Medium"),[a,l]=R.useState([]),[c,d]=R.useState("All"),[h,p]=R.useState("All"),[g,w]=R.useState("All");R.useEffect(()=>{if(!n)return;const E=NV(Il($n,"tasks"),OV("uid","==",n.uid)),x=AI(E,M=>{const V=M.docs.map(I=>({id:I.id,...I.data()}));l(V)});return()=>x()},[n]);const k=async()=>{!e.trim()||!n||(await xI(Il($n,"tasks"),{uid:n.uid,name:e,category:r,priority:s,completed:!1}),t(""),i("Work"),o("Medium"))},C=async(E,x)=>{await UV(Do($n,"tasks",E),{completed:!x})},_=async E=>{await jV(Do($n,"tasks",E))},y=a.filter(E=>(c==="All"||E.category===c)&&(h==="All"||E.priority===h)&&(g==="All"||g==="Completed"&&E.completed||g==="Pending"&&!E.completed));return A.jsx("div",{className:"min-h-screen bg-cover bg-center p-6",style:{backgroundImage:"url('https://images.rawpixel.com/image_png_social_landscape/cHJpdmF0ZS90ZW1wbGF0ZXMvZmlsZXMvY3JlYXRlX3Rvb2wvMjAyMy0wNy8wMWdnbnhja3hyM3hnZjR5c3FtMngxdzJxYy1sa2IyenlmOC5wbmc.png')"},children:A.jsxs("div",{className:"p-6 rounded-xl bg-white/80 backdrop-blur-md shadow-lg w-full max-w-4xl mx-auto mt-10",children:[A.jsx("h2",{className:"text-2xl font-bold mb-4 text-center text-gray-800",children:"📝 Task Manager"}),A.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[A.jsx("input",{type:"text",value:e,onChange:E=>t(E.target.value),placeholder:"Enter task...",className:"border p-2 rounded-md flex-1"}),A.jsxs("select",{value:r,onChange:E=>i(E.target.value),className:"border p-2 rounded-md",children:[A.jsx("option",{children:"Work"}),A.jsx("option",{children:"Personal"}),A.jsx("option",{children:"Study"}),A.jsx("option",{children:"Other"})]}),A.jsxs("select",{value:s,onChange:E=>o(E.target.value),className:"border p-2 rounded-md",children:[A.jsx("option",{children:"Low"}),A.jsx("option",{children:"Medium"}),A.jsx("option",{children:"High"})]}),A.jsx("button",{onClick:k,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md shadow",children:"Add"})]}),A.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 justify-between",children:[A.jsxs("select",{value:c,onChange:E=>d(E.target.value),className:"border p-2 rounded-md",children:[A.jsx("option",{children:"All"}),A.jsx("option",{children:"Work"}),A.jsx("option",{children:"Personal"}),A.jsx("option",{children:"Study"}),A.jsx("option",{children:"Other"})]}),A.jsxs("select",{value:h,onChange:E=>p(E.target.value),className:"border p-2 rounded-md",children:[A.jsx("option",{children:"All"}),A.jsx("option",{children:"Low"}),A.jsx("option",{children:"Medium"}),A.jsx("option",{children:"High"})]}),A.jsxs("select",{value:g,onChange:E=>w(E.target.value),className:"border p-2 rounded-md",children:[A.jsx("option",{children:"All"}),A.jsx("option",{children:"Completed"}),A.jsx("option",{children:"Pending"})]})]}),A.jsxs("ul",{className:"space-y-4",children:[y.length===0&&A.jsx("p",{className:"text-gray-500 text-center",children:"No matching tasks found."}),y.map(E=>A.jsxs("li",{className:`flex justify-between items-center border p-4 rounded-md shadow-sm ${E.completed?"bg-green-100":"bg-white"}`,children:[A.jsxs("div",{children:[A.jsx("p",{className:`font-semibold ${E.completed?"line-through text-gray-400":""}`,children:E.name}),A.jsxs("p",{className:"text-sm text-gray-500",children:["📂 ",E.category," | ⚡ ",E.priority]})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("input",{type:"checkbox",checked:E.completed,onChange:()=>C(E.id,E.completed)}),A.jsx("button",{onClick:()=>_(E.id),className:"text-red-500 hover:text-red-700 font-semibold",children:"✕"})]})]},E.id))]})]})})}function ZI(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=ZI(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function ft(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=ZI(n))&&(r&&(r+=" "),r+=e);return r}const eC=6048e5,y4=864e5,Th=6e4,Sh=36e5,v4=1e3,q0=Symbol.for("constructDateFrom");function Se(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&q0 in n?n[q0](e):n instanceof Date?new n.constructor(e):new Date(e)}function G(n,e){return Se(e||n,n)}function In(n,e,t){const r=G(n,t==null?void 0:t.in);return isNaN(e)?Se((t==null?void 0:t.in)||n,NaN):(e&&r.setDate(r.getDate()+e),r)}function bn(n,e,t){const r=G(n,t==null?void 0:t.in);if(isNaN(e))return Se((t==null?void 0:t.in)||n,NaN);if(!e)return r;const i=r.getDate(),s=Se((t==null?void 0:t.in)||n,r.getTime());s.setMonth(r.getMonth()+e+1,0);const o=s.getDate();return i>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}function tC(n,e,t){return Se((t==null?void 0:t.in)||n,+G(n)+e)}function _4(n,e,t){return tC(n,e*Sh,t)}let w4={};function Rs(){return w4}function Lr(n,e){var a,l,c,d;const t=Rs(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((d=(c=t.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=G(n,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Ro(n,e){return Lr(n,{...e,weekStartsOn:1})}function nC(n,e){const t=G(n,e==null?void 0:e.in),r=t.getFullYear(),i=Se(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Ro(i),o=Se(t,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=Ro(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function _d(n){const e=G(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Ur(n,...e){const t=Se.bind(null,n||e.find(r=>typeof r=="object"));return e.map(t)}function _s(n,e){const t=G(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function bo(n,e,t){const[r,i]=Ur(t==null?void 0:t.in,n,e),s=_s(r),o=_s(i),a=+s-_d(s),l=+o-_d(o);return Math.round((a-l)/y4)}function E4(n,e){const t=nC(n,e),r=Se((e==null?void 0:e.in)||n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ro(r)}function wm(n,e,t){const r=G(n,t==null?void 0:t.in);return r.setTime(r.getTime()+e*Th),r}function Oy(n,e,t){return bn(n,e*3,t)}function T4(n,e,t){return tC(n,e*1e3,t)}function wd(n,e,t){return In(n,e*7,t)}function Er(n,e,t){return bn(n,e*12,t)}function K0(n,e){let t,r=e==null?void 0:e.in;return n.forEach(i=>{!r&&typeof i=="object"&&(r=Se.bind(null,i));const s=G(i,r);(!t||t<s||isNaN(+s))&&(t=s)}),Se(r,t||NaN)}function Q0(n,e){let t,r=e==null?void 0:e.in;return n.forEach(i=>{!r&&typeof i=="object"&&(r=Se.bind(null,i));const s=G(i,r);(!t||t>s||isNaN(+s))&&(t=s)}),Se(r,t||NaN)}function S4(n,e,t){const[r,i]=Ur(t==null?void 0:t.in,n,e);return+_s(r)==+_s(i)}function Tr(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Ed(n){return!(!Tr(n)&&typeof n!="number"||isNaN(+G(n)))}function Td(n,e,t){const[r,i]=Ur(t==null?void 0:t.in,n,e),s=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return s*12+o}function ss(n,e){const t=G(n,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function Sd(n,e,t){const[r,i]=Ur(t==null?void 0:t.in,n,e),s=r.getFullYear()-i.getFullYear(),o=ss(r)-ss(i);return s*4+o}function kd(n,e,t){const[r,i]=Ur(t==null?void 0:t.in,n,e);return r.getFullYear()-i.getFullYear()}function k4(n,e,t){const[r,i]=Ur(t==null?void 0:t.in,n,e),s=G0(r,i),o=Math.abs(bo(r,i));r.setDate(r.getDate()-s*o);const a=+(G0(r,i)===-s),l=s*(o-a);return l===0?0:l}function G0(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function rC(n,e){const t=G(n,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function iC(n,e){const t=G(n,e==null?void 0:e.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Em(n,e){const t=G(n,e==null?void 0:e.in),r=t.getMonth(),i=r-r%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function sC(n,e){const t=G(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function oC(n,e){const t=G(n,e==null?void 0:e.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function kh(n,e){const t=G(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function I4(n,e){var a,l,c,d;const t=Rs(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((d=(c=t.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=G(n,e==null?void 0:e.in),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const C4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},D4=(n,e,t)=>{let r;const i=C4[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Wf(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const P4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},R4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},b4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},x4={date:Wf({formats:P4,defaultWidth:"full"}),time:Wf({formats:R4,defaultWidth:"full"}),dateTime:Wf({formats:b4,defaultWidth:"full"})},A4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},N4=(n,e,t,r)=>A4[n];function wa(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,a=t!=null&&t.width?String(t.width):o;i=n.formattingValues[a]||n.formattingValues[o]}else{const o=n.defaultWidth,a=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[a]||n.values[o]}const s=n.argumentCallback?n.argumentCallback(e):e;return i[s]}}const O4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},M4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},L4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},V4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},F4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},U4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},j4=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},B4={ordinalNumber:j4,era:wa({values:O4,defaultWidth:"wide"}),quarter:wa({values:M4,defaultWidth:"wide",argumentCallback:n=>n-1}),month:wa({values:L4,defaultWidth:"wide"}),day:wa({values:V4,defaultWidth:"wide"}),dayPeriod:wa({values:F4,defaultWidth:"wide",formattingValues:U4,defaultFormattingWidth:"wide"})};function Ea(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(a)?W4(a,h=>h.test(o)):$4(a,h=>h.test(o));let c;c=n.valueCallback?n.valueCallback(l):l,c=t.valueCallback?t.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function $4(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function W4(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function H4(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],s=e.match(n.parsePattern);if(!s)return null;let o=n.valueCallback?n.valueCallback(s[0]):s[0];o=t.valueCallback?t.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const z4=/^(\d+)(th|st|nd|rd)?/i,Y4=/\d+/i,q4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},K4={any:[/^b/i,/^(a|c)/i]},Q4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},G4={any:[/1/i,/2/i,/3/i,/4/i]},X4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},J4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Z4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},e3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},t3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},n3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},r3={ordinalNumber:H4({matchPattern:z4,parsePattern:Y4,valueCallback:n=>parseInt(n,10)}),era:Ea({matchPatterns:q4,defaultMatchWidth:"wide",parsePatterns:K4,defaultParseWidth:"any"}),quarter:Ea({matchPatterns:Q4,defaultMatchWidth:"wide",parsePatterns:G4,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ea({matchPatterns:X4,defaultMatchWidth:"wide",parsePatterns:J4,defaultParseWidth:"any"}),day:Ea({matchPatterns:Z4,defaultMatchWidth:"wide",parsePatterns:e3,defaultParseWidth:"any"}),dayPeriod:Ea({matchPatterns:t3,defaultMatchWidth:"any",parsePatterns:n3,defaultParseWidth:"any"})},aC={code:"en-US",formatDistance:D4,formatLong:x4,formatRelative:N4,localize:B4,match:r3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function i3(n,e){const t=G(n,e==null?void 0:e.in);return bo(t,kh(t))+1}function My(n,e){const t=G(n,e==null?void 0:e.in),r=+Ro(t)-+E4(t);return Math.round(r/eC)+1}function Ly(n,e){var d,h,p,g;const t=G(n,e==null?void 0:e.in),r=t.getFullYear(),i=Rs(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(p=i.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=Se((e==null?void 0:e.in)||n,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Lr(o,e),l=Se((e==null?void 0:e.in)||n,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Lr(l,e);return+t>=+a?r+1:+t>=+c?r:r-1}function s3(n,e){var a,l,c,d;const t=Rs(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((d=(c=t.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=Ly(n,e),s=Se((e==null?void 0:e.in)||n,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Lr(s,e)}function lC(n,e){const t=G(n,e==null?void 0:e.in),r=+Lr(t,e)-+s3(t,e);return Math.round(r/eC)+1}function Ee(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const zr={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Ee(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Ee(t+1,2)},d(n,e){return Ee(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Ee(n.getHours()%12||12,e.length)},H(n,e){return Ee(n.getHours(),e.length)},m(n,e){return Ee(n.getMinutes(),e.length)},s(n,e){return Ee(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Ee(i,e.length)}},Ms={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},X0={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return zr.y(n,e)},Y:function(n,e,t,r){const i=Ly(n,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Ee(o,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):Ee(s,e.length)},R:function(n,e){const t=nC(n);return Ee(t,e.length)},u:function(n,e){const t=n.getFullYear();return Ee(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ee(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ee(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return zr.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ee(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=lC(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Ee(i,e.length)},I:function(n,e,t){const r=My(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Ee(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):zr.d(n,e)},D:function(n,e,t){const r=i3(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Ee(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Ee(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Ee(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ee(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=Ms.noon:r===0?i=Ms.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=Ms.evening:r>=12?i=Ms.afternoon:r>=4?i=Ms.morning:i=Ms.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return zr.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):zr.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Ee(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Ee(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):zr.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):zr.s(n,e)},S:function(n,e){return zr.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Z0(r);case"XXXX":case"XX":return qi(r);case"XXXXX":case"XXX":default:return qi(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return Z0(r);case"xxxx":case"xx":return qi(r);case"xxxxx":case"xxx":default:return qi(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+J0(r,":");case"OOOO":default:return"GMT"+qi(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+J0(r,":");case"zzzz":default:return"GMT"+qi(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Ee(r,e.length)},T:function(n,e,t){return Ee(+n,e.length)}};function J0(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),s=r%60;return s===0?t+String(i):t+String(i)+e+Ee(s,2)}function Z0(n,e){return n%60===0?(n>0?"-":"+")+Ee(Math.abs(n)/60,2):qi(n,e)}function qi(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Ee(Math.trunc(r/60),2),s=Ee(r%60,2);return t+i+e+s}const eE=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},uC=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},o3=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return eE(n,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",eE(r,e)).replace("{{time}}",uC(i,e))},Tm={p:uC,P:o3},a3=/^D+$/,l3=/^Y+$/,u3=["D","DD","YY","YYYY"];function cC(n){return a3.test(n)}function dC(n){return l3.test(n)}function Sm(n,e,t){const r=c3(n,e,t);if(console.warn(r),u3.includes(n))throw new RangeError(r)}function c3(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const d3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,h3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,f3=/^'([^]*?)'?$/,p3=/''/g,m3=/[a-zA-Z]/;function tE(n,e,t){var d,h,p,g,w,k,C,_;const r=Rs(),i=(t==null?void 0:t.locale)??r.locale??aC,s=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=(t==null?void 0:t.weekStartsOn)??((k=(w=t==null?void 0:t.locale)==null?void 0:w.options)==null?void 0:k.weekStartsOn)??r.weekStartsOn??((_=(C=r.locale)==null?void 0:C.options)==null?void 0:_.weekStartsOn)??0,a=G(n,t==null?void 0:t.in);if(!Ed(a))throw new RangeError("Invalid time value");let l=e.match(h3).map(y=>{const E=y[0];if(E==="p"||E==="P"){const x=Tm[E];return x(y,i.formatLong)}return y}).join("").match(d3).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const E=y[0];if(E==="'")return{isToken:!1,value:g3(y)};if(X0[E])return{isToken:!0,value:y};if(E.match(m3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const E=y.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&dC(E)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&cC(E))&&Sm(E,e,String(n));const x=X0[E[0]];return x(a,E,i.localize,c)}).join("")}function g3(n){const e=n.match(f3);return e?e[1].replace(p3,"'"):n}function nE(n,e){return G(n,e==null?void 0:e.in).getDate()}function y3(n,e){return G(n,e==null?void 0:e.in).getDay()}function v3(n,e){const t=G(n,e==null?void 0:e.in),r=t.getFullYear(),i=t.getMonth(),s=Se(t,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}function _3(){return Object.assign({},Rs())}function Sr(n,e){return G(n,e==null?void 0:e.in).getHours()}function w3(n,e){const t=G(n,e==null?void 0:e.in).getDay();return t===0?7:t}function kr(n,e){return G(n,e==null?void 0:e.in).getMinutes()}function Ct(n,e){return G(n,e==null?void 0:e.in).getMonth()}function yi(n){return G(n).getSeconds()}function km(n){return+G(n)}function ae(n,e){return G(n,e==null?void 0:e.in).getFullYear()}function bi(n,e){return+G(n)>+G(e)}function ws(n,e){return+G(n)<+G(e)}function E3(n,e){return+G(n)==+G(e)}function T3(n,e){const t=S3(e)?new e(0):Se(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function S3(n){var e;return typeof n=="function"&&((e=n.prototype)==null?void 0:e.constructor)===n}const k3=10;class hC{constructor(){q(this,"subPriority",0)}validate(e,t){return!0}}class I3 extends hC{constructor(e,t,r,i,s){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class C3 extends hC{constructor(t,r){super();q(this,"priority",k3);q(this,"subPriority",-1);this.context=t||(i=>Se(r,i))}set(t,r){return r.timestampIsSet?t:Se(t,T3(t,this.context))}}class ve{run(e,t,r,i){const s=this.parse(e,t,r,i);return s?{setter:new I3(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,r){return!0}}class D3 extends ve{constructor(){super(...arguments);q(this,"priority",140);q(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const Ge={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Un={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Xe(n,e){return n&&{value:e(n.value),rest:n.rest}}function Ve(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function jn(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:r*(i*Sh+s*Th+o*v4),rest:e.slice(t[0].length)}}function fC(n){return Ve(Ge.anyDigitsSigned,n)}function ze(n,e){switch(n){case 1:return Ve(Ge.singleDigit,e);case 2:return Ve(Ge.twoDigits,e);case 3:return Ve(Ge.threeDigits,e);case 4:return Ve(Ge.fourDigits,e);default:return Ve(new RegExp("^\\d{1,"+n+"}"),e)}}function Id(n,e){switch(n){case 1:return Ve(Ge.singleDigitSigned,e);case 2:return Ve(Ge.twoDigitsSigned,e);case 3:return Ve(Ge.threeDigitsSigned,e);case 4:return Ve(Ge.fourDigitsSigned,e);default:return Ve(new RegExp("^-?\\d{1,"+n+"}"),e)}}function Vy(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function pC(n,e){const t=e>0,r=t?e:1-e;let i;if(r<=50)i=n||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=n>=s%100;i=n+o-(a?100:0)}return t?i:1-i}function mC(n){return n%400===0||n%4===0&&n%100!==0}class P3 extends ve{constructor(){super(...arguments);q(this,"priority",130);q(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Xe(ze(4,t),s);case"yo":return Xe(i.ordinalNumber(t,{unit:"year"}),s);default:return Xe(ze(r.length,t),s)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const s=t.getFullYear();if(i.isTwoDigitYear){const a=pC(i.year,s);return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}const o=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class R3 extends ve{constructor(){super(...arguments);q(this,"priority",130);q(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Xe(ze(4,t),s);case"Yo":return Xe(i.ordinalNumber(t,{unit:"year"}),s);default:return Xe(ze(r.length,t),s)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,s){const o=Ly(t,s);if(i.isTwoDigitYear){const l=pC(i.year,o);return t.setFullYear(l,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Lr(t,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(a,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Lr(t,s)}}class b3 extends ve{constructor(){super(...arguments);q(this,"priority",130);q(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return Id(r==="R"?4:r.length,t)}set(t,r,i){const s=Se(t,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),Ro(s)}}class x3 extends ve{constructor(){super(...arguments);q(this,"priority",130);q(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return Id(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class A3 extends ve{constructor(){super(...arguments);q(this,"priority",120);q(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return ze(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class N3 extends ve{constructor(){super(...arguments);q(this,"priority",120);q(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return ze(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class O3 extends ve{constructor(){super(...arguments);q(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);q(this,"priority",110)}parse(t,r,i){const s=o=>o-1;switch(r){case"M":return Xe(Ve(Ge.month,t),s);case"MM":return Xe(ze(2,t),s);case"Mo":return Xe(i.ordinalNumber(t,{unit:"month"}),s);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class M3 extends ve{constructor(){super(...arguments);q(this,"priority",110);q(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const s=o=>o-1;switch(r){case"L":return Xe(Ve(Ge.month,t),s);case"LL":return Xe(ze(2,t),s);case"Lo":return Xe(i.ordinalNumber(t,{unit:"month"}),s);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function L3(n,e,t){const r=G(n,t==null?void 0:t.in),i=lC(r,t)-e;return r.setDate(r.getDate()-i*7),G(r,t==null?void 0:t.in)}class V3 extends ve{constructor(){super(...arguments);q(this,"priority",100);q(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return Ve(Ge.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return ze(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,s){return Lr(L3(t,i,s),s)}}function F3(n,e,t){const r=G(n,t==null?void 0:t.in),i=My(r,t)-e;return r.setDate(r.getDate()-i*7),r}class U3 extends ve{constructor(){super(...arguments);q(this,"priority",100);q(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return Ve(Ge.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return ze(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return Ro(F3(t,i))}}const j3=[31,28,31,30,31,30,31,31,30,31,30,31],B3=[31,29,31,30,31,30,31,31,30,31,30,31];class $3 extends ve{constructor(){super(...arguments);q(this,"priority",90);q(this,"subPriority",1);q(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return Ve(Ge.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return ze(r.length,t)}}validate(t,r){const i=t.getFullYear(),s=mC(i),o=t.getMonth();return s?r>=1&&r<=B3[o]:r>=1&&r<=j3[o]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class W3 extends ve{constructor(){super(...arguments);q(this,"priority",90);q(this,"subpriority",1);q(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return Ve(Ge.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return ze(r.length,t)}}validate(t,r){const i=t.getFullYear();return mC(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function Fy(n,e,t){var h,p,g,w;const r=Rs(),i=(t==null?void 0:t.weekStartsOn)??((p=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((w=(g=r.locale)==null?void 0:g.options)==null?void 0:w.weekStartsOn)??0,s=G(n,t==null?void 0:t.in),o=s.getDay(),l=(e%7+7)%7,c=7-i,d=e<0||e>6?e-(o+c)%7:(l+c)%7-(o+c)%7;return In(s,d,t)}class H3 extends ve{constructor(){super(...arguments);q(this,"priority",90);q(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=Fy(t,i,s),t.setHours(0,0,0,0),t}}class z3 extends ve{constructor(){super(...arguments);q(this,"priority",90);q(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Xe(ze(r.length,t),o);case"eo":return Xe(i.ordinalNumber(t,{unit:"day"}),o);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=Fy(t,i,s),t.setHours(0,0,0,0),t}}class Y3 extends ve{constructor(){super(...arguments);q(this,"priority",90);q(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Xe(ze(r.length,t),o);case"co":return Xe(i.ordinalNumber(t,{unit:"day"}),o);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=Fy(t,i,s),t.setHours(0,0,0,0),t}}function q3(n,e,t){const r=G(n,t==null?void 0:t.in),i=w3(r,t),s=e-i;return In(r,s,t)}class K3 extends ve{constructor(){super(...arguments);q(this,"priority",90);q(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return ze(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return Xe(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s);case"iiiii":return Xe(i.day(t,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Xe(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Xe(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=q3(t,i),t.setHours(0,0,0,0),t}}class Q3 extends ve{constructor(){super(...arguments);q(this,"priority",80);q(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(Vy(i),0,0,0),t}}class G3 extends ve{constructor(){super(...arguments);q(this,"priority",80);q(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(Vy(i),0,0,0),t}}class X3 extends ve{constructor(){super(...arguments);q(this,"priority",80);q(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(Vy(i),0,0,0),t}}class J3 extends ve{constructor(){super(...arguments);q(this,"priority",70);q(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return Ve(Ge.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return ze(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const s=t.getHours()>=12;return s&&i<12?t.setHours(i+12,0,0,0):!s&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class Z3 extends ve{constructor(){super(...arguments);q(this,"priority",70);q(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return Ve(Ge.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return ze(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class eU extends ve{constructor(){super(...arguments);q(this,"priority",70);q(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return Ve(Ge.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return ze(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class tU extends ve{constructor(){super(...arguments);q(this,"priority",70);q(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return Ve(Ge.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return ze(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const s=i<=24?i%24:i;return t.setHours(s,0,0,0),t}}class nU extends ve{constructor(){super(...arguments);q(this,"priority",60);q(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return Ve(Ge.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return ze(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class rU extends ve{constructor(){super(...arguments);q(this,"priority",50);q(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return Ve(Ge.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return ze(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class iU extends ve{constructor(){super(...arguments);q(this,"priority",30);q(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return Xe(ze(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class sU extends ve{constructor(){super(...arguments);q(this,"priority",10);q(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return jn(Un.basicOptionalMinutes,t);case"XX":return jn(Un.basic,t);case"XXXX":return jn(Un.basicOptionalSeconds,t);case"XXXXX":return jn(Un.extendedOptionalSeconds,t);case"XXX":default:return jn(Un.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Se(t,t.getTime()-_d(t)-i)}}class oU extends ve{constructor(){super(...arguments);q(this,"priority",10);q(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return jn(Un.basicOptionalMinutes,t);case"xx":return jn(Un.basic,t);case"xxxx":return jn(Un.basicOptionalSeconds,t);case"xxxxx":return jn(Un.extendedOptionalSeconds,t);case"xxx":default:return jn(Un.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Se(t,t.getTime()-_d(t)-i)}}class aU extends ve{constructor(){super(...arguments);q(this,"priority",40);q(this,"incompatibleTokens","*")}parse(t){return fC(t)}set(t,r,i){return[Se(t,i*1e3),{timestampIsSet:!0}]}}class lU extends ve{constructor(){super(...arguments);q(this,"priority",20);q(this,"incompatibleTokens","*")}parse(t){return fC(t)}set(t,r,i){return[Se(t,i),{timestampIsSet:!0}]}}const uU={G:new D3,y:new P3,Y:new R3,R:new b3,u:new x3,Q:new A3,q:new N3,M:new O3,L:new M3,w:new V3,I:new U3,d:new $3,D:new W3,E:new H3,e:new z3,c:new Y3,i:new K3,a:new Q3,b:new G3,B:new X3,h:new J3,H:new Z3,K:new eU,k:new tU,m:new nU,s:new rU,S:new iU,X:new sU,x:new oU,t:new aU,T:new lU},cU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hU=/^'([^]*?)'?$/,fU=/''/g,pU=/\S/,mU=/[a-zA-Z]/;function gU(n,e,t,r){var C,_,y,E,x,M,V,I;const i=()=>Se((r==null?void 0:r.in)||t,NaN),s=_3(),o=(r==null?void 0:r.locale)??s.locale??aC,a=(r==null?void 0:r.firstWeekContainsDate)??((_=(C=r==null?void 0:r.locale)==null?void 0:C.options)==null?void 0:_.firstWeekContainsDate)??s.firstWeekContainsDate??((E=(y=s.locale)==null?void 0:y.options)==null?void 0:E.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((M=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:M.weekStartsOn)??s.weekStartsOn??((I=(V=s.locale)==null?void 0:V.options)==null?void 0:I.weekStartsOn)??0;if(!e)return n?i():G(t,r==null?void 0:r.in);const c={firstWeekContainsDate:a,weekStartsOn:l,locale:o},d=[new C3(r==null?void 0:r.in,t)],h=e.match(dU).map(v=>{const S=v[0];if(S in Tm){const D=Tm[S];return D(v,o.formatLong)}return v}).join("").match(cU),p=[];for(let v of h){!(r!=null&&r.useAdditionalWeekYearTokens)&&dC(v)&&Sm(v,e,n),!(r!=null&&r.useAdditionalDayOfYearTokens)&&cC(v)&&Sm(v,e,n);const S=v[0],D=uU[S];if(D){const{incompatibleTokens:b}=D;if(Array.isArray(b)){const P=p.find(se=>b.includes(se.token)||se.token===S);if(P)throw new RangeError(`The format string mustn't contain \`${P.fullToken}\` and \`${v}\` at the same time`)}else if(D.incompatibleTokens==="*"&&p.length>0)throw new RangeError(`The format string mustn't contain \`${v}\` and any other token at the same time`);p.push({token:S,fullToken:v});const N=D.run(n,v,o.match,c);if(!N)return i();d.push(N.setter),n=N.rest}else{if(S.match(mU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");if(v==="''"?v="'":S==="'"&&(v=yU(v)),n.indexOf(v)===0)n=n.slice(v.length);else return i()}}if(n.length>0&&pU.test(n))return i();const g=d.map(v=>v.priority).sort((v,S)=>S-v).filter((v,S,D)=>D.indexOf(v)===S).map(v=>d.filter(S=>S.priority===v).sort((S,D)=>D.subPriority-S.subPriority)).map(v=>v[0]);let w=G(t,r==null?void 0:r.in);if(isNaN(+w))return i();const k={};for(const v of g){if(!v.validate(w,c))return i();const S=v.set(w,k,c);Array.isArray(S)?(w=S[0],Object.assign(k,S[1])):w=S}return w}function yU(n){return n.match(hU)[1].replace(fU,"'")}function vU(n,e,t){const[r,i]=Ur(t==null?void 0:t.in,n,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function _U(n,e,t){const[r,i]=Ur(t==null?void 0:t.in,n,e);return+Em(r)==+Em(i)}function wU(n,e,t){const[r,i]=Ur(t==null?void 0:t.in,n,e);return r.getFullYear()===i.getFullYear()}function Cl(n,e,t){const r=+G(n,t==null?void 0:t.in),[i,s]=[+G(e.start,t==null?void 0:t.in),+G(e.end,t==null?void 0:t.in)].sort((o,a)=>o-a);return r>=i&&r<=s}function EU(n,e,t){return In(n,-e,t)}function TU(n,e){const t=()=>Se(e==null?void 0:e.in,NaN),r=(e==null?void 0:e.additionalDigits)??2,i=CU(n);let s;if(i.date){const c=DU(i.date,r);s=PU(c.restDateString,c.year)}if(!s||isNaN(+s))return t();const o=+s;let a=0,l;if(i.time&&(a=RU(i.time),isNaN(a)))return t();if(i.timezone){if(l=bU(i.timezone),isNaN(l))return t()}else{const c=new Date(o+a),d=G(0,e==null?void 0:e.in);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return G(o+a+l,e==null?void 0:e.in)}const Hu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},SU=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,kU=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,IU=/^([+-])(\d{2})(?::?(\d{2}))?$/;function CU(n){const e={},t=n.split(Hu.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],Hu.timeZoneDelimiter.test(e.date)&&(e.date=n.split(Hu.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const i=Hu.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function DU(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:n.slice((r[1]||r[2]).length)}}function PU(n,e){if(e===null)return new Date(NaN);const t=n.match(SU);if(!t)return new Date(NaN);const r=!!t[4],i=Ta(t[1]),s=Ta(t[2])-1,o=Ta(t[3]),a=Ta(t[4]),l=Ta(t[5])-1;if(r)return MU(e,a,l)?xU(e,a,l):new Date(NaN);{const c=new Date(0);return!NU(e,s,o)||!OU(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,o)),c)}}function Ta(n){return n?parseInt(n):1}function RU(n){const e=n.match(kU);if(!e)return NaN;const t=Hf(e[1]),r=Hf(e[2]),i=Hf(e[3]);return LU(t,r,i)?t*Sh+r*Th+i*1e3:NaN}function Hf(n){return n&&parseFloat(n.replace(",","."))||0}function bU(n){if(n==="Z")return 0;const e=n.match(IU);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return VU(r,i)?t*(r*Sh+i*Th):NaN}function xU(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const AU=[31,null,31,30,31,30,31,31,30,31,30,31];function gC(n){return n%400===0||n%4===0&&n%100!==0}function NU(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(AU[e]||(gC(n)?29:28))}function OU(n,e){return e>=1&&e<=(gC(n)?366:365)}function MU(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function LU(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function VU(n,e){return e>=0&&e<=59}function sn(n,e,t){const r=G(n,t==null?void 0:t.in),i=r.getFullYear(),s=r.getDate(),o=Se((t==null?void 0:t.in)||n,0);o.setFullYear(i,e,15),o.setHours(0,0,0,0);const a=v3(o);return r.setMonth(e,Math.min(s,a)),r}function Ec(n,e,t){const r=G(n,t==null?void 0:t.in);return r.setHours(e),r}function Tc(n,e,t){const r=G(n,t==null?void 0:t.in);return r.setMinutes(e),r}function js(n,e,t){const r=G(n,t==null?void 0:t.in),i=Math.trunc(r.getMonth()/3)+1,s=e-i;return sn(r,r.getMonth()+s*3)}function Sc(n,e,t){const r=G(n,t==null?void 0:t.in);return r.setSeconds(e),r}function Ln(n,e,t){const r=G(n,t==null?void 0:t.in);return isNaN(+r)?Se((t==null?void 0:t.in)||n,NaN):(r.setFullYear(e),r)}function os(n,e,t){return bn(n,-e,t)}function yC(n,e,t){return Oy(n,-e,t)}function rE(n,e,t){return wd(n,-e,t)}function xo(n,e,t){return Er(n,-e,t)}function Ih(){return typeof window<"u"}function Ko(n){return vC(n)?(n.nodeName||"").toLowerCase():"#document"}function Zt(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ir(n){var e;return(e=(vC(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function vC(n){return Ih()?n instanceof Node||n instanceof Zt(n).Node:!1}function Ot(n){return Ih()?n instanceof Element||n instanceof Zt(n).Element:!1}function tr(n){return Ih()?n instanceof HTMLElement||n instanceof Zt(n).HTMLElement:!1}function iE(n){return!Ih()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Zt(n).ShadowRoot}const FU=new Set(["inline","contents"]);function Gl(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=mn(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!FU.has(i)}const UU=new Set(["table","td","th"]);function jU(n){return UU.has(Ko(n))}const BU=[":popover-open",":modal"];function Ch(n){return BU.some(e=>{try{return n.matches(e)}catch{return!1}})}const $U=["transform","translate","scale","rotate","perspective"],WU=["transform","translate","scale","rotate","perspective","filter"],HU=["paint","layout","strict","content"];function Uy(n){const e=jy(),t=Ot(n)?mn(n):n;return $U.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||WU.some(r=>(t.willChange||"").includes(r))||HU.some(r=>(t.contain||"").includes(r))}function zU(n){let e=xi(n);for(;tr(e)&&!Ao(e);){if(Uy(e))return e;if(Ch(e))return null;e=xi(e)}return null}function jy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const YU=new Set(["html","body","#document"]);function Ao(n){return YU.has(Ko(n))}function mn(n){return Zt(n).getComputedStyle(n)}function Dh(n){return Ot(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function xi(n){if(Ko(n)==="html")return n;const e=n.assignedSlot||n.parentNode||iE(n)&&n.host||ir(n);return iE(e)?e.host:e}function _C(n){const e=xi(n);return Ao(e)?n.ownerDocument?n.ownerDocument.body:n.body:tr(e)&&Gl(e)?e:_C(e)}function Dl(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=_C(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=Zt(i);if(s){const a=Im(o);return e.concat(o,o.visualViewport||[],Gl(i)?i:[],a&&t?Dl(a):[])}return e.concat(i,Dl(i,[],t))}function Im(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const No=Math.min,as=Math.max,Cd=Math.round,zu=Math.floor,Zn=n=>({x:n,y:n}),qU={left:"right",right:"left",bottom:"top",top:"bottom"},KU={start:"end",end:"start"};function QU(n,e,t){return as(n,No(e,t))}function Ph(n,e){return typeof n=="function"?n(e):n}function Oo(n){return n.split("-")[0]}function Xl(n){return n.split("-")[1]}function GU(n){return n==="x"?"y":"x"}function By(n){return n==="y"?"height":"width"}const XU=new Set(["top","bottom"]);function Ji(n){return XU.has(Oo(n))?"y":"x"}function $y(n){return GU(Ji(n))}function JU(n,e,t){t===void 0&&(t=!1);const r=Xl(n),i=$y(n),s=By(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Dd(o)),[o,Dd(o)]}function ZU(n){const e=Dd(n);return[Cm(n),e,Cm(e)]}function Cm(n){return n.replace(/start|end/g,e=>KU[e])}const sE=["left","right"],oE=["right","left"],e6=["top","bottom"],t6=["bottom","top"];function n6(n,e,t){switch(n){case"top":case"bottom":return t?e?oE:sE:e?sE:oE;case"left":case"right":return e?e6:t6;default:return[]}}function r6(n,e,t,r){const i=Xl(n);let s=n6(Oo(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Cm)))),s}function Dd(n){return n.replace(/left|right|bottom|top/g,e=>qU[e])}function i6(n){return{top:0,right:0,bottom:0,left:0,...n}}function wC(n){return typeof n!="number"?i6(n):{top:n,right:n,bottom:n,left:n}}function Pd(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}var s6=typeof document<"u",o6=function(){},Rd=s6?R.useLayoutEffect:o6;const a6={...WE},l6=a6.useInsertionEffect,u6=l6||(n=>n());function c6(n){const e=R.useRef(()=>{});return u6(()=>{e.current=n}),R.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function aE(n,e,t){let{reference:r,floating:i}=n;const s=Ji(e),o=$y(e),a=By(o),l=Oo(e),c=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-i.width,y:h};break;default:g={x:r.x,y:r.y}}switch(Xl(e)){case"start":g[o]-=p*(t&&c?-1:1);break;case"end":g[o]+=p*(t&&c?-1:1);break}return g}const d6=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:d,y:h}=aE(c,r,l),p=r,g={},w=0;for(let k=0;k<a.length;k++){const{name:C,fn:_}=a[k],{x:y,y:E,data:x,reset:M}=await _({x:d,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:g,rects:c,platform:o,elements:{reference:n,floating:e}});d=y??d,h=E??h,g={...g,[C]:{...g[C],...x}},M&&w<=50&&(w++,typeof M=="object"&&(M.placement&&(p=M.placement),M.rects&&(c=M.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):M.rects),{x:d,y:h}=aE(c,p,l)),k=-1)}return{x:d,y:h,placement:p,strategy:i,middlewareData:g}};async function h6(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=Ph(e,n),w=wC(g),C=a[p?h==="floating"?"reference":"floating":h],_=Pd(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(C)))==null||t?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),y=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),x=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},M=Pd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:E,strategy:l}):y);return{top:(_.top-M.top+w.top)/x.y,bottom:(M.bottom-_.bottom+w.bottom)/x.y,left:(_.left-M.left+w.left)/x.x,right:(M.right-_.right+w.right)/x.x}}const f6=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Ph(n,e)||{};if(c==null)return{};const h=wC(d),p={x:t,y:r},g=$y(i),w=By(g),k=await o.getDimensions(c),C=g==="y",_=C?"top":"left",y=C?"bottom":"right",E=C?"clientHeight":"clientWidth",x=s.reference[w]+s.reference[g]-p[g]-s.floating[w],M=p[g]-s.reference[g],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let I=V?V[E]:0;(!I||!await(o.isElement==null?void 0:o.isElement(V)))&&(I=a.floating[E]||s.floating[w]);const v=x/2-M/2,S=I/2-k[w]/2-1,D=No(h[_],S),b=No(h[y],S),N=D,P=I-k[w]-b,se=I/2-k[w]/2+v,le=QU(N,se,P),Z=!l.arrow&&Xl(i)!=null&&se!==le&&s.reference[w]/2-(se<N?D:b)-k[w]/2<0,ne=Z?se<N?se-N:se-P:0;return{[g]:p[g]+ne,data:{[g]:le,centerOffset:se-le-ne,...Z&&{alignmentOffset:ne}},reset:Z}}}),p6=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:k=!0,...C}=Ph(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const _=Oo(i),y=Ji(a),E=Oo(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(c.floating)),M=p||(E||!k?[Dd(a)]:ZU(a)),V=w!=="none";!p&&V&&M.push(...r6(a,k,w,x));const I=[a,...M],v=await h6(e,C),S=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&S.push(v[_]),h){const se=JU(i,o,x);S.push(v[se[0]],v[se[1]])}if(D=[...D,{placement:i,overflows:S}],!S.every(se=>se<=0)){var b,N;const se=(((b=s.flip)==null?void 0:b.index)||0)+1,le=I[se];if(le&&(!(h==="alignment"?y!==Ji(le):!1)||D.every(j=>j.overflows[0]>0&&Ji(j.placement)===y)))return{data:{index:se,overflows:D},reset:{placement:le}};let Z=(N=D.filter(ne=>ne.overflows[0]<=0).sort((ne,j)=>ne.overflows[1]-j.overflows[1])[0])==null?void 0:N.placement;if(!Z)switch(g){case"bestFit":{var P;const ne=(P=D.filter(j=>{if(V){const Q=Ji(j.placement);return Q===y||Q==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(Q=>Q>0).reduce((Q,J)=>Q+J,0)]).sort((j,Q)=>j[1]-Q[1])[0])==null?void 0:P[0];ne&&(Z=ne);break}case"initialPlacement":Z=a;break}if(i!==Z)return{reset:{placement:Z}}}return{}}}},m6=new Set(["left","top"]);async function g6(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Oo(t),a=Xl(t),l=Ji(t)==="y",c=m6.has(o)?-1:1,d=s&&l?-1:1,h=Ph(e,n);let{mainAxis:p,crossAxis:g,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(g=a==="end"?w*-1:w),l?{x:g*d,y:p*c}:{x:p*c,y:g*d}}const y6=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await g6(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}};function EC(n){const e=mn(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=tr(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=Cd(t)!==s||Cd(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function Wy(n){return Ot(n)?n:n.contextElement}function co(n){const e=Wy(n);if(!tr(e))return Zn(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=EC(e);let o=(s?Cd(t.width):t.width)/r,a=(s?Cd(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const v6=Zn(0);function TC(n){const e=Zt(n);return!jy()||!e.visualViewport?v6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function _6(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Zt(n)?!1:e}function Es(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=Wy(n);let o=Zn(1);e&&(r?Ot(r)&&(o=co(r)):o=co(n));const a=_6(s,t,r)?TC(s):Zn(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const p=Zt(s),g=r&&Ot(r)?Zt(r):r;let w=p,k=Im(w);for(;k&&r&&g!==w;){const C=co(k),_=k.getBoundingClientRect(),y=mn(k),E=_.left+(k.clientLeft+parseFloat(y.paddingLeft))*C.x,x=_.top+(k.clientTop+parseFloat(y.paddingTop))*C.y;l*=C.x,c*=C.y,d*=C.x,h*=C.y,l+=E,c+=x,w=Zt(k),k=Im(w)}}return Pd({width:d,height:h,x:l,y:c})}function Hy(n,e){const t=Dh(n).scrollLeft;return e?e.left+t:Es(ir(n)).left+t}function SC(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:Hy(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function w6(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=ir(r),a=e?Ch(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=Zn(1);const d=Zn(0),h=tr(r);if((h||!h&&!s)&&((Ko(r)!=="body"||Gl(o))&&(l=Dh(r)),tr(r))){const g=Es(r);c=co(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const p=o&&!h&&!s?SC(o,l,!0):Zn(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:t.y*c.y-l.scrollTop*c.y+d.y+p.y}}function E6(n){return Array.from(n.getClientRects())}function T6(n){const e=ir(n),t=Dh(n),r=n.ownerDocument.body,i=as(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=as(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+Hy(n);const a=-t.scrollTop;return mn(r).direction==="rtl"&&(o+=as(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function S6(n,e){const t=Zt(n),r=ir(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=jy();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}const k6=new Set(["absolute","fixed"]);function I6(n,e){const t=Es(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=tr(n)?co(n):Zn(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function lE(n,e,t){let r;if(e==="viewport")r=S6(n,t);else if(e==="document")r=T6(ir(n));else if(Ot(e))r=I6(e,t);else{const i=TC(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Pd(r)}function kC(n,e){const t=xi(n);return t===e||!Ot(t)||Ao(t)?!1:mn(t).position==="fixed"||kC(t,e)}function C6(n,e){const t=e.get(n);if(t)return t;let r=Dl(n,[],!1).filter(a=>Ot(a)&&Ko(a)!=="body"),i=null;const s=mn(n).position==="fixed";let o=s?xi(n):n;for(;Ot(o)&&!Ao(o);){const a=mn(o),l=Uy(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&k6.has(i.position)||Gl(o)&&!l&&kC(n,o))?r=r.filter(d=>d!==o):i=a,o=xi(o)}return e.set(n,r),r}function D6(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?Ch(e)?[]:C6(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,d)=>{const h=lE(e,d,i);return c.top=as(h.top,c.top),c.right=No(h.right,c.right),c.bottom=No(h.bottom,c.bottom),c.left=as(h.left,c.left),c},lE(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function P6(n){const{width:e,height:t}=EC(n);return{width:e,height:t}}function R6(n,e,t){const r=tr(e),i=ir(e),s=t==="fixed",o=Es(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Zn(0);function c(){l.x=Hy(i)}if(r||!r&&!s)if((Ko(e)!=="body"||Gl(i))&&(a=Dh(e)),r){const g=Es(e,!0,s,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&c();s&&!r&&i&&c();const d=i&&!r&&!s?SC(i,a):Zn(0),h=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function zf(n){return mn(n).position==="static"}function uE(n,e){if(!tr(n)||mn(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return ir(n)===t&&(t=t.ownerDocument.body),t}function IC(n,e){const t=Zt(n);if(Ch(n))return t;if(!tr(n)){let i=xi(n);for(;i&&!Ao(i);){if(Ot(i)&&!zf(i))return i;i=xi(i)}return t}let r=uE(n,e);for(;r&&jU(r)&&zf(r);)r=uE(r,e);return r&&Ao(r)&&zf(r)&&!Uy(r)?t:r||zU(n)||t}const b6=async function(n){const e=this.getOffsetParent||IC,t=this.getDimensions,r=await t(n.floating);return{reference:R6(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function x6(n){return mn(n).direction==="rtl"}const A6={convertOffsetParentRelativeRectToViewportRelativeRect:w6,getDocumentElement:ir,getClippingRect:D6,getOffsetParent:IC,getElementRects:b6,getClientRects:E6,getDimensions:P6,getScale:co,isElement:Ot,isRTL:x6};function CC(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function N6(n,e){let t=null,r;const i=ir(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=n.getBoundingClientRect(),{left:d,top:h,width:p,height:g}=c;if(a||e(),!p||!g)return;const w=zu(h),k=zu(i.clientWidth-(d+p)),C=zu(i.clientHeight-(h+g)),_=zu(d),E={rootMargin:-w+"px "+-k+"px "+-C+"px "+-_+"px",threshold:as(0,No(1,l))||1};let x=!0;function M(V){const I=V[0].intersectionRatio;if(I!==l){if(!x)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!CC(c,n.getBoundingClientRect())&&o(),x=!1}try{t=new IntersectionObserver(M,{...E,root:i.ownerDocument})}catch{t=new IntersectionObserver(M,E)}t.observe(n)}return o(!0),s}function O6(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Wy(n),d=i||s?[...c?Dl(c):[],...Dl(e)]:[];d.forEach(_=>{i&&_.addEventListener("scroll",t,{passive:!0}),s&&_.addEventListener("resize",t)});const h=c&&a?N6(c,t):null;let p=-1,g=null;o&&(g=new ResizeObserver(_=>{let[y]=_;y&&y.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(e)})),t()}),c&&!l&&g.observe(c),g.observe(e));let w,k=l?Es(n):null;l&&C();function C(){const _=Es(n);k&&!CC(k,_)&&t(),k=_,w=requestAnimationFrame(C)}return t(),()=>{var _;d.forEach(y=>{i&&y.removeEventListener("scroll",t),s&&y.removeEventListener("resize",t)}),h==null||h(),(_=g)==null||_.disconnect(),g=null,l&&cancelAnimationFrame(w)}}const M6=y6,L6=p6,cE=f6,V6=(n,e,t)=>{const r=new Map,i={platform:A6,...t},s={...i.platform,_c:r};return d6(n,e,{...i,platform:s})};var F6=typeof document<"u",U6=function(){},kc=F6?R.useLayoutEffect:U6;function bd(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!bd(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!bd(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function DC(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function dE(n,e){const t=DC(n);return Math.round(e*t)/t}function Yf(n){const e=R.useRef(n);return kc(()=>{e.current=n}),e}function j6(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[d,h]=R.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=R.useState(r);bd(p,r)||g(r);const[w,k]=R.useState(null),[C,_]=R.useState(null),y=R.useCallback(j=>{j!==V.current&&(V.current=j,k(j))},[]),E=R.useCallback(j=>{j!==I.current&&(I.current=j,_(j))},[]),x=s||w,M=o||C,V=R.useRef(null),I=R.useRef(null),v=R.useRef(d),S=l!=null,D=Yf(l),b=Yf(i),N=Yf(c),P=R.useCallback(()=>{if(!V.current||!I.current)return;const j={placement:e,strategy:t,middleware:p};b.current&&(j.platform=b.current),V6(V.current,I.current,j).then(Q=>{const J={...Q,isPositioned:N.current!==!1};se.current&&!bd(v.current,J)&&(v.current=J,Tg.flushSync(()=>{h(J)}))})},[p,e,t,b,N]);kc(()=>{c===!1&&v.current.isPositioned&&(v.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[c]);const se=R.useRef(!1);kc(()=>(se.current=!0,()=>{se.current=!1}),[]),kc(()=>{if(x&&(V.current=x),M&&(I.current=M),x&&M){if(D.current)return D.current(x,M,P);P()}},[x,M,P,D,S]);const le=R.useMemo(()=>({reference:V,floating:I,setReference:y,setFloating:E}),[y,E]),Z=R.useMemo(()=>({reference:x,floating:M}),[x,M]),ne=R.useMemo(()=>{const j={position:t,left:0,top:0};if(!Z.floating)return j;const Q=dE(Z.floating,d.x),J=dE(Z.floating,d.y);return a?{...j,transform:"translate("+Q+"px, "+J+"px)",...DC(Z.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Q,top:J}},[t,a,Z.floating,d.x,d.y]);return R.useMemo(()=>({...d,update:P,refs:le,elements:Z,floatingStyles:ne}),[d,P,le,Z,ne])}const B6=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?cE({element:r.current,padding:i}).fn(t):{}:r?cE({element:r,padding:i}).fn(t):{}}}},$6=(n,e)=>({...M6(n),options:[n,e]}),W6=(n,e)=>({...L6(n),options:[n,e]}),H6=(n,e)=>({...B6(n),options:[n,e]}),z6={...WE};let hE=!1,Y6=0;const fE=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Y6++;function q6(){const[n,e]=R.useState(()=>hE?fE():void 0);return Rd(()=>{n==null&&e(fE())},[]),R.useEffect(()=>{hE=!0},[]),n}const K6=z6.useId,PC=K6||q6,Q6=R.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:o}},width:a=14,height:l=7,tipRadius:c=0,strokeWidth:d=0,staticOffset:h,stroke:p,d:g,style:{transform:w,...k}={},...C}=e,_=PC(),[y,E]=R.useState(!1);if(Rd(()=>{if(!i)return;mn(i).direction==="rtl"&&E(!0)},[i]),!i)return null;const[x,M]=r.split("-"),V=x==="top"||x==="bottom";let I=h;(V&&o!=null&&o.x||!V&&o!=null&&o.y)&&(I=null);const v=d*2,S=v/2,D=a/2*(c/-8+1),b=l/2*c/4,N=!!g,P=I&&M==="end"?"bottom":"top";let se=I&&M==="end"?"right":"left";I&&y&&(se=M==="end"?"left":"right");const le=(s==null?void 0:s.x)!=null?I||s.x:"",Z=(s==null?void 0:s.y)!=null?I||s.y:"",ne=g||"M0,0"+(" H"+a)+(" L"+(a-D)+","+(l-b))+(" Q"+a/2+","+l+" "+D+","+(l-b))+" Z",j={top:N?"rotate(180deg)":"",left:N?"rotate(90deg)":"rotate(-90deg)",bottom:N?"":"rotate(180deg)",right:N?"rotate(-90deg)":"rotate(90deg)"}[x];return A.jsxs("svg",{...C,"aria-hidden":!0,ref:t,width:N?a:a+v,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[se]:le,[P]:Z,[x]:V||N?"100%":"calc(100% - "+v/2+"px)",transform:[j,w].filter(Q=>!!Q).join(" "),...k},children:[v>0&&A.jsx("path",{clipPath:"url(#"+_+")",fill:"none",stroke:p,strokeWidth:v+(g?0:1),d:ne}),A.jsx("path",{stroke:v&&!g?C.fill:"none",d:ne}),A.jsx("clipPath",{id:_,children:A.jsx("rect",{x:-S,y:S*(N?-1:1),width:a+v,height:a})})]})});function G6(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(i=>i(t))},on(e,t){n.has(e)||n.set(e,new Set),n.get(e).add(t)},off(e,t){var r;(r=n.get(e))==null||r.delete(t)}}}const X6=R.createContext(null),J6=R.createContext(null),Z6=()=>{var n;return((n=R.useContext(X6))==null?void 0:n.id)||null},ej=()=>R.useContext(J6);function tj(n){const{open:e=!1,onOpenChange:t,elements:r}=n,i=PC(),s=R.useRef({}),[o]=R.useState(()=>G6()),a=Z6()!=null,[l,c]=R.useState(r.reference),d=c6((g,w,k)=>{s.current.openEvent=g?w:void 0,o.emit("openchange",{open:g,event:w,reason:k,nested:a}),t==null||t(g,w,k)}),h=R.useMemo(()=>({setPositionReference:c}),[]),p=R.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return R.useMemo(()=>({dataRef:s,open:e,onOpenChange:d,elements:p,events:o,floatingId:i,refs:h}),[e,d,p,o,i,h])}function nj(n){n===void 0&&(n={});const{nodeId:e}=n,t=tj({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,i=r.elements,[s,o]=R.useState(null),[a,l]=R.useState(null),d=(i==null?void 0:i.domReference)||s,h=R.useRef(null),p=ej();Rd(()=>{d&&(h.current=d)},[d]);const g=j6({...n,elements:{...i,...a&&{reference:a}}}),w=R.useCallback(E=>{const x=Ot(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),getClientRects:()=>E.getClientRects(),contextElement:E}:E;l(x),g.refs.setReference(x)},[g.refs]),k=R.useCallback(E=>{(Ot(E)||E===null)&&(h.current=E,o(E)),(Ot(g.refs.reference.current)||g.refs.reference.current===null||E!==null&&!Ot(E))&&g.refs.setReference(E)},[g.refs]),C=R.useMemo(()=>({...g.refs,setReference:k,setPositionReference:w,domReference:h}),[g.refs,k,w]),_=R.useMemo(()=>({...g.elements,domReference:d}),[g.elements,d]),y=R.useMemo(()=>({...g,...r,refs:C,elements:_,nodeId:e}),[g,C,_,e,r]);return Rd(()=>{r.dataRef.current.floatingContext=y;const E=p==null?void 0:p.nodesRef.current.find(x=>x.id===e);E&&(E.context=y)}),R.useMemo(()=>({...g,context:y,refs:C,elements:_}),[g,C,_,y])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Dm=function(e,t){return Dm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},Dm(e,t)};function lt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Dm(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var me=function(){return me=Object.assign||function(t){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},me.apply(this,arguments)};function Wn(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var rj=function(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,i=r===void 0?!1:r,s=n.className,o=n.children,a=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return F.createElement("div",{className:s,role:"dialog","aria-label":a,"aria-modal":"true"},o)},ij=function(n,e){var t=R.useRef(null),r=R.useRef(n);r.current=n;var i=R.useCallback(function(s){var o,a=s.composed&&s.composedPath&&s.composedPath().find(function(l){return l instanceof Node})||s.target;t.current&&!t.current.contains(a)&&(e&&a instanceof HTMLElement&&a.classList.contains(e)||(o=r.current)===null||o===void 0||o.call(r,s))},[e]);return R.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},Rh=function(n){var e=n.children,t=n.onClickOutside,r=n.className,i=n.containerRef,s=n.style,o=n.ignoreClass,a=ij(t,o);return F.createElement("div",{className:r,style:s,ref:function(l){a.current=l,i&&(i.current=l)}},e)},H;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(H||(H={}));function RC(){var n=typeof window<"u"?window:globalThis;return n}var Jl=12;function _e(n){if(n==null)return new Date;var e=typeof n=="string"?TU(n):G(n);return bh(e)?e:new Date}function qf(n,e,t,r,i){i===void 0&&(i=_e());for(var s=Mo(t)||Mo(zy()),o=Array.isArray(e)?e:[e],a=0,l=o;a<l.length;a++){var c=l[a],d=gU(n,c,i,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(bh(d)&&(!r||n===Ne(d,c,t)))return d}return null}function bh(n,e){return Ed(n)&&!ws(n,new Date("1/1/1800"))}function Ne(n,e,t){if(t==="en")return tE(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?Mo(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),r=r||Mo(zy()),tE(n,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function rn(n,e){var t=e.dateFormat,r=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return n&&Ne(n,i,r)||""}var bC=" - ";function sj(n,e,t){if(!n)return"";var r=rn(n,t),i=e?rn(e,t):"";return"".concat(r).concat(bC).concat(i)}function oj(n,e){if(!(n!=null&&n.length))return"";var t=n[0]?rn(n[0],e):"";if(n.length===1)return t;if(n.length===2&&n[1]){var r=rn(n[1],e);return"".concat(t,", ").concat(r)}var i=n.length-1;return"".concat(t," (+").concat(i,")")}function Kf(n,e){var t=e.hour,r=t===void 0?0:t,i=e.minute,s=i===void 0?0:i,o=e.second,a=o===void 0?0:o;return Ec(Tc(Sc(n,a),s),r)}function aj(n){return My(n)}function lj(n,e){return Ne(n,"ddd",e)}function Ic(n){return _s(n)}function vi(n,e,t){var r=Mo(e||zy());return Lr(n,{locale:r,weekStartsOn:t})}function Ir(n){return sC(n)}function Ma(n){return kh(n)}function pE(n){return Em(n)}function mE(){return _s(_e())}function gE(n){return rC(n)}function uj(n){return I4(n)}function cj(n){return iC(n)}function Vn(n,e){return n&&e?wU(n,e):!n&&!e}function Nt(n,e){return n&&e?vU(n,e):!n&&!e}function xd(n,e){return n&&e?_U(n,e):!n&&!e}function pe(n,e){return n&&e?S4(n,e):!n&&!e}function Zi(n,e){return n&&e?E3(n,e):!n&&!e}function La(n,e,t){var r,i=_s(e),s=rC(t);try{r=Cl(n,{start:i,end:s})}catch{r=!1}return r}function zy(){var n=RC();return n.__localeId__}function Mo(n){if(typeof n=="string"){var e=RC();return e.__localeData__?e.__localeData__[n]:void 0}else return n}function dj(n,e,t){return e(Ne(n,"EEEE",t))}function hj(n,e){return Ne(n,"EEEEEE",e)}function fj(n,e){return Ne(n,"EEE",e)}function Yy(n,e){return Ne(sn(_e(),n),"LLLL",e)}function xC(n,e){return Ne(sn(_e(),n),"LLL",e)}function pj(n,e){return Ne(js(_e(),n),"QQQ",e)}function ln(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,o=t.excludeDateIntervals,a=t.includeDates,l=t.includeDateIntervals,c=t.filterDate;return Zl(n,{minDate:r,maxDate:i})||s&&s.some(function(d){return d instanceof Date?pe(n,d):pe(n,d.date)})||o&&o.some(function(d){var h=d.start,p=d.end;return Cl(n,{start:h,end:p})})||a&&!a.some(function(d){return pe(n,d)})||l&&!l.some(function(d){var h=d.start,p=d.end;return Cl(n,{start:h,end:p})})||c&&!c(_e(n))||!1}function qy(n,e){var t=e===void 0?{}:e,r=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var o=s.start,a=s.end;return Cl(n,{start:o,end:a})}):r&&r.some(function(s){var o;return s instanceof Date?pe(n,s):pe(n,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function AC(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,o=t.includeDates,a=t.filterDate;return Zl(n,{minDate:r?sC(r):void 0,maxDate:i?iC(i):void 0})||(s==null?void 0:s.some(function(l){return Nt(n,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return Nt(n,l)})||a&&!a(_e(n))||!1}function Yu(n,e,t,r){var i=ae(n),s=Ct(n),o=ae(e),a=Ct(e),l=ae(r);return i===o&&i===l?s<=t&&t<=a:i<o?l===i&&s<=t||l===o&&a>=t||l<o&&l>i:!1}function mj(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,o=t.includeDates;return Zl(n,{minDate:r,maxDate:i})||s&&s.some(function(a){return Nt(a instanceof Date?a:a.date,n)})||o&&!o.some(function(a){return Nt(a,n)})||!1}function qu(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,o=t.includeDates,a=t.filterDate;return Zl(n,{minDate:r,maxDate:i})||(s==null?void 0:s.some(function(l){return xd(n,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return xd(n,l)})||a&&!a(_e(n))||!1}function Ku(n,e,t){if(!e||!t||!Ed(e)||!Ed(t))return!1;var r=ae(e),i=ae(t);return r<=n&&i>=n}function Cc(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,o=t.includeDates,a=t.filterDate,l=new Date(n,0,1);return Zl(l,{minDate:r?kh(r):void 0,maxDate:i?oC(i):void 0})||(s==null?void 0:s.some(function(c){return Vn(l,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return Vn(l,c)})||a&&!a(_e(l))||!1}function Qu(n,e,t,r){var i=ae(n),s=ss(n),o=ae(e),a=ss(e),l=ae(r);return i===o&&i===l?s<=t&&t<=a:i<o?l===i&&s<=t||l===o&&a>=t||l<o&&l>i:!1}function Zl(n,e){var t,r=e===void 0?{}:e,i=r.minDate,s=r.maxDate;return(t=i&&bo(n,i)<0||s&&bo(n,s)>0)!==null&&t!==void 0?t:!1}function yE(n,e){return e.some(function(t){return Sr(t)===Sr(n)&&kr(t)===kr(n)&&yi(t)===yi(n)})}function vE(n,e){var t=e===void 0?{}:e,r=t.excludeTimes,i=t.includeTimes,s=t.filterTime;return r&&yE(n,r)||i&&!yE(n,i)||s&&!s(n)||!1}function _E(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var i=_e();i=Ec(i,Sr(n)),i=Tc(i,kr(n)),i=Sc(i,yi(n));var s=_e();s=Ec(s,Sr(t)),s=Tc(s,kr(t)),s=Sc(s,yi(t));var o=_e();o=Ec(o,Sr(r)),o=Tc(o,kr(r)),o=Sc(o,yi(r));var a;try{a=!Cl(i,{start:s,end:o})}catch{a=!1}return a}function wE(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=os(n,1);return r&&Td(r,s)>0||i&&i.every(function(o){return Td(o,s)>0})||!1}function EE(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=bn(n,1);return r&&Td(s,r)>0||i&&i.every(function(o){return Td(s,o)>0})||!1}function gj(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=kh(n),o=yC(s,1);return r&&Sd(r,o)>0||i&&i.every(function(a){return Sd(a,o)>0})||!1}function yj(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=oC(n),o=Oy(s,1);return r&&Sd(o,r)>0||i&&i.every(function(a){return Sd(o,a)>0})||!1}function TE(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=xo(n,1);return r&&kd(r,s)>0||i&&i.every(function(o){return kd(o,s)>0})||!1}function vj(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.yearItemNumber,s=i===void 0?Jl:i,o=Ma(xo(n,s)),a=ii(o,s).endPeriod,l=r&&ae(r);return l&&l>a||!1}function SE(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=Er(n,1);return r&&kd(s,r)>0||i&&i.every(function(o){return kd(s,o)>0})||!1}function _j(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.yearItemNumber,s=i===void 0?Jl:i,o=Er(n,s),a=ii(o,s).startPeriod,l=r&&ae(r);return l&&l<a||!1}function NC(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return bo(i,e)>=0});return Q0(r)}else return t?Q0(t):e}function OC(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return bo(i,e)<=0});return K0(r)}else return t?K0(t):e}function kE(n,e){var t;n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,s=n.length;i<s;i++){var o=n[i];if(Tr(o)){var a=Ne(o,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(e)||(l.push(e),r.set(a,l))}else if(typeof o=="object"){var c=Object.keys(o),d=(t=c[0])!==null&&t!==void 0?t:"",h=o[d];if(typeof d=="string"&&Array.isArray(h))for(var p=0,g=h.length;p<g;p++){var w=h[p];if(w){var a=Ne(w,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(d)||(l.push(d),r.set(a,l))}}}}return r}function wj(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function Ej(n,e){n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(r){var i=r.date,s=r.holidayName;if(Tr(i)){var o=Ne(i,"MM.dd.yyyy"),a=t.get(o)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&wj(a.holidayNames,[s]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?Wn(Wn([],l,!0),[s],!1):[s],t.set(o,a)}}}),t}function Tj(n,e,t,r,i){for(var s=i.length,o=[],a=0;a<s;a++){var l=n,c=i[a];c&&(l=_4(l,Sr(c)),l=wm(l,kr(c)),l=T4(l,yi(c)));var d=wm(n,(t+1)*r);bi(l,e)&&ws(l,d)&&c!=null&&o.push(c)}return o}function IE(n){return n<10?"0".concat(n):"".concat(n)}function ii(n,e){e===void 0&&(e=Jl);var t=Math.ceil(ae(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function Sj(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function CE(n){var e=n.getSeconds(),t=n.getMilliseconds();return G(n.getTime()-e*1e3-t)}function kj(n,e){return CE(n).getTime()===CE(e).getTime()}function DE(n){if(!Tr(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function PE(n,e){if(!Tr(n)||!Tr(e))throw new Error("Invalid date received");var t=DE(n),r=DE(e);return ws(t,r)}function MC(n){return n.key===H.Space}var Ij=function(n){lt(e,n);function e(t){var r=n.call(this,t)||this;return r.inputRef=F.createRef(),r.onTimeChange=function(i){var s,o;r.setState({time:i});var a=r.props.date,l=a instanceof Date&&!isNaN(+a),c=l?a:new Date;if(i!=null&&i.includes(":")){var d=i.split(":"),h=d[0],p=d[1];c.setHours(Number(h)),c.setMinutes(Number(p))}(o=(s=r.props).onChange)===null||o===void 0||o.call(s,c)},r.renderTimeInput=function(){var i=r.state.time,s=r.props,o=s.date,a=s.timeString,l=s.customTimeInput;return l?R.cloneElement(l,{date:o,value:i,onChange:r.onTimeChange}):F.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var c;(c=r.inputRef.current)===null||c===void 0||c.focus()},required:!0,value:i,onChange:function(c){r.onTimeChange(c.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},e.prototype.render=function(){return F.createElement("div",{className:"react-datepicker__input-time-container"},F.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),F.createElement("div",{className:"react-datepicker-time__input-container"},F.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(R.Component),Cj=function(n){lt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=R.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var i,s,o=r.key;o===H.Space&&(r.preventDefault(),r.key=H.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},t.isSameDay=function(r){return pe(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return t.isSameDayOrWeek(o)}):t.isSameDayOrWeek(t.props.selected),s=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!s},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),ln(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return qy(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return pe(t.props.day,vi(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&pe(r,vi(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,i=r.day,s=r.highlightDates;if(!s)return!1;var o=Ne(i,"MM.dd.yyyy");return s.get(o)},t.getHolidaysClass=function(){var r,i=t.props,s=i.day,o=i.holidays;if(!o)return[void 0];var a=Ne(s,"MM.dd.yyyy");return o.has(a)?[(r=o.get(a))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:La(i,s,o)},t.isInSelectingRange=function(){var r,i=t.props,s=i.day,o=i.selectsStart,a=i.selectsEnd,l=i.selectsRange,c=i.selectsDisabledDaysInRange,d=i.startDate,h=i.endDate,p=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(o||a||l)||!p||!c&&t.isDisabled()?!1:o&&h&&(ws(p,h)||Zi(p,h))?La(s,p,h):a&&d&&(bi(p,d)||Zi(p,d))||l&&d&&!h&&(bi(p,d)||Zi(p,d))?La(s,d,p):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,o=i.startDate,a=i.selectsStart,l=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return a?pe(s,l):pe(s,o)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,o=i.endDate,a=i.selectsEnd,l=i.selectsRange,c=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return a||l?pe(s,c):pe(s,o)},t.isRangeStart=function(){var r=t.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:pe(s,i)},t.isRangeEnd=function(){var r=t.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:pe(o,i)},t.isWeekend=function(){var r=y3(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Ct(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Ct(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(_e())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var i=t.props.dayClassName?t.props.dayClassName(r):void 0;return ft("react-datepicker__day",i,"react-datepicker__day--"+lj(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,i=r.day,s=r.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,a=r.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,c=t.isDisabled()||t.isExcluded()?l:o;return"".concat(c," ").concat(Ne(i,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,i=r.day,s=r.holidays,o=s===void 0?new Map:s,a=r.excludeDates,l=Ne(i,"MM.dd.yyyy"),c=[];return o.has(l)&&c.push.apply(c,o.get(l).holidayNames),t.isExcluded()&&c.push(a==null?void 0:a.filter(function(d){return d instanceof Date?pe(d,i):pe(d==null?void 0:d.date,i)}).map(function(d){if(!(d instanceof Date))return d==null?void 0:d.message})),c.join(", ")},t.getTabIndex=function(){var r=t.props.selected,i=t.props.preSelection,s=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&pe(i,r))?0:-1;return s},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(nE(t.props.day),t.props.day):nE(t.props.day)},t.render=function(){return F.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&F.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,r,i;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(R.Component),Dj=function(n){lt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=R.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var i,s,o=r.key;o===H.Space&&(r.preventDefault(),r.key=H.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!pe(t.props.date,t.props.selected)&&pe(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||pe(t.props.date,t.props.selected)&&pe(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var i=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&pe(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,r=t.weekNumber,i=t.isWeekDisabled,s=t.ariaLabelPrefix,o=s===void 0?e.defaultProps.ariaLabelPrefix:s,a=t.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!i,"react-datepicker__week-number--selected":!!a&&pe(this.props.date,this.props.selected)};return F.createElement("div",{ref:this.weekNumberEl,className:ft(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(R.Component),Pj=function(n){lt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(r){return ln(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,i){t.props.onDayClick&&t.props.onDayClick(r,i)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,i,s){for(var o,a,l,c=new Date(r),d=0;d<7;d++){var h=new Date(r);h.setDate(h.getDate()+d);var p=!t.isDisabled(h);if(p){c=h;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(c,i,s),t.props.showWeekPicker&&t.handleDayClick(c,s),((o=t.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((l=(a=t.props).setOpen)===null||l===void 0||l.call(a,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):aj(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),i=In(r,6),s=new Date(r);s<=i;){if(!t.isDisabled(s))return!1;s=In(s,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),i=[],s=t.formatWeekNumber(r);if(t.props.showWeekNumber){var o=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,s):void 0;i.push(F.createElement(Dj,me({key:"W"},e.defaultProps,t.props,{weekNumber:s,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:o})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var l=In(r,a);return F.createElement(Cj,me({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:t.handleDayClick.bind(t,l),onMouseEnter:t.handleDayMouseEnter.bind(t,l)}))}))},t.startOfWeek=function(){return vi(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!pe(t.startOfWeek(),t.props.selected)&&pe(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":pe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return F.createElement("div",{className:ft(t)},this.renderDays())},e}(R.Component),Sa,Rj=6,ho={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Qf=(Sa={},Sa[ho.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Sa[ho.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Sa[ho.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Sa),Gu=1;function RE(n,e){return n?ho.FOUR_COLUMNS:e?ho.TWO_COLUMNS:ho.THREE_COLUMNS}var bj=function(n){lt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=Wn([],Array(12),!0).map(function(){return R.createRef()}),t.QUARTER_REFS=Wn([],Array(4),!0).map(function(){return R.createRef()}),t.isDisabled=function(r){return ln(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return qy(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,i){var s,o;(o=(s=t.props).onDayClick)===null||o===void 0||o.call(s,r,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var i,s;(s=(i=t.props).onDayMouseEnter)===null||s===void 0||s.call(i,r)},t.handleMouseLeave=function(){var r,i;(i=(r=t.props).onMouseLeave)===null||i===void 0||i.call(r)},t.isRangeStartMonth=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Nt(sn(s,r),o)},t.isRangeStartQuarter=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:xd(js(s,r),o)},t.isRangeEndMonth=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Nt(sn(s,r),a)},t.isRangeEndQuarter=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:xd(js(s,r),a)},t.isInSelectingRangeMonth=function(r){var i,s=t.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,d=s.startDate,h=s.endDate,p=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(a||l||c)||!p?!1:a&&h?Yu(p,h,r,o):l&&d||c&&d&&!h?Yu(d,p,r,o):!1},t.isSelectingMonthRangeStart=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,o=s.day,a=s.startDate,l=s.selectsStart,c=sn(o,r),d=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return l?Nt(c,d):Nt(c,a)},t.isSelectingMonthRangeEnd=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,o=s.day,a=s.endDate,l=s.selectsEnd,c=s.selectsRange,d=sn(o,r),h=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return l||c?Nt(d,h):Nt(d,a)},t.isInSelectingRangeQuarter=function(r){var i,s=t.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,d=s.startDate,h=s.endDate,p=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(a||l||c)||!p?!1:a&&h?Qu(p,h,r,o):l&&d||c&&d&&!h?Qu(d,p,r,o):!1},t.isWeekInMonth=function(r){var i=t.props.day,s=In(r,6);return Nt(r,i)||Nt(s,i)},t.isCurrentMonth=function(r,i){return ae(r)===ae(_e())&&i===Ct(_e())},t.isCurrentQuarter=function(r,i){return ae(r)===ae(_e())&&i===ss(_e())},t.isSelectedMonth=function(r,i,s){return Ct(s)===i&&ae(r)===ae(s)},t.isSelectMonthInList=function(r,i,s){return s.some(function(o){return t.isSelectedMonth(r,i,o)})},t.isSelectedQuarter=function(r,i,s){return ss(r)===i&&ae(r)===ae(s)},t.isMonthSelected=function(){var r=t.props,i=r.day,s=r.selected,o=r.selectedDates,a=r.selectsMultiple,l=Ct(i);return a?o==null?void 0:o.some(function(c){return t.isSelectedMonth(i,l,c)}):!!s&&t.isSelectedMonth(i,l,s)},t.renderWeeks=function(){for(var r=[],i=t.props.fixedHeight,s=0,o=!1,a=vi(Ir(t.props.day),t.props.locale,t.props.calendarStartDay),l=function(w){return t.props.showWeekPicker?vi(w,t.props.locale,t.props.calendarStartDay):t.props.preSelection},c=function(w){return t.props.showWeekPicker?vi(w,t.props.locale,t.props.calendarStartDay):t.props.selected},d=t.props.selected?c(t.props.selected):void 0,h=t.props.preSelection?l(t.props.preSelection):void 0;r.push(F.createElement(Pj,me({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:s,day:a,month:Ct(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:d,preSelection:h,showWeekNumber:t.props.showWeekNumbers}))),!o;){s++,a=wd(a,1);var p=i&&s>=Rj,g=!i&&!t.isWeekInMonth(a);if(p||g)if(t.props.peekNextMonth)o=!0;else break}return r},t.onMonthClick=function(r,i){var s=t.isMonthDisabledForLabelDate(i),o=s.isDisabled,a=s.labelDate;o||t.handleDayClick(Ir(a),r)},t.onMonthMouseEnter=function(r){var i=t.isMonthDisabledForLabelDate(r),s=i.isDisabled,o=i.labelDate;s||t.handleDayMouseEnter(Ir(o))},t.handleMonthNavigation=function(r,i){var s,o,a,l;(o=(s=t.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=t.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},t.handleKeyboardNavigation=function(r,i,s){var o,a=t.props,l=a.selected,c=a.preSelection,d=a.setPreSelection,h=a.minDate,p=a.maxDate,g=a.showFourColumnMonthYearPicker,w=a.showTwoColumnMonthYearPicker;if(c){var k=RE(g,w),C=t.getVerticalOffset(k),_=(o=Qf[k])===null||o===void 0?void 0:o.grid,y=function(I,v,S){var D,b,N=v,P=S;switch(I){case H.ArrowRight:N=bn(v,Gu),P=S===11?0:S+Gu;break;case H.ArrowLeft:N=os(v,Gu),P=S===0?11:S-Gu;break;case H.ArrowUp:N=os(v,C),P=!((D=_==null?void 0:_[0])===null||D===void 0)&&D.includes(S)?S+12-C:S-C;break;case H.ArrowDown:N=bn(v,C),P=!((b=_==null?void 0:_[_.length-1])===null||b===void 0)&&b.includes(S)?S-12+C:S+C;break}return{newCalculatedDate:N,newCalculatedMonth:P}},E=function(I,v,S){for(var D=40,b=I,N=!1,P=0,se=y(b,v,S),le=se.newCalculatedDate,Z=se.newCalculatedMonth;!N;){if(P>=D){le=v,Z=S;break}if(h&&le<h){b=H.ArrowRight;var ne=y(b,le,Z);le=ne.newCalculatedDate,Z=ne.newCalculatedMonth}if(p&&le>p){b=H.ArrowLeft;var ne=y(b,le,Z);le=ne.newCalculatedDate,Z=ne.newCalculatedMonth}if(mj(le,t.props)){var ne=y(b,le,Z);le=ne.newCalculatedDate,Z=ne.newCalculatedMonth}else N=!0;P++}return{newCalculatedDate:le,newCalculatedMonth:Z}};if(i===H.Enter){t.isMonthDisabled(s)||(t.onMonthClick(r,s),d==null||d(l));return}var x=E(i,c,s),M=x.newCalculatedDate,V=x.newCalculatedMonth;switch(i){case H.ArrowRight:case H.ArrowLeft:case H.ArrowUp:case H.ArrowDown:t.handleMonthNavigation(V,M);break}}},t.getVerticalOffset=function(r){var i,s;return(s=(i=Qf[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},t.onMonthKeyDown=function(r,i){var s=t.props,o=s.disabledKeyboardNavigation,a=s.handleOnMonthKeyDown,l=r.key;l!==H.Tab&&r.preventDefault(),o||t.handleKeyboardNavigation(r,l,i),a&&a(r)},t.onQuarterClick=function(r,i){var s=js(t.props.day,i);qu(s,t.props)||t.handleDayClick(pE(s),r)},t.onQuarterMouseEnter=function(r){var i=js(t.props.day,r);qu(i,t.props)||t.handleDayMouseEnter(pE(i))},t.handleQuarterNavigation=function(r,i){var s,o,a,l;t.isDisabled(i)||t.isExcluded(i)||((o=(s=t.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=t.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},t.onQuarterKeyDown=function(r,i){var s,o,a=r.key;if(!t.props.disabledKeyboardNavigation)switch(a){case H.Enter:t.onQuarterClick(r,i),(o=(s=t.props).setPreSelection)===null||o===void 0||o.call(s,t.props.selected);break;case H.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,Oy(t.props.preSelection,1));break;case H.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,yC(t.props.preSelection,1));break}},t.isMonthDisabledForLabelDate=function(r){var i,s=t.props,o=s.day,a=s.minDate,l=s.maxDate,c=s.excludeDates,d=s.includeDates,h=sn(o,r);return{isDisabled:(i=(a||l||c||d)&&AC(h,t.props))!==null&&i!==void 0?i:!1,labelDate:h}},t.isMonthDisabled=function(r){var i=t.isMonthDisabledForLabelDate(r).isDisabled;return i},t.getMonthClassNames=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate,l=i.preSelection,c=i.monthClassName,d=c?c(sn(s,r)):void 0,h=t.getSelection();return ft("react-datepicker__month-text","react-datepicker__month-".concat(r),d,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":h?t.isSelectMonthInList(s,r,h):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&l&&t.isSelectedMonth(s,r,l)&&!t.isMonthSelected()&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&a?Yu(o,a,r,s):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(s,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=Ct(t.props.preSelection),s=t.isMonthDisabledForLabelDate(i).isDisabled,o=r===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=ss(t.props.preSelection),s=qu(t.props.day,t.props),o=r===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getAriaLabel=function(r){var i=t.props,s=i.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,a=i.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,c=i.day,d=i.locale,h=sn(c,r),p=t.isDisabled(h)||t.isExcluded(h)?l:o;return"".concat(p," ").concat(Ne(h,"MMMM yyyy",d))},t.getQuarterClassNames=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate,l=i.selected,c=i.minDate,d=i.maxDate,h=i.excludeDates,p=i.includeDates,g=i.filterDate,w=i.preSelection,k=i.disabledKeyboardNavigation,C=(c||d||h||p||g)&&qu(js(s,r),t.props);return ft("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":C,"react-datepicker__quarter-text--selected":l?t.isSelectedQuarter(s,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!k&&w&&t.isSelectedQuarter(s,r,w)&&!C,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&a?Qu(o,a,r,s):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":t.isCurrentQuarter(s,r)})},t.getMonthContent=function(r){var i=t.props,s=i.showFullMonthYearPicker,o=i.renderMonthContent,a=i.locale,l=i.day,c=xC(r,a),d=Yy(r,a);return o?o(r,c,d,l):s?d:c},t.getQuarterContent=function(r){var i,s=t.props,o=s.renderQuarterContent,a=s.locale,l=pj(r,a);return(i=o==null?void 0:o(r,l))!==null&&i!==void 0?i:l},t.renderMonths=function(){var r,i=t.props,s=i.showTwoColumnMonthYearPicker,o=i.showFourColumnMonthYearPicker,a=i.day,l=i.selected,c=(r=Qf[RE(o,s)])===null||r===void 0?void 0:r.grid;return c==null?void 0:c.map(function(d,h){return F.createElement("div",{className:"react-datepicker__month-wrapper",key:h},d.map(function(p,g){return F.createElement("div",{ref:t.MONTH_REFS[p],key:g,onClick:function(w){t.onMonthClick(w,p)},onKeyDown:function(w){MC(w)&&(w.preventDefault(),w.key=H.Enter),t.onMonthKeyDown(w,p)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(p)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(p)}:void 0,tabIndex:Number(t.getTabIndex(p)),className:t.getMonthClassNames(p),"aria-disabled":t.isMonthDisabled(p),role:"option","aria-label":t.getAriaLabel(p),"aria-current":t.isCurrentMonth(a,p)?"date":void 0,"aria-selected":l?t.isSelectedMonth(a,p,l):void 0},t.getMonthContent(p))}))})},t.renderQuarters=function(){var r=t.props,i=r.day,s=r.selected,o=[1,2,3,4];return F.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(a,l){return F.createElement("div",{key:l,ref:t.QUARTER_REFS[l],role:"option",onClick:function(c){t.onQuarterClick(c,a)},onKeyDown:function(c){t.onQuarterKeyDown(c,a)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(a)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(a)}:void 0,className:t.getQuarterClassNames(a),"aria-selected":s?t.isSelectedQuarter(i,a,s):void 0,tabIndex:Number(t.getQuarterTabIndex(a)),"aria-current":t.isCurrentQuarter(i,a)?"date":void 0},t.getQuarterContent(a))}))},t.getClassNames=function(){var r=t.props,i=r.selectingDate,s=r.selectsStart,o=r.selectsEnd,a=r.showMonthYearPicker,l=r.showQuarterYearPicker,c=r.showWeekPicker;return ft("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":c})},t}return e.prototype.getSelection=function(){var t=this.props,r=t.selected,i=t.selectedDates,s=t.selectsMultiple;if(s)return i;if(r)return[r]},e.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,i=t.showQuarterYearPicker,s=t.day,o=t.ariaLabelPrefix,a=o===void 0?"Month ":o,l=a?a.trim()+" ":"";return F.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(Ne(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(R.Component),xj=function(n){lt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,i){return F.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?F.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return F.createElement(Rh,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(R.Component),Aj=function(n){lt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(i,s){return F.createElement("option",{key:i,value:s},i)})},t.renderSelectMode=function(r){return F.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,i){return F.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},F.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),F.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(r){return F.createElement(xj,me({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var i=t.state.dropdownVisible,s=[t.renderReadView(!i,r)];return i&&s.unshift(t.renderDropdown(r)),s},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return xC(s,t.props.locale)}:function(s){return Yy(s,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return F.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(R.Component);function Nj(n,e){for(var t=[],r=Ir(n),i=Ir(e);!bi(r,i);)t.push(_e(r)),r=bn(r,1);return t}var Oj=function(n){lt(e,n);function e(t){var r=n.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var s=km(i),o=Vn(r.props.date,i)&&Nt(r.props.date,i);return F.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":o?"true":void 0},o?F.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Ne(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:Nj(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var t=ft({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return F.createElement(Rh,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(R.Component),Mj=function(n){lt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=Ir(t.props.minDate),i=Ir(t.props.maxDate),s=[];!bi(r,i);){var o=km(r);s.push(F.createElement("option",{key:o,value:o},Ne(r,t.props.dateFormat,t.props.locale))),r=bn(r,1)}return s},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return F.createElement("select",{value:km(Ir(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var i=Ne(t.props.date,t.props.dateFormat,t.props.locale);return F.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},F.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),F.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return F.createElement(Oj,me({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown();var i=_e(r);Vn(t.props.date,i)&&Nt(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return F.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(R.Component),Lj=function(n){lt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,s;t.list&&(t.list.scrollTop=(s=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&s!==void 0?s:0)})},t.handleClick=function(r){var i,s;(t.props.minTime||t.props.maxTime)&&_E(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&vE(r,t.props)||(s=(i=t.props).onChange)===null||s===void 0||s.call(i,r)},t.isSelectedTime=function(r){return t.props.selected&&kj(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&_E(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&vE(r,t.props)},t.liClasses=function(r){var i,s=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Sr(r)*3600+kr(r)*60+yi(r))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},t.handleOnKeyDown=function(r,i){var s,o;r.key===H.Space&&(r.preventDefault(),r.key=H.Enter),(r.key===H.ArrowUp||r.key===H.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===H.ArrowDown||r.key===H.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===H.Enter&&t.handleClick(i),(o=(s=t.props).handleOnKeyDown)===null||o===void 0||o.call(s,r)},t.renderTimes=function(){for(var r,i=[],s=typeof t.props.format=="string"?t.props.format:"p",o=(r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=t.props.selected||t.props.openToDate||_e(),l=Ic(a),c=t.props.injectTimes&&t.props.injectTimes.sort(function(C,_){return C.getTime()-_.getTime()}),d=60*Sj(a),h=d/o,p=0;p<h;p++){var g=wm(l,p*o);if(i.push(g),c){var w=Tj(l,g,p,o,c);i=i.concat(w)}}var k=i.reduce(function(C,_){return _.getTime()<=a.getTime()?_:C},i[0]);return i.map(function(C){return F.createElement("li",{key:C.valueOf(),onClick:t.handleClick.bind(t,C),className:t.liClasses(C),ref:function(_){C===k&&(t.centerLi=_)},onKeyDown:function(_){t.handleOnKeyDown(_,C)},tabIndex:C===k?0:-1,role:"option","aria-selected":t.isSelectedTime(C)?"true":void 0,"aria-disabled":t.isDisabledTime(C)?"true":void 0},Ne(C,s,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?F.createElement(F.Fragment,null):F.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},F.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(r))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,r,i=this.state.height;return F.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),F.createElement("div",{className:"react-datepicker__time"},F.createElement("div",{className:"react-datepicker__time-box"},F.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){t.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},e}(R.Component),bE=3,Vj=function(n){lt(e,n);function e(t){var r=n.call(this,t)||this;return r.YEAR_REFS=Wn([],Array(r.props.yearItemNumber),!0).map(function(){return R.createRef()}),r.isDisabled=function(i){return ln(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return qy(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var s=function(){var o,a;(a=(o=r.YEAR_REFS[i])===null||o===void 0?void 0:o.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)},r.handleYearNavigation=function(i,s){var o,a,l,c,d=r.props,h=d.date,p=d.yearItemNumber;if(!(h===void 0||p===void 0)){var g=ii(h,p).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,s),i-g<0?r.updateFocusOnPaginate(p-(g-i)):i-g>=p?r.updateFocusOnPaginate(Math.abs(p-(i-g))):(c=(l=r.YEAR_REFS[i-g])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())}},r.isSameDay=function(i,s){return pe(i,s)},r.isCurrentYear=function(i){return i===ae(_e())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&Vn(Ln(_e(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&Vn(Ln(_e(),i),r.props.endDate)},r.isInRange=function(i){return Ku(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var s=r.props,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange,c=s.startDate,d=s.endDate;return!(o||a||l)||!r.selectingDate()?!1:o&&d?Ku(i,r.selectingDate(),d):a&&c||l&&c&&!d?Ku(i,c,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.startDate,l=o.selectsStart,c=Ln(_e(),i);return l?Vn(c,(s=r.selectingDate())!==null&&s!==void 0?s:null):Vn(c,a??null)},r.isSelectingRangeEnd=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.endDate,l=o.selectsEnd,c=o.selectsRange,d=Ln(_e(),i);return l||c?Vn(d,(s=r.selectingDate())!==null&&s!==void 0?s:null):Vn(d,a??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var s=r.props,o=s.minDate,a=s.maxDate,l=s.excludeDates,c=s.includeDates,d=s.filterDate,h=Ma(Ln(r.props.date,i)),p=(o||a||l||c||d)&&Cc(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!pe(h,Ma(r.props.selected))&&pe(h,Ma(r.props.preSelection))&&!p}},r.isSelectedYear=function(i){var s=r.props,o=s.selectsMultiple,a=s.selected,l=s.selectedDates;return o?l==null?void 0:l.some(function(c){return i===ae(c)}):!!a&&i===ae(a)},r.onYearClick=function(i,s){var o=r.props.date;o!==void 0&&r.handleYearClick(Ma(Ln(o,s)),i)},r.onYearKeyDown=function(i,s){var o,a,l=i.key,c=r.props,d=c.date,h=c.yearItemNumber,p=c.handleOnKeyDown;if(l!==H.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case H.Enter:if(r.props.selected==null)break;r.onYearClick(i,s),(a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,r.props.selected);break;case H.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,Er(r.props.preSelection,1));break;case H.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,xo(r.props.preSelection,1));break;case H.ArrowUp:{if(d===void 0||h===void 0||r.props.preSelection==null)break;var g=ii(d,h).startPeriod,w=bE,k=s-w;if(k<g){var C=h%w;s>=g&&s<g+C?w=C:w+=C,k=s-w}r.handleYearNavigation(k,xo(r.props.preSelection,w));break}case H.ArrowDown:{if(d===void 0||h===void 0||r.props.preSelection==null)break;var _=ii(d,h).endPeriod,w=bE,k=s+w;if(k>_){var C=h%w;s<=_&&s>_-C?w=C:w+=C,k=s+w}r.handleYearNavigation(k,Er(r.props.preSelection,w));break}}p&&p(i)},r.getYearClassNames=function(i){var s=r.props,o=s.date,a=s.minDate,l=s.maxDate,c=s.excludeDates,d=s.includeDates,h=s.filterDate,p=s.yearClassName;return ft("react-datepicker__year-text","react-datepicker__year-".concat(i),o?p==null?void 0:p(Ln(o,i)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(i),"react-datepicker__year-text--disabled":(a||l||c||d||h)&&Cc(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=ae(r.props.preSelection),o=Cc(i,r.props);return i===s&&!o?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var t=this,r=[],i=this.props,s=i.date,o=i.yearItemNumber,a=i.onYearMouseEnter,l=i.onYearMouseLeave;if(s===void 0)return null;for(var c=ii(s,o),d=c.startPeriod,h=c.endPeriod,p=function(k){r.push(F.createElement("div",{ref:g.YEAR_REFS[k-d],onClick:function(C){t.onYearClick(C,k)},onKeyDown:function(C){MC(C)&&(C.preventDefault(),C.key=H.Enter),t.onYearKeyDown(C,k)},tabIndex:Number(g.getYearTabIndex(k)),className:g.getYearClassNames(k),onMouseEnter:g.props.usePointerEvent?void 0:function(C){return a(C,k)},onPointerEnter:g.props.usePointerEvent?function(C){return a(C,k)}:void 0,onMouseLeave:g.props.usePointerEvent?void 0:function(C){return l(C,k)},onPointerLeave:g.props.usePointerEvent?function(C){return l(C,k)}:void 0,key:k,"aria-current":g.isCurrentYear(k)?"date":void 0},g.getYearContent(k)))},g=this,w=d;w<=h;w++)p(w);return F.createElement("div",{className:"react-datepicker__year"},F.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(R.Component);function Fj(n,e,t,r){for(var i=[],s=0;s<2*e+1;s++){var o=n+e-s,a=!0;t&&(a=ae(t)<=o),r&&a&&(a=ae(r)>=o),a&&i.push(o)}return i}var Uj=function(n){lt(e,n);function e(t){var r=n.call(this,t)||this;r.renderOptions=function(){var a=r.props.year,l=r.state.yearsList.map(function(h){return F.createElement("div",{className:a===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:r.onChange.bind(r,h),"aria-selected":a===h?"true":void 0},a===h?F.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",h)}),c=r.props.minDate?ae(r.props.minDate):null,d=r.props.maxDate?ae(r.props.maxDate):null;return(!d||!r.state.yearsList.find(function(h){return h===d}))&&l.unshift(F.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},F.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!r.state.yearsList.find(function(h){return h===c}))&&l.push(F.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},F.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var l=r.state.yearsList.map(function(c){return c+a});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,o=i||(s?10:5);return r.state={yearsList:Fj(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=R.createRef(),r}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=ft({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return F.createElement(Rh,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(R.Component),jj=function(n){lt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?ae(t.props.minDate):1900,i=t.props.maxDate?ae(t.props.maxDate):2100,s=[],o=r;o<=i;o++)s.push(F.createElement("option",{key:o,value:o},o));return s},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return F.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return F.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},F.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),F.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return F.createElement(Uj,me({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,i){var s;(s=t.onSelect)===null||s===void 0||s.call(t,r,i),t.setOpen()},t.onSelect=function(r,i){var s,o;(o=(s=t.props).onSelect)===null||o===void 0||o.call(s,r,i)},t.setOpen=function(){var r,i;(i=(r=t.props).setOpen)===null||i===void 0||i.call(r,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return F.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(R.Component),Bj=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],$j=function(n){var e=(n.className||"").split(/\s+/);return Bj.some(function(t){return e.indexOf(t)>=0})},Wj=function(n){lt(e,n);function e(t){var r=n.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var s,o;$j(i.target)&&((o=(s=r.props).onDropdownFocus)===null||o===void 0||o.call(s,i))},r.getDateInView=function(){var i=r.props,s=i.preSelection,o=i.selected,a=i.openToDate,l=NC(r.props),c=OC(r.props),d=_e(),h=a||o||s;return h||(l&&ws(d,l)?l:c&&bi(d,c)?c:d)},r.increaseMonth=function(){r.setState(function(i){var s=i.date;return{date:bn(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var s=i.date;return{date:os(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,s,o){r.props.onSelect(i,s,o),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,s){r.setState({selectingDate:Ln(_e(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)},r.handleYearMouseLeave=function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)},r.handleYearChange=function(i){var s,o,a,l;(o=(s=r.props).onYearChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(l=(a=r.props).setOpen)===null||l===void 0||l.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!ln(i,r.props))return i;for(var s=Ir(i),o=cj(i),a=k4(o,s),l=null,c=0;c<=a;c++){var d=In(s,c);if(!ln(d,r.props)){l=d;break}}return l},r.handleMonthChange=function(i){var s,o,a,l=(s=r.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(a=(o=r.props).setOpen)===null||a===void 0||a.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(i){var s,o;(o=(s=r.props).onMonthChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(s){var o=s.date;return{date:Ln(o,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(s){var o=s.date;return{date:sn(o,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(s){var o=s.date;return{date:Ln(sn(o,Ct(i)),ae(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var s=vi(i,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(F.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var l=In(s,a),c=r.formatWeekday(l,r.props.locale),d=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return F.createElement("div",{key:a,"aria-label":Ne(l,"EEEE",r.props.locale),className:ft("react-datepicker__day-name",d)},c)}))},r.formatWeekday=function(i,s){return r.props.formatWeekDay?dj(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?fj(i,s):hj(i,s)},r.decreaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:xo(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,s,o;if(!r.props.renderCustomHeader){var a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,c=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,d=os(r.state.date,c),h;switch(!0){case r.props.showMonthYearPicker:h=TE(r.state.date,r.props);break;case r.props.showYearPicker:h=vj(r.state.date,r.props);break;case r.props.showQuarterYearPicker:h=gj(r.state.date,r.props);break;default:h=wE(d,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&h||r.props.showTimeSelectOnly)){var p=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],g=["react-datepicker__navigation","react-datepicker__navigation--previous"],w=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(w=r.decreaseYear),h&&r.props.showDisabledMonthNavigation&&(g.push("react-datepicker__navigation--previous--disabled"),w=void 0);var k=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,C=r.props,_=C.previousMonthButtonLabel,y=_===void 0?e.defaultProps.previousMonthButtonLabel:_,E=C.previousYearButtonLabel,x=E===void 0?e.defaultProps.previousYearButtonLabel:E,M=r.props,V=M.previousMonthAriaLabel,I=V===void 0?typeof y=="string"?y:"Previous Month":V,v=M.previousYearAriaLabel,S=v===void 0?typeof x=="string"?x:"Previous Year":v;return F.createElement("button",{type:"button",className:g.join(" "),onClick:w,onKeyDown:r.props.handleOnKeyDown,"aria-label":k?S:I},F.createElement("span",{className:p.join(" ")},k?x:y))}}},r.increaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:Er(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=SE(r.state.date,r.props);break;case r.props.showYearPicker:s=_j(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=yj(r.state.date,r.props);break;default:s=EE(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),l=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,d=r.props,h=d.nextMonthButtonLabel,p=h===void 0?e.defaultProps.nextMonthButtonLabel:h,g=d.nextYearButtonLabel,w=g===void 0?e.defaultProps.nextYearButtonLabel:g,k=r.props,C=k.nextMonthAriaLabel,_=C===void 0?typeof p=="string"?p:"Next Month":C,y=k.nextYearAriaLabel,E=y===void 0?typeof w=="string"?w:"Next Year":y;return F.createElement("button",{type:"button",className:o.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?E:_},F.createElement("span",{className:a.join(" ")},c?w:p))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),F.createElement("h2",{className:s.join(" ")},Ne(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return F.createElement(jj,me({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:ae(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return F.createElement(Aj,me({},e.defaultProps,r.props,{month:Ct(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return F.createElement(Mj,me({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(mE(),i),r.props.setPreSelection&&r.props.setPreSelection(mE())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return F.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var s=i.monthDate,o=i.i;return F.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),F.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),F.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderCustomHeader=function(i){var s,o,a=i.monthDate,l=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var c=wE(r.state.date,r.props),d=EE(r.state.date,r.props),h=TE(r.state.date,r.props),p=SE(r.state.date,r.props),g=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return F.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(s=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,me(me({},r.state),{customHeaderCount:l,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:c,nextMonthButtonDisabled:d,prevYearButtonDisabled:h,nextYearButtonDisabled:p})),g&&F.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(i){var s=i.monthDate,o=r.props,a=o.showYearPicker,l=o.yearItemNumber,c=l===void 0?e.defaultProps.yearItemNumber:l,d=ii(s,c),h=d.startPeriod,p=d.endPeriod;return F.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(h," - ").concat(p):ae(s))},r.renderHeader=function(i){var s=i.monthDate,o=i.i,a=o===void 0?0:o,l={monthDate:s,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var i,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Er(r.state.date,l):os(r.state.date,l),d=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,h=0;h<a;++h){var p=h-d+l,g=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Er(c,p):bn(c,p),w="month-".concat(h),k=h<a-1,C=h>0;o.push(F.createElement("div",{key:w,ref:function(_){r.monthContainer=_??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:g,i:h}),F.createElement(bj,me({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:g,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:h,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:k,monthShowsDuplicateDaysStart:C}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return F.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),F.createElement(Vj,me({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return F.createElement(Lj,me({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,s=i&&bh(i)&&!!r.props.selected,o=s?"".concat(IE(i.getHours()),":").concat(IE(i.getMinutes())):"";if(r.props.showTimeInput)return F.createElement(Ij,me({},e.defaultProps,r.props,{date:i,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,s=ii(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),o=s.startPeriod,a=s.endPeriod,l;return r.props.showYearPicker?l="".concat(o," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=ae(r.state.date):l="".concat(Yy(Ct(r.state.date),r.props.locale)," ").concat(ae(r.state.date)),F.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return F.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=R.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Jl}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!pe(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!Nt(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!pe(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||rj;return F.createElement(Rh,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},F.createElement("div",{style:{display:"contents"},ref:this.containerRef},F.createElement(t,{className:ft("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(R.Component),Hj=function(n){var e=n.icon,t=n.className,r=t===void 0?"":t,i=n.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return F.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i});if(F.isValidElement(e)){var o=e;return F.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(s," ").concat(r),onClick:function(a){typeof o.props.onClick=="function"&&o.props.onClick(a),typeof i=="function"&&i(a)}})}return F.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},F.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},LC=function(n){lt(e,n);function e(t){var r=n.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return WR.createPortal(this.props.children,this.el)},e}(R.Component),zj="[tabindex], a, button, input, select, textarea",Yj=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},VC=function(n){lt(e,n);function e(t){var r=n.call(this,t)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(zj),1,-1).filter(Yj)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=R.createRef(),r}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?F.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},F.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,F.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(R.Component);function qj(n){var e=function(t){var r,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,s=R.useRef(null),o=nj(me({open:!i,whileElementsMounted:O6,placement:t.popperPlacement,middleware:Wn([W6({padding:15}),$6(10),H6({element:s})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),a=me(me({},t),{hidePopper:i,popperProps:me(me({},o),{arrowRef:s})});return F.createElement(n,me({},a))};return e}var Kj=function(n){lt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,r=t.className,i=t.wrapperClassName,s=t.hidePopper,o=s===void 0?e.defaultProps.hidePopper:s,a=t.popperComponent,l=t.targetComponent,c=t.enableTabLoop,d=t.popperOnKeyDown,h=t.portalId,p=t.portalHost,g=t.popperProps,w=t.showArrow,k=void 0;if(!o){var C=ft("react-datepicker-popper",r);k=F.createElement(VC,{enableTabLoop:c},F.createElement("div",{ref:g.refs.setFloating,style:g.floatingStyles,className:C,"data-placement":g.placement,onKeyDown:d},a,w&&F.createElement(Q6,{ref:g.arrowRef,context:g.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(k=R.createElement(this.props.popperContainer,{},k)),h&&!o&&(k=F.createElement(LC,{portalId:h,portalHost:p},k));var _=ft("react-datepicker-wrapper",i);return F.createElement(F.Fragment,null,F.createElement("div",{ref:g.refs.setReference,className:_},l),k)},e}(R.Component),Qj=qj(Kj),xE="react-datepicker-ignore-onclickoutside";function Gj(n,e){return n&&e?Ct(n)!==Ct(e)||ae(n)!==ae(e):n!==e}var Gf="Date input not valid.",Xj=function(n){lt(e,n);function e(t){var r=n.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:_e()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,o){var a=new Date(o.date);return bh(a)?Wn(Wn([],s,!0),[me(me({},o),{date:a})],!1):s},[])},r.calcInitialState=function(){var i,s=r.getPreSelection(),o=NC(r.props),a=OC(r.props),l=o&&ws(s,Ic(o))?o:a&&bi(s,gE(a))?a:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:kE(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(me(me({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(me(me({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},r.setBlur=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,s){s===void 0&&(s=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Xf},function(){i||r.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Tr(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var s,o,a=r.state.wasHidden,l=a?r.state.open:!0;a&&r.resetHiddenStatus(),r.state.preventFocus||((o=(s=r.props).onFocus)===null||o===void 0||o.call(s,i),l&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var s,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(s=r.props).onBlur)===null||o===void 0||o.call(s,i)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var s,o;r.props.inline||r.setOpen(!1),(o=(s=r.props).onClickOutside)===null||o===void 0||o.call(s,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,s,o,a,l,c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];var h=c[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,c),!h||typeof h.isDefaultPrevented!="function"||h.isDefaultPrevented()))){r.setState({inputValue:(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:null,lastPreSelectChange:Jj});var p=r.props,g=p.selectsRange,w=p.startDate,k=p.endDate,C=(i=r.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,_=(s=r.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,y=(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:"";if(g){var E=y.split(C.includes("-")?bC:"-",2).map(function(b){return b.trim()}),x=E[0],M=E[1],V=qf(x??"",C,r.props.locale,_),I=qf(M??"",C,r.props.locale,_),v=(w==null?void 0:w.getTime())!==(V==null?void 0:V.getTime()),S=(k==null?void 0:k.getTime())!==(I==null?void 0:I.getTime());if(!v&&!S||V&&ln(V,r.props)||I&&ln(I,r.props))return;(a=(o=r.props).onChange)===null||a===void 0||a.call(o,[V,I],h)}else{var D=qf(y,C,r.props.locale,_,(l=r.props.selected)!==null&&l!==void 0?l:void 0);(D||!y)&&r.setSelected(D,h,!0)}}},r.handleSelect=function(i,s,o){if(!r.props.readOnly){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(i,s,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,c=a.endDate;l&&!c&&(r.props.swapRange||!PE(i,l))&&r.setOpen(!1)}}},r.setSelected=function(i,s,o,a){var l,c,d=i;if(r.props.showYearPicker){if(d!==null&&Cc(ae(d),r.props))return}else if(r.props.showMonthYearPicker){if(d!==null&&AC(d,r.props))return}else if(d!==null&&ln(d,r.props))return;var h=r.props,p=h.onChange,g=h.selectsRange,w=h.startDate,k=h.endDate,C=h.selectsMultiple,_=h.selectedDates,y=h.minTime,E=h.swapRange;if(!Zi(r.props.selected,d)||r.props.allowSameDay||g||C)if(d!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(d=Kf(d,{hour:Sr(r.props.selected),minute:kr(r.props.selected),second:yi(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&y&&(d=Kf(d,{hour:y.getHours(),minute:y.getMinutes(),second:y.getSeconds()})),r.props.inline||r.setState({preSelection:d}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),g){var x=!w&&!k,M=w&&!k,V=w&&k;x?p==null||p([d,null],s):M&&(d===null?p==null||p([null,null],s):PE(d,w)?E?p==null||p([d,w],s):p==null||p([d,null],s):p==null||p([w,d],s)),V&&(p==null||p([d,null],s))}else if(C){if(d!==null)if(!(_!=null&&_.length))p==null||p([d],s);else{var I=_.some(function(S){return pe(S,d)});if(I){var v=_.filter(function(S){return!pe(S,d)});p==null||p(v,s)}else p==null||p(Wn(Wn([],_,!0),[d],!1),s)}}else p==null||p(d,s);o||((c=(l=r.props).onSelect)===null||c===void 0||c.call(l,d,s),r.setState({inputValue:null}))},r.setPreSelection=function(i){if(!r.props.readOnly){var s=Tr(r.props.minDate),o=Tr(r.props.maxDate),a=!0;if(i){var l=Ic(i);if(s&&o)a=La(i,r.props.minDate,r.props.maxDate);else if(s){var c=Ic(r.props.minDate);a=bi(i,c)||Zi(l,c)}else if(o){var d=gE(r.props.maxDate);a=ws(i,d)||Zi(l,d)}}a&&r.setState({preSelection:i})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var s,o;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?i:Kf(a,{hour:Sr(i),minute:kr(i)});r.setState({preSelection:l}),(o=(s=r.props).onChange)===null||o===void 0||o.call(s,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(i=r.props).onInputClick)===null||s===void 0||s.call(i)},r.onInputKeyDown=function(i){var s,o,a,l,c,d;(o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i);var h=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(h===H.ArrowDown||h===H.ArrowUp||h===H.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(h===H.ArrowDown||h===H.ArrowUp){i.preventDefault();var p=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',g=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(p);g instanceof HTMLElement&&g.focus({preventScroll:!0});return}var w=_e(r.state.preSelection);h===H.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===Xf?(r.handleSelect(w,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(w)):r.setOpen(!1)):h===H.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):h===H.Tab&&r.setOpen(!1),r.inputOk()||(d=(c=r.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:Gf})}},r.onPortalKeyDown=function(i){var s=i.key;s===H.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var s,o,a,l,c,d,h=r.props,p=h.minDate,g=h.maxDate,w=h.disabledKeyboardNavigation,k=h.showWeekPicker,C=h.shouldCloseOnSelect,_=h.locale,y=h.calendarStartDay,E=h.adjustDateOnChange,x=h.inline;if((o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i),!w){var M=i.key,V=i.shiftKey,I=_e(r.state.preSelection),v=function(le,Z){var ne=Z;switch(le){case H.ArrowRight:ne=k?wd(Z,1):In(Z,1);break;case H.ArrowLeft:ne=k?rE(Z,1):EU(Z,1);break;case H.ArrowUp:ne=rE(Z,1);break;case H.ArrowDown:ne=wd(Z,1);break;case H.PageUp:ne=V?xo(Z,1):os(Z,1);break;case H.PageDown:ne=V?Er(Z,1):bn(Z,1);break;case H.Home:ne=vi(Z,_,y);break;case H.End:ne=uj(Z);break}return ne},S=function(le,Z){for(var ne=40,j=le,Q=!1,J=0,he=v(le,Z);!Q;){if(J>=ne){he=Z;break}p&&he<p&&(j=H.ArrowRight,he=ln(p,r.props)?v(j,he):p),g&&he>g&&(j=H.ArrowLeft,he=ln(g,r.props)?v(j,he):g),ln(he,r.props)?((j===H.PageUp||j===H.Home)&&(j=H.ArrowRight),(j===H.PageDown||j===H.End)&&(j=H.ArrowLeft),he=v(j,he)):Q=!0,J++}return he};if(M===H.Enter){i.preventDefault(),r.handleSelect(I,i),!C&&r.setPreSelection(I);return}else if(M===H.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(a=r.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:Gf});return}var D=null;switch(M){case H.ArrowLeft:case H.ArrowRight:case H.ArrowUp:case H.ArrowDown:case H.PageUp:case H.PageDown:case H.Home:case H.End:D=S(M,I);break}if(!D){(d=(c=r.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:Gf});return}if(i.preventDefault(),r.setState({lastPreSelectChange:Xf}),E&&r.setSelected(D),r.setPreSelection(D),x){var b=Ct(I),N=Ct(D),P=ae(I),se=ae(D);b!==N||P!==se?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var s=i.key;s===H.Escape&&(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var s=r.props,o=s.selectsRange,a=s.onChange;o?a==null||a([null,null],i):a==null||a(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,s;return!r.props.inline&&!r.isCalendarOpen()?null:F.createElement(Wj,me({showMonthYearDropdown:void 0,ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:Ej(r.modifyHolidays()),outsideClickIgnoreClass:xE,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,s=i.dateFormat,o=s===void 0?e.defaultProps.dateFormat:s,a=i.locale,l=r.props.showTimeInput||r.props.showTimeSelect,c=l?"PPPPp":"PPPP",d;return r.props.selectsRange?d="Selected start date: ".concat(rn(r.props.startDate,{dateFormat:c,locale:a}),". ").concat(r.props.endDate?"End date: "+rn(r.props.endDate,{dateFormat:c,locale:a}):""):r.props.showTimeSelectOnly?d="Selected time: ".concat(rn(r.props.selected,{dateFormat:o,locale:a})):r.props.showYearPicker?d="Selected year: ".concat(rn(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?d="Selected month: ".concat(rn(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?d="Selected quarter: ".concat(rn(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):d="Selected date: ".concat(rn(r.props.selected,{dateFormat:c,locale:a})),F.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},r.renderDateInput=function(){var i,s,o,a=ft(r.props.className,(i={},i[xE]=r.state.open,i)),l=r.props.customInput||F.createElement("input",{type:"text"}),c=r.props.customInputRef||"ref",d=r.props,h=d.dateFormat,p=h===void 0?e.defaultProps.dateFormat:h,g=d.locale,w=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?sj(r.props.startDate,r.props.endDate,{dateFormat:p,locale:g}):r.props.selectsMultiple?oj((o=r.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:p,locale:g}):rn(r.props.selected,{dateFormat:p,locale:g});return R.cloneElement(l,(s={},s[c]=function(k){r.input=k},s.value=w,s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=ft(l.props.className,a),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s["aria-describedby"]=r.props.ariaDescribedBy,s["aria-invalid"]=r.props.ariaInvalid,s["aria-labelledby"]=r.props.ariaLabelledBy,s["aria-required"]=r.props.ariaRequired,s))},r.renderClearButton=function(){var i=r.props,s=i.isClearable,o=i.disabled,a=i.selected,l=i.startDate,c=i.endDate,d=i.clearButtonTitle,h=i.clearButtonClassName,p=h===void 0?"":h,g=i.ariaLabelClose,w=g===void 0?"Close":g,k=i.selectedDates,C=i.readOnly;return s&&!C&&(a!=null||l!=null||c!=null||k!=null&&k.length)?F.createElement("button",{type:"button",className:ft("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":w,onClick:r.onClearClick,title:d,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Jl,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,r){var i,s,o,a;t.inline&&Gj(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:kE(this.props.highlightDates)}),!r.focused&&!Zi(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),r.open===!0&&this.state.open===!1&&((a=(o=this.props).onCalendarClose)===null||a===void 0||a.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,i=t.icon,s=t.calendarIconClassname,o=t.calendarIconClassName,a=t.toggleCalendarOnIconClick,l=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),F.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&F.createElement(Hj,me({icon:i,className:ft(o,!o&&s,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?F.createElement(VC,{enableTabLoop:this.props.enableTabLoop},F.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=F.createElement(LC,me({portalId:this.props.portalId},this.props),r)),F.createElement("div",null,this.renderInputContainer(),r)}return F.createElement(Qj,me({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(R.Component),Jj="input",Xf="navigate";function Zj(){const{user:n}=Ql(),[e,t]=R.useState(new Date),[r,i]=R.useState(""),[s,o]=R.useState([]);R.useEffect(()=>{if(!n)return;const l=AI(Il($n,"users",n.uid,"planner"),c=>{const d=[];c.forEach(h=>{const p=h.id,g=h.data();Array.isArray(g.tasks)&&g.tasks.forEach(w=>{d.push({date:p,title:w})})}),o(d)});return()=>l()},[n]);const a=async()=>{if(!e||r.trim()===""||!n)return;const l=e.toDateString(),c=Do($n,"users",n.uid,"planner",l);await bI(c,{tasks:$V(r)},{merge:!0}),i("")};return A.jsx("div",{className:"min-h-screen bg-cover bg-center p-6",style:{backgroundImage:"url('https://static.vecteezy.com/system/resources/previews/007/184/268/non_2x/calendar-and-caspia-flower-on-table-wooden-day-celebration-free-photo.jpg')"},children:A.jsxs("div",{className:"p-6 rounded-xl bg-white/80 backdrop-blur-md shadow-lg w-full max-w-2xl mx-auto",children:[A.jsx("h2",{className:"text-2xl font-bold mb-4 text-center text-gray-800",children:"📅 Weekly Planner"}),A.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[A.jsx(Xj,{selected:e,onChange:l=>t(l),className:"px-4 py-2 border rounded-md shadow"}),A.jsx("input",{type:"text",placeholder:"Enter task",value:r,onChange:l=>i(l.target.value),className:"flex-1 px-4 py-2 border rounded-md shadow"}),A.jsx("button",{onClick:a,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition",children:"Add Task"})]}),s.length>0?A.jsx("div",{className:"space-y-4",children:Array.from(new Set(s.map(l=>l.date))).map(l=>A.jsxs("div",{className:"bg-white p-4 rounded shadow backdrop-blur-md",children:[A.jsx("h3",{className:"font-semibold text-lg text-blue-700",children:l}),A.jsx("ul",{className:"list-disc list-inside text-gray-700 mt-2",children:s.filter(c=>c.date===l).map((c,d)=>A.jsx("li",{children:c.title},d))})]},l))}):A.jsx("p",{className:"text-gray-700 text-center",children:"No tasks added yet."})]})})}function ka({children:n}){const{user:e,loading:t}=Ql();return t?A.jsx("div",{children:"Loading..."}):e?n:A.jsx(zb,{to:"/login",replace:!0})}function e9(){const[n,e]=R.useState(""),[t,r]=R.useState(""),[i,s]=R.useState(""),o=Ol(),a=async l=>{l.preventDefault(),s("");try{await aO(Po,n,t),o("/pomodoro")}catch(c){s(c.message||"Login failed")}};return A.jsxs("div",{className:"min-h-screen bg-cover bg-center bg-no-repeat flex items-center justify-center px-4",style:{backgroundImage:"url('https://img.freepik.com/premium-photo/abstract-background-beautiful-close-up-image-wallpaper-ai-generated_859483-200869.jpg')"},children:[A.jsx("div",{className:"absolute inset-0 bg-black/40 z-0"}),A.jsxs("div",{className:"relative z-10 bg-white/90 backdrop-blur-md shadow-xl rounded-xl p-10 w-full max-w-md",children:[A.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Login to Your Dashboard"}),i&&A.jsx("p",{className:"mb-4 text-red-500 text-sm text-center",children:i}),A.jsxs("form",{onSubmit:a,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-gray-700 mb-1",children:"Email"}),A.jsx("input",{type:"email",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring focus:border-blue-400",value:n,onChange:l=>e(l.target.value),required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-gray-700 mb-1",children:"Password"}),A.jsx("input",{type:"password",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring focus:border-blue-400",value:t,onChange:l=>r(l.target.value),required:!0})]}),A.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg transition",children:"Login"})]}),A.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600",children:["Don’t have an account yet?"," ",A.jsx(En,{to:"/register",className:"text-blue-600 hover:underline font-medium",children:"Register here"})]}),A.jsx("div",{className:"mt-2 text-center text-sm",children:A.jsx(En,{to:"/forgot-password",className:"text-blue-500 hover:underline",children:"Forgot password?"})})]})]})}function t9(){const[n,e]=R.useState(""),[t,r]=R.useState(""),[i,s]=R.useState(""),o=Ol(),a=async()=>{try{await oO(Po,n,t),o("/")}catch(l){s(l.message)}};return A.jsx("div",{className:"min-h-screen flex flex-col justify-center items-center bg-gray-100 px-4",children:A.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[A.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Register"}),A.jsx("input",{type:"email",placeholder:"Email",className:"w-full p-2 border rounded mb-4",value:n,onChange:l=>e(l.target.value)}),A.jsx("input",{type:"password",placeholder:"Password",className:"w-full p-2 border rounded mb-4",value:t,onChange:l=>r(l.target.value)}),i&&A.jsx("p",{className:"text-red-500 text-sm mb-4",children:i}),A.jsx("button",{onClick:a,className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Register"}),A.jsxs("p",{className:"text-sm mt-4 text-center",children:["Already have an account?"," ",A.jsx(En,{to:"/login",className:"text-blue-500 hover:underline",children:"Login"})]})]})})}function n9(){const{user:n}=Ql(),[e,t]=R.useState([]),[r,i]=R.useState(0),[s,o]=R.useState(!0);R.useEffect(()=>{if(!n)return;(async()=>{try{const d=await FV(Il($n,"users",n.uid,"pomodoroLogs")),h=[];d.forEach(k=>{h.push(k.data())}),t(h);const p=new Date().toDateString(),w=h.filter(k=>k.date===p).reduce((k,C)=>k+C.duration,0);i(w)}catch(d){console.error("Failed to fetch stats:",d)}finally{o(!1)}})()},[n]);const a=e.length,l=e.reduce((c,d)=>c+d.duration,0);return s?A.jsx("div",{className:"p-6 text-gray-100 bg-black/30 min-h-screen flex justify-center items-center",children:"Loading stats..."}):A.jsx("div",{className:"min-h-screen bg-cover bg-center p-6",style:{backgroundImage:"url('https://tse3.mm.bing.net/th/id/OIP.-JKsyNyx4iA8TiqgeyBNrAHaEK?rs=1&pid=ImgDetMain&o=7&rm=3')"},children:A.jsxs("div",{className:"max-w-4xl mx-auto bg-white/80 backdrop-blur-md p-8 rounded-xl shadow-lg",children:[A.jsx("h2",{className:"text-3xl font-bold mb-8 text-center text-gray-800",children:"📊 Focus Stats"}),A.jsxs("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[A.jsxs("div",{className:"bg-blue-100 p-6 rounded shadow text-center",children:[A.jsx("h3",{className:"text-lg font-semibold",children:"Today’s Focus"}),A.jsxs("p",{className:"text-2xl font-mono text-blue-900",children:[r," mins"]})]}),A.jsxs("div",{className:"bg-green-100 p-6 rounded shadow text-center",children:[A.jsx("h3",{className:"text-lg font-semibold",children:"Total Sessions"}),A.jsx("p",{className:"text-2xl font-mono text-green-900",children:a})]}),A.jsxs("div",{className:"bg-yellow-100 p-6 rounded shadow text-center",children:[A.jsx("h3",{className:"text-lg font-semibold",children:"Total Focus Time"}),A.jsxs("p",{className:"text-2xl font-mono text-yellow-900",children:[l," mins"]})]})]})]})})}function r9(){const n=Po.currentUser,[e,t]=R.useState(""),[r,i]=R.useState(null),[s,o]=R.useState(!1),a=async()=>{if(!n)return;o(!0);let l=n.photoURL;if(r){const d=JF(i4,`avatars/${n.uid}`);await GF(d,r),l=await XF(d)}const c=Do($n,"users",n.uid);await bI(c,{name:e,photoURL:l}),await uO(n,{displayName:e,photoURL:l}),alert("✅ Profile saved!"),o(!1)};return A.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center px-4",style:{backgroundImage:"url('https://cdn.pixabay.com/animation/2022/12/05/10/47/10-47-58-930_512.gif')"},children:A.jsxs("div",{className:"w-full max-w-md p-6 bg-white/80 backdrop-blur-md rounded-xl shadow-lg",children:[A.jsx("h2",{className:"text-2xl font-bold mb-4 text-center text-gray-800",children:"👤 Profile Settings"}),A.jsxs("div",{className:"flex flex-col gap-4",children:[A.jsx("input",{type:"text",placeholder:"Your Name",value:e,onChange:l=>t(l.target.value),className:"border p-2 rounded"}),A.jsx("input",{type:"file",accept:"image/*",onChange:l=>{var c;return i(((c=l.target.files)==null?void 0:c[0])||null)},className:"border p-2 rounded"}),A.jsx("button",{onClick:a,disabled:s,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition",children:s?"Saving...":"Save Profile"})]})]})})}function FC(){return A.jsx(vx,{children:A.jsxs(qb,{children:[A.jsx(cr,{path:"/",element:A.jsx(f4,{})}),A.jsx(cr,{path:"/login",element:A.jsx(e9,{})}),A.jsx(cr,{path:"/register",element:A.jsx(t9,{})}),A.jsx(cr,{path:"/pomodoro",element:A.jsx(ka,{children:A.jsxs("div",{className:"flex",children:[A.jsx(_a,{}),A.jsx("main",{className:"ml-64 w-full min-h-screen bg-[#f4f5f7] p-6",children:A.jsx(m4,{})})]})})}),A.jsx(cr,{path:"/tasks",element:A.jsx(ka,{children:A.jsxs("div",{className:"flex",children:[A.jsx(_a,{}),A.jsx("main",{className:"ml-64 w-full min-h-screen bg-[#f4f5f7] p-6",children:A.jsx(g4,{})})]})})}),A.jsx(cr,{path:"/planner",element:A.jsx(ka,{children:A.jsxs("div",{className:"flex",children:[A.jsx(_a,{}),A.jsx("main",{className:"ml-64 w-full min-h-screen bg-[#f4f5f7] p-6",children:A.jsx(Zj,{})})]})})}),A.jsx(cr,{path:"/stats",element:A.jsx(ka,{children:A.jsxs("div",{className:"flex",children:[A.jsx(_a,{}),A.jsx("main",{className:"ml-64 w-full min-h-screen bg-[#f4f5f7] p-6",children:A.jsx(n9,{})})]})})}),A.jsx(cr,{path:"/profile",element:A.jsx(ka,{children:A.jsxs("div",{className:"flex",children:[A.jsx(_a,{}),A.jsx("main",{className:"ml-64 w-full min-h-screen bg-[#f4f5f7] p-6",children:A.jsx(r9,{})})]})})})]})})}Dc.createRoot(document.getElementById("root")).render(A.jsx(F.StrictMode,{children:A.jsx(FC,{})}));Dc.createRoot(document.getElementById("root")).render(A.jsx(F.StrictMode,{children:A.jsx(p4,{children:A.jsx(FC,{})})}));
